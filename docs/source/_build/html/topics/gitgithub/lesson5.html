

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lesson 5 &mdash; documentación de DevTechs - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="GNU/Linux" href="../gnulinux/_gnulinux.html" />
    <link rel="prev" title="Lesson 4" href="lesson4.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> DevTechs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ansible/_ansible.html">Ansible</a></li>
</ul>
<p class="caption"><span class="caption-text">Git &amp; GitHub</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="_gitgithub.html">Git y GitHub</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="gitgithub-lessons.html">Git &amp; GitHub Lessons</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lesson1.html">Lesson 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson2.html">Lesson 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson3.html">Lesson 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson4.html">Lesson 4</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Lesson 5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introducing-branching">Introducing Branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#merging-a-branch">Merging a branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-fast-forward-merge">Creating a fast forward merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#introducing-recursives-merges">Introducing recursives merges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-fast-forward-recursive-merges">“No fast forward” recursive merges</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">GNU/Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gnulinux/_gnulinux.html">GNU/Linux</a></li>
</ul>
<p class="caption"><span class="caption-text">Markdown</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../markdown/_markdown.html">Markdown</a></li>
</ul>
<p class="caption"><span class="caption-text">OpenStack</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openstack/_openstack.html">OpenStack</a></li>
</ul>
<p class="caption"><span class="caption-text">PXE &amp; Kickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pxekickstart/_pxekickstart.html">PXE &amp; Kickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/_python.html">Python</a></li>
</ul>
<p class="caption"><span class="caption-text">SDN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sdn/_sdn.html">SDN</a></li>
</ul>
<p class="caption"><span class="caption-text">Virtualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../virtualization/_virtualization.html">Virtualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web/_web.html">Web</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DevTechs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="gitgithub-lessons.html">Git &amp; GitHub Lessons</a> &raquo;</li>
        
      <li>Lesson 5</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/topics/gitgithub/lesson5.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lesson-5">
<h1><a class="toc-backref" href="#id1">Lesson 5</a><a class="headerlink" href="#lesson-5" title="Enlazar permanentemente con este título">¶</a></h1>
<p><em>Lesson 5: Branching, Merging, Rebasing</em></p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#lesson-5" id="id1">Lesson 5</a><ul>
<li><a class="reference internal" href="#introducing-branching" id="id2">Introducing Branching</a></li>
<li><a class="reference internal" href="#merging-a-branch" id="id3">Merging a branch</a></li>
<li><a class="reference internal" href="#creating-a-fast-forward-merge" id="id4">Creating a fast forward merge</a></li>
<li><a class="reference internal" href="#introducing-recursives-merges" id="id5">Introducing recursives merges</a></li>
<li><a class="reference internal" href="#no-fast-forward-recursive-merges" id="id6">“No fast forward” recursive merges</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introducing-branching">
<h2><a class="toc-backref" href="#id2">Introducing Branching</a><a class="headerlink" href="#introducing-branching" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El propósito de un «<strong>branch</strong>» es permitirnos crear una línea independiente de trabajo. Trabajar con «branches» en Git es de forma local. Si chequear otro branch toma más de medio segundo o más, algo está mal probablemente, ya que, es una operación local.</p>
<p>Veamos «branches» en Git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch
* master
</pre></div>
</div>
<p>Esto nos muestra que solo tenemos el «branch» por defecto, llamado <code class="docutils literal notranslate"><span class="pre">master</span></code>. En Github podemos establecer otro «branches» como nuestro «branch» por defecto.</p>
<p>Generalmente el flujo de trabajo en Git es crear «<strong>feature branches</strong>» cada vez que creamos una nueva característica. Imaginemos que agregamos una característica de buscado a nuestra página web:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch search

$ git branch
* master
search
</pre></div>
</div>
<p>Hemos creado un nuevo «branch» llamdo <code class="docutils literal notranslate"><span class="pre">search</span></code>. Podemos cambiar de «branch» con el siguiente comando:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout search
Switched to branch <span class="s1">&#39;search&#39;</span>

$ git branch
master
* search
</pre></div>
</div>
<p>El color verde del nombre del «branch» y el asterisco a su costado nos dice que ahora  estamos en el branch <code class="docutils literal notranslate"><span class="pre">search</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch search.html search.css

$ git add .

$ git commit -m <span class="s2">&quot;Added search page&quot;</span>
<span class="o">[</span>search 54f68cb<span class="o">]</span> Added search page
<span class="m">2</span> files changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> search.css
create mode <span class="m">100644</span> search.html
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Hemos creado un <code class="docutils literal notranslate"><span class="pre">commit</span></code> que solo existe en el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code>.</p>
</div>
<p>Si corremos el alias de log creado anteriormente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* 54f68cb <span class="o">(</span>HEAD -&gt; search<span class="o">)</span> Added search page
* c8ee367 <span class="o">(</span>master<span class="o">)</span> Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Debemos leer el log desde abajo hacia arriba.</p>
</div>
<p>La primera línea del log nos dice que estamos en el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code> (<code class="docutils literal notranslate"><span class="pre">HEAD</span> <span class="pre">-&gt;</span> <span class="pre">search</span></code>). <code class="docutils literal notranslate"><span class="pre">4388cdf</span> <span class="pre">(origin/master)</span> <span class="pre">Added</span> <span class="pre">contact</span> <span class="pre">us</span> <span class="pre">page</span></code> es la última vez que hicimos <code class="docutils literal notranslate"><span class="pre">push</span></code> hacia el servidor <code class="docutils literal notranslate"><span class="pre">origin</span></code> a Github.</p>
<p>Las cosas que tenemos en el directorio de trabajo actual (<code class="docutils literal notranslate"><span class="pre">HEAD</span></code>) es la punta del «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code>. Y si listamos los archivos veremos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ls
about.css   home.css  search.css   special.log
about.html  home.htm  search.html  test.log
</pre></div>
</div>
<p>Si cambiamos de «branch» a <code class="docutils literal notranslate"><span class="pre">master</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout master
Switched to branch <span class="s1">&#39;master&#39;</span>
Your branch is ahead of <span class="s1">&#39;origin/master&#39;</span> by <span class="m">7</span> commits.
<span class="o">(</span>use <span class="s2">&quot;git push&quot;</span> to publish your <span class="nb">local</span> commits<span class="o">)</span>
user@hostname:~/Documents/app1$ ls
</pre></div>
</div>
<p>Si vemos el directorio, habrá dos archivos menos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ls
about.css  about.html  home.css  home.htm  special.log  test.log
</pre></div>
</div>
<p>En el log veremos lo siguiente:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* 54f68cb <span class="o">(</span>search<span class="o">)</span> Added search page
* c8ee367 <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>El log nos dice que estamos en el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> como indica el texto <code class="docutils literal notranslate"><span class="pre">(HEAD,</span> <span class="pre">master)</span></code>. Además, todo lo que está encima de esta línea no ha ocurrido aún en la historia. Es como si hubiésemos retrocedido en el tiempo o ido u otra línea de historia. Para nosotros todavía no ha ocurrido el trabajo en el «branch» <code class="docutils literal notranslate"><span class="pre">serarch</span></code>.</p>
<p>Gracias a esto, distintos desarrolladores pueden trabajar al mismo tiempo, sobre diferentes características y luego solo unirlas en <code class="docutils literal notranslate"><span class="pre">master</span></code> cuando esté listo para poner el trabajo en producción.</p>
</div>
<div class="section" id="merging-a-branch">
<h2><a class="toc-backref" href="#id3">Merging a branch</a><a class="headerlink" href="#merging-a-branch" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Imaginemos que hemos acabado con la página <code class="docutils literal notranslate"><span class="pre">search</span></code>. Ahora lo que debemos hacer es traer de vuelta el trabajo al «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout master
Already on <span class="s1">&#39;master&#39;</span>
Your branch is ahead of <span class="s1">&#39;origin/master&#39;</span> by <span class="m">7</span> commits.
<span class="o">(</span>use <span class="s2">&quot;git push&quot;</span> to publish your <span class="nb">local</span> commits<span class="o">)</span>

$ git merge search
Updating c8ee367..54f68cb
Fast-forward
search.css  <span class="p">|</span> <span class="m">0</span>
search.html <span class="p">|</span> <span class="m">0</span>
<span class="m">2</span> files changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> search.css
create mode <span class="m">100644</span> search.html
</pre></div>
</div>
<p>Este comando traerá el trabajo que hemos hecho en el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code> al «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>. Y ahora que vemos el directorio de trabajo del «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> tendrá los archivos creados por el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ls
about.css   home.css  search.css   special.log
about.html  home.htm  search.html  test.log
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* 54f68cb <span class="o">(</span>HEAD -&gt; master, search<span class="o">)</span> Added search page
* c8ee367 Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>El log nos muestra que el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> ha ido «fast forward». Este es el tipo de «merge» que se ha realizado. Tanto el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code> como <code class="docutils literal notranslate"><span class="pre">master</span></code> tienen el mismo ID de <code class="docutils literal notranslate"><span class="pre">commit</span></code>. Es decir, ambos tienen integrada la funcionalidad de <code class="docutils literal notranslate"><span class="pre">search</span></code>.</p>
<p>Una vez que hemos unido el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code> al «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> ya no necesitamos más al «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code>. Por lo que podemos eliminarlo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch -d search
Deleted branch search <span class="o">(</span>was 54f68cb<span class="o">)</span>.

$ git branch
* master

$ git lg
* 54f68cb <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Added search page
* c8ee367 Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>Eliminar el «branch» <code class="docutils literal notranslate"><span class="pre">search</span></code> no significa eliminar los archivos o <code class="docutils literal notranslate"><span class="pre">commits</span></code> que pasaron en ese «branch» solo eliminamos la etiqueta <code class="docutils literal notranslate"><span class="pre">search</span></code> del output del log.</p>
</div>
<div class="section" id="creating-a-fast-forward-merge">
<h2><a class="toc-backref" href="#id4">Creating a fast forward merge</a><a class="headerlink" href="#creating-a-fast-forward-merge" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Hay 2 tipos de «<strong>merge</strong>» que Git hará usualmente, aunque existen más: <strong>fast forward</strong> y <strong>recursive</strong>. Veremos estos dos tipos de «merge» y cómo o cuándo usarlos.</p>
<ul class="simple">
<li><strong>Fast forward merge</strong>:</li>
</ul>
<p>La última vez usamos <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">{new_branch}</span></code> para crear un nuevo «branch» y luego <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">{new_branch}</span></code> para cambiar al «branch» creado. Una opción para hacer los dos comandos al mismo tiempo es usar:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout -b categories
Switched to a new branch <span class="s1">&#39;categories&#39;</span>

$ git branch
* categories
master
</pre></div>
</div>
<p>Este comando ha creado un nuevo «branch» llamado <code class="docutils literal notranslate"><span class="pre">categories</span></code> y ha hecho «checkout» a ese «branch» automáticamente (es decir, hemos cambiado a ese «branch»).</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Buena práctica: crear un nuevo «branch» solo cuando se necesite. No crear varios «branch» que no serán usados próximamente.</p>
</div>
<p>Creemos un archivo de prueba y hagamos un <code class="docutils literal notranslate"><span class="pre">commit</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch categories.html

$ git add .

$ git commit -m <span class="s2">&quot;Added categories page&quot;</span>
<span class="o">[</span>categories e92fcca<span class="o">]</span> Added categories page
<span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> categories.html
</pre></div>
</div>
<p>Digamos que paralelamente otros estaban trabajando en otro «branch»:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout master
Switched to branch <span class="s1">&#39;master&#39;</span>
Your branch is ahead of <span class="s1">&#39;origin/master&#39;</span> by <span class="m">8</span> commits.
<span class="o">(</span>use <span class="s2">&quot;git push&quot;</span> to publish your <span class="nb">local</span> commits<span class="o">)</span>

$ git checkout -b products
Switched to a new branch <span class="s1">&#39;products&#39;</span>
</pre></div>
</div>
<p>Para crear un nuevo «branch» hemos partido del «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> pues lo estamos tomando como punto inicial.</p>
<p>En ese branch crearemos archivos de prueba:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch products.html

$ git add .

$ git commit -m <span class="s2">&quot;Added products page&quot;</span>
<span class="o">[</span>products e0b254d<span class="o">]</span> Added products page
<span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> products.html
</pre></div>
</div>
<p>Veamos el log:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* e0b254d <span class="o">(</span>HEAD -&gt; products<span class="o">)</span> Added products page
<span class="p">|</span> * e92fcca <span class="o">(</span>categories<span class="o">)</span> Added categories page
<span class="p">|</span>/
* 54f68cb <span class="o">(</span>master<span class="o">)</span> Added search page
* c8ee367 Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>Interpretemos el log:</p>
<ul class="simple">
<li>Vemos gráficamente que existe una división del ID <code class="docutils literal notranslate"><span class="pre">54f68cb</span></code> en dos partes: <code class="docutils literal notranslate"><span class="pre">e92fcca</span></code> y <code class="docutils literal notranslate"><span class="pre">e0b254d</span></code>.</li>
<li>A los 3 primeros <code class="docutils literal notranslate"><span class="pre">commits</span></code> se le han hecho <code class="docutils literal notranslate"><span class="pre">push</span></code> a Github. Las líneas de arriban indican <code class="docutils literal notranslate"><span class="pre">commits</span></code> que solo se han hecho localmente en el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>.</li>
<li>Y en las últimas 2 líneas vemos otros 2 <code class="docutils literal notranslate"><span class="pre">commits</span></code>: uno en la «branch» <code class="docutils literal notranslate"><span class="pre">categories</span></code> y el otro en el «branch» <code class="docutils literal notranslate"><span class="pre">products</span></code>.</li>
</ul>
<p>Cuando decidamos que hemos acabado con el desarrollo de <code class="docutils literal notranslate"><span class="pre">products</span></code> debemos unirlo («merge») con el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>. Podemos hacerlo haciendo un «<strong>fast forward merge</strong>».</p>
<p>Hacemos <code class="docutils literal notranslate"><span class="pre">checkout</span></code> al «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> y hacemos «merge» del «branch» <code class="docutils literal notranslate"><span class="pre">products</span></code>. Por defecto se hará un <strong>«merge»  tipo Fast-forward</strong>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout master
Switched to branch <span class="s1">&#39;master&#39;</span>
Your branch is ahead of <span class="s1">&#39;origin/master&#39;</span> by <span class="m">8</span> commits.
<span class="o">(</span>use <span class="s2">&quot;git push&quot;</span> to publish your <span class="nb">local</span> commits<span class="o">)</span>

$ git merge products
Updating 54f68cb..e0b254d
Fast-forward
products.html <span class="p">|</span> <span class="m">0</span>
<span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> products.html
</pre></div>
</div>
<p>Como indica el output, se ha realizado un «merge» tipo fast forward. Y el log:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* e0b254d <span class="o">(</span>HEAD -&gt; master, products<span class="o">)</span> Added products page
<span class="p">|</span> * e92fcca <span class="o">(</span>categories<span class="o">)</span> Added categories page
<span class="p">|</span>/
* 54f68cb Added search page
* c8ee367 Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>En la primera línea vemos que el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> ha saltado hacia adelante («fast forward»), hacia el <code class="docutils literal notranslate"><span class="pre">commit</span></code> de ID <code class="docutils literal notranslate"><span class="pre">e0b254d</span></code>. Es decir, se ha añadido el <code class="docutils literal notranslate"><span class="pre">commit</span></code> hecho en el «branch» <code class="docutils literal notranslate"><span class="pre">products</span></code> como si fuera parte del «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<p>Eliminamos el «branch» <code class="docutils literal notranslate"><span class="pre">products</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch -d products
Deleted branch products <span class="o">(</span>was e0b254d<span class="o">)</span>.
</pre></div>
</div>
</div>
<div class="section" id="introducing-recursives-merges">
<h2><a class="toc-backref" href="#id5">Introducing recursives merges</a><a class="headerlink" href="#introducing-recursives-merges" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><strong>Recursive merge</strong>:</li>
</ul>
<p>La razón por la cual pudimos hacer un «merge» <code class="docutils literal notranslate"><span class="pre">fast</span> <span class="pre">forward</span></code> fue porque no había diferencia en historia. Se puede pretender que los <code class="docutils literal notranslate"><span class="pre">commits</span></code> se hicieron directamente el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>, ya que, no habían cambios en este «branch».</p>
<p>En el log actual:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* e0b254d <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Added products page
<span class="p">|</span> * e92fcca <span class="o">(</span>categories<span class="o">)</span> Added categories page
<span class="p">|</span>/
* 54f68cb Added search page
* c8ee367 Adding special log to show how log output should look
* <span class="m">1691860</span> Modified gitignore to allow special log to be committed
* 3c8e5e3 Added log files to .gitignore
* f1ebec7 Deleted stylesheet <span class="k">for</span> contact us page
* 4702c3a Deleted contact us page
* 40afaa5 Renamed stylesheet <span class="k">for</span> the home page
* 57e910e Renamed home page to follow corporate guidelines
* 4388cdf <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* aa2d60c Added about us page
* 49ab535 Added home page
</pre></div>
</div>
<p>Vemos que tenemos diferencias en historial de los «branches» <code class="docutils literal notranslate"><span class="pre">master</span></code> y <code class="docutils literal notranslate"><span class="pre">categories</span></code>. El «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> tiene un <code class="docutils literal notranslate"><span class="pre">commit</span></code> que <code class="docutils literal notranslate"><span class="pre">categories</span></code> no tiene (<code class="docutils literal notranslate"><span class="pre">e0b254d</span></code>) y <code class="docutils literal notranslate"><span class="pre">categories</span></code> tiene un <code class="docutils literal notranslate"><span class="pre">commit</span></code> que <code class="docutils literal notranslate"><span class="pre">master</span></code> no tiene (<code class="docutils literal notranslate"><span class="pre">e92fcca</span></code>).</p>
<p>Para resolver esto, Git tendrá que hacer un «<strong>recursive merge</strong>» , que juntará dos líneas de historia distintas y creará un nuevo <code class="docutils literal notranslate"><span class="pre">commit</span></code> que unirá esos 2 trabajos.</p>
<p>Primero comprobemos que estamos en el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch
categories
* master
</pre></div>
</div>
<p>Luego ejecutar el comando <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code>. Este comando nos retorna a un editor de texto como <code class="docutils literal notranslate"><span class="pre">nano</span></code> donde podemos personalizar el mensaje de <code class="docutils literal notranslate"><span class="pre">commit</span></code>. Salir del editor y ver el resultado del «merge»:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git merge categories

Merge made by the <span class="s1">&#39;recursive&#39;</span> strategy.
categories.html <span class="p">|</span> <span class="m">0</span>
<span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
create mode <span class="m">100644</span> categories.html
</pre></div>
</div>
<p>En el log veremos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
*   <span class="m">3662531</span> <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Merge branch <span class="s1">&#39;categories&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 44409c8 <span class="o">(</span>categories<span class="o">)</span> Added categories page
* <span class="p">|</span> 7c5c668 Added products page
<span class="p">|</span>/
* 564baf7 Added search page
* d71267c Adding special log to show how log output should look
* 01f02ee Modified gitignore to allow special log to be committed
* 1b59604 Added log files to .gitignore
* ced7c37 Deleted stylesheet <span class="k">for</span> contact us page
* ffaef7d Deleted contact us page
* 48b8639 Renamed stylesheet <span class="k">for</span> the home page
* faf6cf4 Renamed home page to follow corporate guidelines
* 6c2ab19 <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* 49bfaa2 Added about us page
* eaeaa56 Added home page
</pre></div>
</div>
<p>Como vemos en el <code class="docutils literal notranslate"><span class="pre">commit</span></code> más reciente notamos que se ha hecho un «merge» los cambios hechos en el «branch» <code class="docutils literal notranslate"><span class="pre">master</span></code> con los hechos en el «branch» <code class="docutils literal notranslate"><span class="pre">categories</span></code>.</p>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">La regla de oro es que si tenemos dos «branches» distintos que tienen al menos un <code class="docutils literal notranslate"><span class="pre">commit</span></code> en cada uno, tendremos que hacer un «<strong>recursive merge</strong>».</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Los «recursive merge» nos dan más información en el log que los «fast forward merge». Viendo el log podemos ver los <code class="docutils literal notranslate"><span class="pre">commits</span></code> realizados en un «branch» distinto al branch <code class="docutils literal notranslate"><span class="pre">master</span></code> en el caso del «recursive merge».</p>
</div>
</div>
<div class="section" id="no-fast-forward-recursive-merges">
<h2><a class="toc-backref" href="#id6">“No fast forward” recursive merges</a><a class="headerlink" href="#no-fast-forward-recursive-merges" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Esta idea de agregar la página de <code class="docutils literal notranslate"><span class="pre">products</span></code> en un lado y la página de <code class="docutils literal notranslate"><span class="pre">categories</span></code> en otra puede resultar confuso. Veremos una forma de realizar «fast forward merges» pero sin la complejidad de ver registros en diferentes tiempos.</p>
<p>Primero eliminar el branch <code class="docutils literal notranslate"><span class="pre">categories</span></code> y luego usar el «<strong>no fast forward</strong>» para crear un «recursive mersh».</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch -d categories
Deleted branch categories <span class="o">(</span>was 44409c8<span class="o">)</span>.

$ git lg
*   <span class="m">3662531</span> <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Merge branch <span class="s1">&#39;categories&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 44409c8 Added categories page
* <span class="p">|</span> 7c5c668 Added products page
<span class="p">|</span>/
* 564baf7 Added search page
* d71267c Adding special log to show how log output should look
* 01f02ee Modified gitignore to allow special log to be committed
* 1b59604 Added log files to .gitignore
* ced7c37 Deleted stylesheet <span class="k">for</span> contact us page
* ffaef7d Deleted contact us page
* 48b8639 Renamed stylesheet <span class="k">for</span> the home page
* faf6cf4 Renamed home page to follow corporate guidelines
* 6c2ab19 <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* 49bfaa2 Added about us page
* eaeaa56 Added home page
</pre></div>
</div>
<p>Ahora creemos una página <code class="docutils literal notranslate"><span class="pre">my_account</span></code> con un nuevo «branch» y realicemos algunos <code class="docutils literal notranslate"><span class="pre">commits</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git checkout -b my_account
Switched to a new branch <span class="s1">&#39;my_account&#39;</span>

$ touch account.html
$ git add .
$ git commit -m <span class="s2">&quot;Added my_account page&quot;</span>
<span class="o">[</span>my_account 33d2f6e<span class="o">]</span> Added my_account page
 <span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
 create mode <span class="m">100644</span> account.html

$ touch account.css
$ git add .
$ git commit -m <span class="s2">&quot;Styled my_account page&quot;</span>
<span class="o">[</span>my_account 0c3519b<span class="o">]</span> Styled my_account page
 <span class="m">1</span> file changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
 create mode <span class="m">100644</span> account.css
</pre></div>
</div>
<p>Tenemos un historial parecido al anterior:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
* 0c3519b <span class="o">(</span>HEAD -&gt; my_account<span class="o">)</span> Styled my_account page
* 33d2f6e Added my_account page
*   <span class="m">3662531</span> <span class="o">(</span>master<span class="o">)</span> Merge branch <span class="s1">&#39;categories&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 44409c8 Added categories page
* <span class="p">|</span> 7c5c668 Added products page
<span class="p">|</span>/
* 564baf7 Added search page
* d71267c Adding special log to show how log output should look
* 01f02ee Modified gitignore to allow special log to be committed
* 1b59604 Added log files to .gitignore
* ced7c37 Deleted stylesheet <span class="k">for</span> contact us page
* ffaef7d Deleted contact us page
* 48b8639 Renamed stylesheet <span class="k">for</span> the home page
* faf6cf4 Renamed home page to follow corporate guidelines
* 6c2ab19 <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* 49bfaa2 Added about us page
* eaeaa56 Added home page
</pre></div>
</div>
<p>Podemos ver los últimos 2 <code class="docutils literal notranslate"><span class="pre">commits</span></code> que solo pertenecen al branch <code class="docutils literal notranslate"><span class="pre">my_account</span></code>.</p>
<p>Cuando hayamos acabado con la sección <code class="docutils literal notranslate"><span class="pre">my_account</span></code> podríamos hacer un «merge» con el branch <code class="docutils literal notranslate"><span class="pre">master</span></code> y por defecto hará un «fast forward merge», pues no existen <code class="docutils literal notranslate"><span class="pre">commits</span></code> en <code class="docutils literal notranslate"><span class="pre">master</span></code> que no formen parte del historial del branch <code class="docutils literal notranslate"><span class="pre">my_account</span></code>.</p>
<p>Sin embargo, queremos esa información adicional que nos indique que esos dos <code class="docutils literal notranslate"><span class="pre">commits</span></code> fueron realizados juntos como parte de un mismo «branch». Para lograr esto ejecutamos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git merge --no-ff my_account

Merge branch <span class="s1">&#39;my_account&#39;</span>
</pre></div>
</div>
<p>La opción <code class="docutils literal notranslate"><span class="pre">--no-ff</span></code> significa «no fast forward» nos permite decirle a Git que preserve la información adicional de los <code class="docutils literal notranslate"><span class="pre">commits</span></code> realizados en el «branch». Git puede pretender que estos <code class="docutils literal notranslate"><span class="pre">commits</span></code> se realizaron el <code class="docutils literal notranslate"><span class="pre">master</span></code> porque no han habido otros cambios, pero le decimos que no lo haga.</p>
<p>Este comando nos retorna a un editor de texto, pues si no es un «fast forward merge», será un «recursive merge», es decir, se necesita un <code class="docutils literal notranslate"><span class="pre">commit</span></code> para juntar el historial.</p>
<p>Veamos el log:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git lg
*   777cd1a <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Merge branch <span class="s1">&#39;my_account&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 0c3519b <span class="o">(</span>my_account<span class="o">)</span> Styled my_account page
<span class="p">|</span> * 33d2f6e Added my_account page
<span class="p">|</span>/
*   <span class="m">3662531</span> Merge branch <span class="s1">&#39;categories&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 44409c8 Added categories page
* <span class="p">|</span> 7c5c668 Added products page
<span class="p">|</span>/
* 564baf7 Added search page
* d71267c Adding special log to show how log output should look
* 01f02ee Modified gitignore to allow special log to be committed
* 1b59604 Added log files to .gitignore
* ced7c37 Deleted stylesheet <span class="k">for</span> contact us page
* ffaef7d Deleted contact us page
* 48b8639 Renamed stylesheet <span class="k">for</span> the home page
* faf6cf4 Renamed home page to follow corporate guidelines
* 6c2ab19 <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* 49bfaa2 Added about us page
* eaeaa56 Added home page
</pre></div>
</div>
<p>Al ver el log notamos que los <code class="docutils literal notranslate"><span class="pre">commits</span></code> con ID <code class="docutils literal notranslate"><span class="pre">0c3519b</span></code> y <code class="docutils literal notranslate"><span class="pre">33d2f6e</span></code> se realizaron juntos bajo un mismo «branch», aún cuando eliminemos el «branch»:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git branch -d my_account
Deleted branch my_account <span class="o">(</span>was 0c3519b<span class="o">)</span>.

$ git lg
*   777cd1a <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> Merge branch <span class="s1">&#39;my_account&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="hll"><span class="p">|</span> * 0c3519b Styled my_account page
</span><span class="hll"><span class="p">|</span> * 33d2f6e Added my_account page
</span><span class="p">|</span>/
*   <span class="m">3662531</span> Merge branch <span class="s1">&#39;categories&#39;</span>
<span class="p">|</span><span class="se">\</span>
<span class="p">|</span> * 44409c8 Added categories page
* <span class="p">|</span> 7c5c668 Added products page
<span class="p">|</span>/
* 564baf7 Added search page
* d71267c Adding special log to show how log output should look
* 01f02ee Modified gitignore to allow special log to be committed
* 1b59604 Added log files to .gitignore
* ced7c37 Deleted stylesheet <span class="k">for</span> contact us page
* ffaef7d Deleted contact us page
* 48b8639 Renamed stylesheet <span class="k">for</span> the home page
* faf6cf4 Renamed home page to follow corporate guidelines
* 6c2ab19 <span class="o">(</span>origin/master<span class="o">)</span> Added contact us page
* 49bfaa2 Added about us page
* eaeaa56 Added home page
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../gnulinux/_gnulinux.html" class="btn btn-neutral float-right" title="GNU/Linux" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lesson4.html" class="btn btn-neutral float-left" title="Lesson 4" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gabriel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>