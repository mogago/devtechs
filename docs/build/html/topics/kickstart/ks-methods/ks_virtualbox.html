

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kickstart Methods - usando Virtualbox &mdash; documentación de DevTechs - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="Kickstart Templates" href="../ks-templates/_ks-templates.html" />
    <link rel="prev" title="Kickstart Methods" href="_ks-methods.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> DevTechs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/_ansible.html">Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/ansible-essentials/_ansible-essentials.html">Ansible Essentials</a></li>
</ul>
<p class="caption"><span class="caption-text">Git &amp; GitHub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/_gitgithub.html">Git y GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/gitgithub-lessons.html">Git &amp; GitHub Lessons</a></li>
</ul>
<p class="caption"><span class="caption-text">GNU/Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/_gnulinux.html">GNU/Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ssh.html">SSH (Secure SHell)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/user-management.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/new-disk-dd.html">Creando una imagen de disco con <code class="docutils literal notranslate"><span class="pre">dd</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/archlinux/_archlinux.html">ArchLinux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ubuntu/_ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/linux-fundamentals/_linux-fundamentals.html">Linux Fundamentals (Sander van Vugt)</a></li>
</ul>
<p class="caption"><span class="caption-text">Kickstart</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_kickstart.html">Kickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_ks-methods.html">Kickstart Methods</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Kickstart Methods - usando Virtualbox</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creacion-de-vm-en-virtualbox">Creación de VM en VirtualBox</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuracion-de-vm-en-virtualbox">Configuración de VM en VirtualBox</a></li>
<li class="toctree-l3"><a class="reference internal" href="#formas-de-pasar-el-archivo-kickstart">Formas de pasar el archivo kickstart</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#archivo-kickstart-pasado-por-http">Archivo Kickstart pasado por HTTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#archivo-kickstart-pasado-por-el-mismo-iso-de-instalacion-custom-iso-image">Archivo Kickstart pasado por el mismo ISO de instalación (custom ISO image)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#archivo-kickstart-pasado-por-imagen-de-disco">Archivo Kickstart pasado por imagen de disco</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#instalacion-de-centos-7">Instalación de CentOS 7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ks-templates/_ks-templates.html">Kickstart Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ks-options/_ks-options.html">Kickstart Options</a></li>
</ul>
<p class="caption"><span class="caption-text">Markdown</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../markdown/_markdown.html">Markdown</a></li>
</ul>
<p class="caption"><span class="caption-text">OpenStack</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-guide/_openstack-guide.html">OpenStack Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-packstack-deployment/_openstack-packstack-deployment.html">OpenStack Packstack Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-ansible/_openstack-ansible.html">OpenStack-Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-installation-deployment/_openstack-installation-deployment.html">OpenStack Installation and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-essentials/_openstack-essentials.html">OpenStack Essentials</a></li>
</ul>
<p class="caption"><span class="caption-text">PXE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pxe/_pxe.html">PXE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pxe/pxe-guides/_pxe-guides.html">PXE Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/_python.html">Python</a></li>
</ul>
<p class="caption"><span class="caption-text">RaspberryPi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/_raspberrypi.html">RaspberryPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/noobs.html">NOOBS (New Out Of Box Software)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/touchscreen.html">Touchscreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/raspbian-config.html">Raspbian configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">SDN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/_sdn.html">SDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/sdn-with-openstack-book/_sdn-with-openstack-book.html">SDN with OpenStack Book</a></li>
</ul>
<p class="caption"><span class="caption-text">Virtualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/_virtualization.html">Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/mastering-kvm-virtualization-book/_mastering-kvm-virtualization-book.html">Mastering KVM Virtualization Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/qemu-kvm/_qemu-kvm.html">QEMU/KVM Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/network-virtualization/_network-virtualization.html">Network Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/storage-virtualization/_storage-virtualization.html">Storage Virtualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web/_web.html">Web</a></li>
</ul>
<p class="caption"><span class="caption-text">Windows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../windows/_windows.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../windows/windows-subsystem-for-linux/_windows-subsystem-for-linux.html">Windows Subsystem For Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../windows/windows-ssh/_windows-subsystem-for-linux.html">SSH en Windows</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DevTechs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_ks-methods.html">Kickstart Methods</a> &raquo;</li>
        
      <li>Kickstart Methods - usando Virtualbox</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/topics/kickstart/ks-methods/ks_virtualbox.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kickstart-methods-usando-virtualbox">
<h1><a class="toc-backref" href="#id25">Kickstart Methods - usando Virtualbox</a><a class="headerlink" href="#kickstart-methods-usando-virtualbox" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#kickstart-methods-usando-virtualbox" id="id25">Kickstart Methods - usando Virtualbox</a><ul>
<li><a class="reference internal" href="#creacion-de-vm-en-virtualbox" id="id26">Creación de VM en VirtualBox</a></li>
<li><a class="reference internal" href="#configuracion-de-vm-en-virtualbox" id="id27">Configuración de VM en VirtualBox</a></li>
<li><a class="reference internal" href="#formas-de-pasar-el-archivo-kickstart" id="id28">Formas de pasar el archivo kickstart</a><ul>
<li><a class="reference internal" href="#archivo-kickstart-pasado-por-http" id="id29">Archivo Kickstart pasado por HTTP</a></li>
<li><a class="reference internal" href="#archivo-kickstart-pasado-por-el-mismo-iso-de-instalacion-custom-iso-image" id="id30">Archivo Kickstart pasado por el mismo ISO de instalación (custom ISO image)</a></li>
<li><a class="reference internal" href="#archivo-kickstart-pasado-por-imagen-de-disco" id="id31">Archivo Kickstart pasado por imagen de disco</a><ul>
<li><a class="reference internal" href="#usando-el-nombre-sdx-de-la-imagen-de-disco" id="id32">Usando el nombre <code class="docutils literal notranslate"><span class="pre">sdX</span></code> de la imagen de disco</a></li>
<li><a class="reference internal" href="#usando-el-label-de-la-imagen-de-disco" id="id33">Usando el <code class="docutils literal notranslate"><span class="pre">LABEL</span></code> de la imagen de disco</a></li>
<li><a class="reference internal" href="#usando-el-uuid-de-la-imagen-de-disco" id="id34">Usando el <code class="docutils literal notranslate"><span class="pre">UUID</span></code> de la imagen de disco</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#instalacion-de-centos-7" id="id35">Instalación de CentOS 7</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Descripción de la documentación</strong>: Método de instalación de un SO basado en Red Hat Enterprise Linux usando VirtualBox y un archivo ISO como medio de instalación. Este procedimiento sirve como un escenario de pruebas fácil de implementar, con el fin de probar archivos Kickstart que automaticen la instalación del SO.</p>
<div class="section" id="creacion-de-vm-en-virtualbox">
<h2><a class="toc-backref" href="#id26">Creación de VM en VirtualBox</a><a class="headerlink" href="#creacion-de-vm-en-virtualbox" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li>En VirtualBox, crear una nueva VM haciendo clic en el botón <span class="guilabel">New</span>:</li>
</ol>
<div class="figure align-center" id="id1">
<img alt="../../../_images/01-virtualbox_new_vm_ks.png" src="../../../_images/01-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Crear una nueva VM</span></p>
</div>
<ol class="arabic simple" start="2">
<li>Nombrar el nombre de la VM y seleccionar el SO que deseemos instalar; en este caso, es un SO basado em Red Hat:</li>
</ol>
<div class="figure align-center" id="id2">
<img alt="../../../_images/02-virtualbox_new_vm_ks.png" src="../../../_images/02-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Nombrar la VM y seleccionar el SO</span></p>
</div>
<ol class="arabic simple" start="3">
<li>Elegir la cantidad de memoria RAM que deseemos asignarle a nuestra VM:</li>
</ol>
<div class="figure align-center" id="id3">
<img alt="../../../_images/03-virtualbox_new_vm_ks.png" src="../../../_images/03-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar la cantidad de RAM</span></p>
</div>
<ol class="arabic simple" start="4">
<li>Seleccionar la opción <span class="guilabel">Create a virtual hard disk now</span>:</li>
</ol>
<div class="figure align-center">
<img alt="../../../_images/04-virtualbox_new_vm_ks.png" src="../../../_images/04-virtualbox_new_vm_ks.png" />
</div>
<ol class="arabic simple" start="5">
<li>Seleccionar como tipo de disco duro <span class="guilabel">VDI (VirtualBox Disk Image)</span>:</li>
</ol>
<div class="figure align-center" id="id4">
<img alt="../../../_images/05-virtualbox_new_vm_ks.png" src="../../../_images/05-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar el tipo de disco duro que será creado y conectado a la VM</span></p>
</div>
<ol class="arabic simple" start="6">
<li>Para el provisionamiento de espacio en el disco elegir la opción <span class="guilabel">Dynamically Allocated</span>:</li>
</ol>
<div class="figure align-center" id="id5">
<img alt="../../../_images/06-virtualbox_new_vm_ks.png" src="../../../_images/06-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar <span class="guilabel">Dynamically Allocated</span></span></p>
</div>
<ol class="arabic simple" start="7">
<li>Determinar la ubicación y tamaño del disco:</li>
</ol>
<div class="figure align-center" id="id6">
<img alt="../../../_images/07-virtualbox_new_vm_ks.png" src="../../../_images/07-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar la ubicación y tamaño del disco</span></p>
</div>
<p>Finalmente, clic en el botón <span class="guilabel">Create</span>.</p>
</div>
<div class="section" id="configuracion-de-vm-en-virtualbox">
<h2><a class="toc-backref" href="#id27">Configuración de VM en VirtualBox</a><a class="headerlink" href="#configuracion-de-vm-en-virtualbox" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li>Clic en el botón <span class="guilabel">Settings</span> para configurar la VM:</li>
</ol>
<div class="figure align-center" id="id7">
<img alt="../../../_images/08-virtualbox_new_vm_ks.png" src="../../../_images/08-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar la opción <span class="guilabel">Settings</span></span></p>
</div>
<ol class="arabic simple" start="2">
<li>Seleccionar la pestaña <span class="guilabel">System</span> cambiar el orden de arranque, poniendo primero <span class="guilabel">Hard Disk</span> y luego <span class="guilabel">Optical</span>:</li>
</ol>
<div class="figure align-center" id="id8">
<img alt="../../../_images/09-virtualbox_new_vm_ks.png" src="../../../_images/09-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Cambiar el orden de arranque del sistema en la pestaña <span class="guilabel">System</span></span></p>
</div>
<ol class="arabic simple" start="3">
<li>Seleccionar la pestaña <span class="guilabel">Storage</span> y clic sobre el ícono de disco con nombre Empty:</li>
</ol>
<div class="figure align-center" id="id9">
<img alt="../../../_images/10-virtualbox_new_vm_ks.png" src="../../../_images/10-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Cambiar a la pestaña <span class="guilabel">Storage</span></span></p>
</div>
<p>El método de instalación del sistema operativo usando en esta guía será a través un archivo ISO de CentOS 7 que contiene el medio de instalación.</p>
<p>Previamente debemos haber descargado el instalador de CentOS 7 en formato <code class="docutils literal notranslate"><span class="pre">.iso</span></code> de alguno de los <a class="reference external" href="http://isoredirect.centos.org/centos/7/isos/x86_64/">Mirrors oficiales de imágenes ISO de CentOS 7</a>:</p>
<ol class="arabic simple" start="4">
<li>Clic el botón con ícono de disco en la parte derecha y seleccionar la opción <span class="guilabel">Choose Virtual Optical Disk File…</span>:</li>
</ol>
<div class="figure align-center" id="id10">
<img alt="../../../_images/11-virtualbox_new_vm_ks.png" src="../../../_images/11-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Seleccionar el ícono del disco y elegir <span class="guilabel">Choose Virtual Optical Disk File…</span></span></p>
</div>
<ol class="arabic simple" start="5">
<li>En el navegador de archivos, elegir el archivo ISO que servirá como medio de instalación del SO:</li>
</ol>
<div class="figure align-center" id="id11">
<img alt="../../../_images/12-virtualbox_new_vm_ks.png" src="../../../_images/12-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Elegir el archivo <code class="docutils literal notranslate"><span class="pre">.iso</span></code> del instalador del SO desde el navegador de archivos</span></p>
</div>
<ol class="arabic simple" start="6">
<li>Verificar que el archivo ISO se haya cargado en el controlador IDE. Luego clic en <span class="guilabel">OK</span></li>
</ol>
<div class="figure align-center" id="id12">
<img alt="../../../_images/13-virtualbox_new_vm_ks.png" src="../../../_images/13-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Revisar la configuración de Storage y clic en <span class="guilabel">OK</span></span></p>
</div>
<ol class="arabic simple" start="7">
<li>Iniciar la VM haciendo clic en la opción <span class="guilabel">Start</span>:</li>
</ol>
<div class="figure align-center" id="id13">
<img alt="../../../_images/14-virtualbox_new_vm_ks.png" src="../../../_images/14-virtualbox_new_vm_ks.png" />
<p class="caption"><span class="caption-text">VirtualBox - Arrancar la VM con el botón <span class="guilabel">Start</span></span></p>
</div>
<ol class="arabic simple" start="8">
<li>Una vez cargue la página principal del instalador del SO, debemos presionar en el teclado la tecla <span class="guilabel">Esc</span> para ingresar a la opciones de <span class="guilabel">boot</span>:</li>
</ol>
<div class="figure align-center" id="id14">
<img alt="../../../_images/15-instalacion_centos7_ks.png" src="../../../_images/15-instalacion_centos7_ks.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - En la página principal de carga para instalar el SO, presionar la tecla <span class="guilabel">Esc</span></span></p>
</div>
<p>Referencia: <a class="reference external" href="https://docs.centos.org/en-US/8-docs/standard-install/assembly_booting-installer/#editing-boot-options_booting-the-installer">Editing boot options</a></p>
<ol class="arabic simple" start="9">
<li>Verificar que cargue la siguiente pantalla con el prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code>:</li>
</ol>
<div class="figure align-center" id="id15">
<img alt="../../../_images/16-instalacion_centos7_ks.png" src="../../../_images/16-instalacion_centos7_ks.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Cargará una página con el mensaje <code class="docutils literal notranslate"><span class="pre">boot:</span></code></span></p>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Pasar el archivo Kickstart por el prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code> es una forma equivalente a editar las opciones de arranque del instalador definidas en sus respectivos archivos. Para pasar un archivo Kickstart en el prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code> escribiríamos <code class="docutils literal notranslate"><span class="pre">linux</span> <span class="pre">ks=...</span></code>. En el archivo de instalación de un sistema <strong>Legacy</strong> usaríamos <code class="docutils literal notranslate"><span class="pre">ks=...</span></code> y en un sistema <strong>UEFI</strong> usaríamos <code class="docutils literal notranslate"><span class="pre">inst.ks=...</span></code></p>
</div>
</div>
<div class="section" id="formas-de-pasar-el-archivo-kickstart">
<h2><a class="toc-backref" href="#id28">Formas de pasar el archivo kickstart</a><a class="headerlink" href="#formas-de-pasar-el-archivo-kickstart" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Existen distintas formas de pasar el archivo Kickstart al medio de instalación con el fin de automatizar el proceso de instalación.</p>
<p>En el prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code> podemos emplear el parámetro <code class="docutils literal notranslate"><span class="pre">ks=</span></code> e indicar a través de qué medio se pasará el archivo kickstart. Entre los métodos soportados para pasar el archivo kickstart están NFS (<code class="docutils literal notranslate"><span class="pre">nfs</span></code>), HTTP (<code class="docutils literal notranslate"><span class="pre">http</span></code>), Diskette (<code class="docutils literal notranslate"><span class="pre">floppy</span></code>), disco montado (<code class="docutils literal notranslate"><span class="pre">hd</span></code>), file system sin montar (<code class="docutils literal notranslate"><span class="pre">file</span></code>) y CD-ROM (<code class="docutils literal notranslate"><span class="pre">cdrom</span></code>).</p>
<p>Referencia 1: <a class="reference external" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-startinginstall">Starting a Kickstart installation</a></p>
<p>Referencia 2: <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/linuxonibm/liaae/liaaekickstart.html">Fuentes de archivo kickstart</a></p>
<div class="section" id="archivo-kickstart-pasado-por-http">
<h3><a class="toc-backref" href="#id29">Archivo Kickstart pasado por HTTP</a><a class="headerlink" href="#archivo-kickstart-pasado-por-http" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método es recomendable usarlo cuando el servidor al cual vamos a instalar el sistema operativo tiene un servidor DHCP con una configuración para salir a Internet. Esto, con el fin de obtener el archivo Kickstart de forma remota.</p>
</div>
<p>En este método obtenemos el archivo kickstart de un servidor a través de HTTP. Para esto, pasamos la URL de la página que tiene el archivo kickstart como en el siguiente ejemplo:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>boot: linux ks=http://raw.githubusercontent.com/mogago/kickstartfiles/master/ks1.cfg
</pre></div>
</div>
<div class="figure align-center" id="id16">
<img alt="../../../_images/17-instalacion_centos7_ks_http.png" src="../../../_images/17-instalacion_centos7_ks_http.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Ingresar la dirección URL correcta para obtener el archivo kickstart</span></p>
</div>
<div class="figure align-center">
<img alt="../../../_images/18-instalacion_centos7_ks_http.png" src="../../../_images/18-instalacion_centos7_ks_http.png" />
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">La página que contiene el archivo kickstart no debe tener ningún tipo de etiquetas HTML ni formatos extra, solo debe contener el archivo kickstart en texto plano. Comprobar esto usando <code class="docutils literal notranslate"><span class="pre">wget</span></code> con la página web en un terminal de comandos.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Opcionalmente, podemos usar <code class="docutils literal notranslate"><span class="pre">ks=https:</span></code> en lugar de <code class="docutils literal notranslate"><span class="pre">ks=http:</span></code>, si la página tiene habilitado el protocolo HTTPS o en caso el servidor web no redirija automáticamente las solicitudes HTTP a HTTPS.</p>
</div>
<p>En este ejemplo se está usando GitHub como repositorio de los archivos Kickstart:</p>
<div class="figure align-center" id="id17">
<img alt="../../../_images/github-ks-sample-repo.png" src="../../../_images/github-ks-sample-repo.png" />
<p class="caption"><span class="caption-text">GitHub - Archivo Kickstart de ejemplo</span></p>
</div>
<p>Pero para obtener el archivo Kickstart en texto plano debemos seleccionar el botón <span class="guilabel">Raw</span> en la página anterior, lo cual nos redirigirá a otra URL:</p>
<div class="figure align-center" id="id18">
<img alt="../../../_images/github-ks-sample-raw.png" src="../../../_images/github-ks-sample-raw.png" />
<p class="caption"><span class="caption-text">GitHub - Archivo Kickstart de ejemplo en formato raw</span></p>
</div>
<p>Ya que en esta página solo obtenemos el archivo Kickstart en texto plano, podremos emplear esta dirección URL como parámetro de <code class="docutils literal notranslate"><span class="pre">ks=http://</span></code>.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Este método requiere conexión al servidor web remoto que proporcione el archivo Kickstart. En caso el archivo Kickstart se encuentre en la web, podemos tener una interfaz conectada a una red con un servidor DHCP y obtener una IP y salida a Internet. Por ejemplo, en VirtualBox podemos usar una red NAT o Bridged.</p>
</div>
</div>
<div class="section" id="archivo-kickstart-pasado-por-el-mismo-iso-de-instalacion-custom-iso-image">
<h3><a class="toc-backref" href="#id30">Archivo Kickstart pasado por el mismo ISO de instalación (custom ISO image)</a><a class="headerlink" href="#archivo-kickstart-pasado-por-el-mismo-iso-de-instalacion-custom-iso-image" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método es recomendable usarlo cuando queremos tener un medio de instalación con el archivo de Kickstart pre-cargado. Tenemos la opción de almacenar múltiples archivos Kickstart dentro de archivo ISO.</p>
</div>
<p>En este método obtendremos el archivo kickstart del mismo archivo ISO usado para obtener el medio de instalación (kernel, repos, etc.). Para lograr, esto deberemos modificar un imagen ISO oficial, agregarle nuestro archivo kickstart y volver a generar una imagen ISO modficada (también llamada <strong>custom ISO image</strong>). A este método de volver a generar una imagen ISO con ciertas modificaciones personalizadas se le llama <strong>Repackaging de un Linux Install ISO</strong>.</p>
<p>Para esto, primero crearemos nuestra imagen ISO personalizada a través de los siguientes pasos:</p>
<ol class="arabic simple">
<li>Crear un directorio para montar nuestro fuente ISO:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -i
mkdir /tmp/bootiso
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Hacer un <strong>loop mount</strong> de nuestra imagen ISO oficial (CentOS/RedHat) que modificaremos:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount -o loop ~/images/ISOS/CentOS-7-x86_64-Minimal-1908.iso /tmp/bootiso
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Crear un directorio de trabajo para nuestro medio personalizado:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /tmp/bootisoks
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Copiar la fuente de medios al directorio de trabajo:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp -r /tmp/bootiso/* /tmp/bootisoks/
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Desmontar la fuente ISO y eliminar el directorio:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>umount /tmp/bootiso
rmdir /tmp/bootiso
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Cambiar los permisos en el directorio de trabajo:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod -R u+w /tmp/bootisoks
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li>Copiar nuestro archivo kickstart personalizado en el directorio de trabajo, bajo el directorio <code class="docutils literal notranslate"><span class="pre">isolinux/</span></code>:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp /path/to/someks.cfg /tmp/bootisoks/isolinux/ks1.cfg

cat /tmp/bootisoks/isolinux/ks1.cfg

<span class="c1"># install</span>
<span class="c1"># cdrom</span>
<span class="c1"># bootloader --location=mbr</span>
<span class="c1"># keyboard --vckeymap=latam --xlayouts=&#39;latam&#39;,&#39;us&#39;</span>
<span class="c1"># rootpw --iscrypted $1$WUDGBrnr$Bq8p.jk4ikcEr2JYJRMwE0</span>
<span class="c1"># lang en_US.UTF-8 --addsupport=es_US.UTF-8</span>
<span class="c1"># clearpart --all --initlabel</span>
<span class="c1"># part / --fstype=&quot;ext4&quot; --grow --ondisk=sda --size=1</span>
<span class="c1"># timezone America/Lima</span>
<span class="c1"># reboot</span>

<span class="c1"># %packages</span>
<span class="c1"># %end</span>
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li>(Opcional) Copiar cualquier RPM adicional a la estructura de directorio y actualizar la metadata:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp /path/to/*.rpm /tmp/bootisoks/Packages/.
<span class="nb">cd</span> /tmp/bootisoks/Packages <span class="o">&amp;&amp;</span> createrepo -dpo .. .
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li>(Opcional) Para que las opciones de instalación del menú inicial arranquen usen el archivo Kickstart debemos modificar las opciones de boot en el archivo <code class="docutils literal notranslate"><span class="pre">isolinux.cfg</span></code>:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sed -i <span class="s1">&#39;s/append\ initrd\=initrd.img/append initrd=initrd.img\ ks\=cdrom:\/ks1.cfg/&#39;</span> /tmp/bootisoks/isolinux/isolinux.cfg
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li>Crear el nuevo archivo ISO personalizado y conceder permisos al usuario:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /tmp/bootisoks

mkisofs -o /tmp/boot.iso -b isolinux.bin -c boot.cat -no-emul-boot -boot-load-size <span class="m">4</span> -boot-info-table -V <span class="s2">&quot;CentOS 7 x86_64&quot;</span> -R -J -v -T isolinux/. .
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chown mogago:mogago /tmp/boot.iso
</pre></div>
</div>
<ol class="arabic simple" start="11">
<li>(Opcional) Usar <code class="docutils literal notranslate"><span class="pre">isohybrid</span></code> si queremos aplicar <code class="docutils literal notranslate"><span class="pre">dd</span></code> sobre el archivo ISO en un dispositivo USB booteable:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>isohybrid /tmp/boot.iso
</pre></div>
</div>
<ol class="arabic simple" start="12">
<li>(Opcional) Añadir un MD5 checksum para permitir realizar pruebas con el medio:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>implantisomd5 /tmp/boot.iso
</pre></div>
</div>
<p>Ahora debemos cambiar la imagen ISO de CentOS por la que acabamos de crear en la interfaz de VirtualBox:</p>
<div class="figure align-center" id="id19">
<img alt="../../../_images/19-instalacion_centos7_ks_cdrom.png" src="../../../_images/19-instalacion_centos7_ks_cdrom.png" />
<p class="caption"><span class="caption-text">VirtualBox - seleccionar la imagen ISO personalizada</span></p>
</div>
<p>Al momento de arrancar el medio de instalación, si no hemos usado el paso 9 para editar el archivo <code class="docutils literal notranslate"><span class="pre">isolinux/isolinux.cfg</span></code> y se agregue el archivo Kickstart a las opciones de instalación del menú inicial, deberemos entrar al prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code> (tecla <span class="guilabel">Esc</span> al cargar  el medio de instalación). Aquí, escribiremos:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>boot: linux ks=cdrom:/ks1.cfg
</pre></div>
</div>
<div class="figure align-center" id="id20">
<img alt="../../../_images/20-instalacion_centos7_ks_cdrom.png" src="../../../_images/20-instalacion_centos7_ks_cdrom.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Ingresar la dirección al archivo kickstart (el directorio actual es <code class="docutils literal notranslate"><span class="pre">isolinux/</span></code>)</span></p>
</div>
<div class="figure align-center">
<img alt="../../../_images/21-instalacion_centos7_ks_cdrom.png" src="../../../_images/21-instalacion_centos7_ks_cdrom.png" />
</div>
<ul class="simple">
<li>Referencia 1: <a class="reference external" href="https://serverfault.com/questions/517908/how-to-create-a-custom-iso-image-in-centos">How to create a custom ISO image in CentOS</a></li>
<li>Referencia 2: <a class="reference external" href="https://bencane.com/2013/06/12/mkisofs-repackaging-a-linux-install-iso/">mkisofs - Repackaging a Linux Install ISO</a></li>
<li>Referencia 3: <a class="reference external" href="https://wiki.osdev.org/Mkisofs">Mkisofs Wiki</a></li>
</ul>
</div>
<div class="section" id="archivo-kickstart-pasado-por-imagen-de-disco">
<h3><a class="toc-backref" href="#id31">Archivo Kickstart pasado por imagen de disco</a><a class="headerlink" href="#archivo-kickstart-pasado-por-imagen-de-disco" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método es recomendable usarlo cuando tenemos un disco duro o USB con el archivo Kickstart que podamos conectar al servidor donde instalaremos el sistema operativo (o un Virtual Hard Disk en una VM). Además, lo podemos usar si no deseamos modificar la imagen ISO con el medio de instalación, a diferencia del método por <code class="docutils literal notranslate"><span class="pre">cdrom</span></code>.</p>
</div>
<p>En este método obtendremos el archivo kickstart mediante una imagen de disco. Para el caso de VirtualBox usaremos almacenaremos el archivo Kickstart en una images de disco tipo <code class="docutils literal notranslate"><span class="pre">vdi</span></code>. Sin embargo, en servidores físicas podemos usar imágenes con formato raw (<code class="docutils literal notranslate"><span class="pre">.img</span></code>).</p>
<p>Siguiendo la guía <a class="reference internal" href="../../virtualization/storage-virtualization/virtual-disk.html#virtualdisk"><span class="std std-ref">Creando un disco virtual</span></a>:, usaremos las herramientas <code class="docutils literal notranslate"><span class="pre">dd</span></code>, <code class="docutils literal notranslate"><span class="pre">mkfs</span></code> y <code class="docutils literal notranslate"><span class="pre">mount</span></code> para crear nuestro <strong>disco virtual</strong> (Virtual Hard Disk o VHD) y agregarle el contenido deseado. Luego lo desmontaremos con <code class="docutils literal notranslate"><span class="pre">umount</span></code> y lo converterimos de <code class="docutils literal notranslate"><span class="pre">raw</span></code> a <code class="docutils literal notranslate"><span class="pre">vdi</span></code> usado <code class="docutils literal notranslate"><span class="pre">qemu-img</span></code>.</p>
<ol class="arabic simple">
<li>Crear una imagen que contenga el volumen virtual con <code class="docutils literal notranslate"><span class="pre">dd</span></code>:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo -i
dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/media/disk1.img <span class="nv">bs</span><span class="o">=</span>100M <span class="nv">count</span><span class="o">=</span><span class="m">1</span>

    <span class="m">1</span>+0 records in
    <span class="m">1</span>+0 records out
    <span class="m">104857600</span> bytes <span class="o">(</span><span class="m">105</span> MB, <span class="m">100</span> MiB<span class="o">)</span> copied, <span class="m">0</span>,0962088 s, <span class="m">1</span>,1 GB/s
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Formatear el archivo de la imagen VHD con <code class="docutils literal notranslate"><span class="pre">mkfs</span></code>, por ejemplo con <code class="docutils literal notranslate"><span class="pre">ext4</span></code>:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs -t ext4 /media/disk1.img

    mke2fs <span class="m">1</span>.44.1 <span class="o">(</span><span class="m">24</span>-Mar-2018<span class="o">)</span>
    Discarding device blocks: <span class="k">done</span>
    Creating filesystem with <span class="m">102400</span> 1k blocks and <span class="m">25688</span> inodes
    Filesystem UUID: c08e1aa7-8aff-45ed-a913-6aba75bbed9d
    Superblock backups stored on blocks:
            <span class="m">8193</span>, <span class="m">24577</span>, <span class="m">40961</span>, <span class="m">57345</span>, <span class="m">73729</span>

    Allocating group tables: <span class="k">done</span>
    Writing inode tables: <span class="k">done</span>
    Creating journal <span class="o">(</span><span class="m">4096</span> blocks<span class="o">)</span>: <span class="k">done</span>
    Writing superblocks and filesystem accounting information: <span class="k">done</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Crear un directorio y montar nuestra imagen de disco formateada:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /mnt/vhd
mount -t auto -o loop /media/disk1.img /mnt/vhd/
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Revisar qué loop tiene el punto de montado</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsblk <span class="p">|</span> grep /mnt/vhd

    loop12   <span class="m">7</span>:12   <span class="m">0</span>   100M  <span class="m">0</span> loop /mnt/vhd
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Asignar un LABEL a nuestra imagen de disco:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>e2label /dev/loop12 USBKS
</pre></div>
</div>
<p>Para comprobar que tiene el label asignado:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsblk -o name,mountpoint,label,size,uuid,type
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>Copiar el archivo Kickstart al directorio donde está montado el disco:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp /path/to/ks1.cfg /mnt/vhd/ks1.cfg
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li>Desmontar el disco:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>umount /mnt/vhd
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li>Para VirtualBox, usando <code class="docutils literal notranslate"><span class="pre">qemu-img</span></code> convertiremos la imagen de raw (<code class="docutils literal notranslate"><span class="pre">.img</span></code>) a <code class="docutils literal notranslate"><span class="pre">VDI</span></code> (formato especial para imágenes de discos de VirtualBox). Además cambiar de dueño y grupo del archivo para que VirtualBox pueda acceder:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>qemu-img convert -f raw -O vdi /media/disk1.img /home/mogago/Downloads/disk1.vdi

chown mogago:mogago /home/mogago/Downloads/disk1.vdi
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li>Revisar el UUID de la imagen de disco generada:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>virt-filesystems -a /home/mogago/Downloads/disk1.vdi --all --long --uuid -h

    Name     Type       VFS  Label MBR Size Parent UUID
    /dev/sda filesystem ext4 USBKS -   100M -      456b92c7-7c4e-424d-8bcc-5f13618d52ac
    /dev/sda device     -    -     -   100M -      -
</pre></div>
</div>
<ul class="simple">
<li>Referencia 1: <a class="reference external" href="https://docs.openstack.org/image-guide/convert-images.html">Convert images with qemu-img convert</a></li>
<li>Referencia 2: <a class="reference external" href="https://stackoverflow.com/questions/42885042/qemu-how-to-get-image-uuid">Check image UUID</a></li>
<li>Referencia 3: <a class="reference external" href="https://www.tecmint.com/change-modify-linux-disk-partition-label-names/">Changing label of ext2 ext3 and ext4 type partitions</a></li>
<li>Referencia 4: <a class="reference external" href="https://stackoverflow.com/questions/5379799/how-to-check-the-uuid-of-a-virtualbox-vdi">VBoxManage list vms</a></li>
</ul>
<p>Una vez que tengamos la imagen de disco preparada podemos conectarlo en la máquina virtual:</p>
<div class="figure align-center">
<img alt="../../../_images/22-instalacion_centos7_ks_hd_sdx.png" src="../../../_images/22-instalacion_centos7_ks_hd_sdx.png" />
</div>
<p>Al momento de arrancar el medio de instalación debemos presionar la tecla <span class="guilabel">Esc</span> para pasar la dirección del archivo Kickstart como parámetro en el momento de arranque (<code class="docutils literal notranslate"><span class="pre">boot:</span></code>).</p>
<div class="section" id="usando-el-nombre-sdx-de-la-imagen-de-disco">
<h4><a class="toc-backref" href="#id32">Usando el nombre <code class="docutils literal notranslate"><span class="pre">sdX</span></code> de la imagen de disco</a><a class="headerlink" href="#usando-el-nombre-sdx-de-la-imagen-de-disco" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Podemos indicar el dispositivo de la imagen de disco que contiene el archivo Kickstart usando su nombre <code class="docutils literal notranslate"><span class="pre">sdX</span></code>. El dispositivo puede llamarse <code class="docutils literal notranslate"><span class="pre">sda</span></code>, <code class="docutils literal notranslate"><span class="pre">sdb</span></code>, <code class="docutils literal notranslate"><span class="pre">sdc</span></code>, etc. dependiendo de la cantidad de dispositivos que tengamos conectados al sistema y el nombre arbitrario que se le haya asignado:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>boot: linux ks=hd:sdb:/ks1.cfg
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/23-instalacion_centos7_ks_hd_sdx.png" src="../../../_images/23-instalacion_centos7_ks_hd_sdx.png" />
</div>
<div class="figure align-center">
<img alt="../../../_images/24-instalacion_centos7_ks_hd_sdx.png" src="../../../_images/24-instalacion_centos7_ks_hd_sdx.png" />
</div>
<p>La máquina virtual tiene conectada dos discos (<code class="docutils literal notranslate"><span class="pre">/dev/sda</span></code> y <code class="docutils literal notranslate"><span class="pre">/dev/sdb</span></code>). Si bien hemos obtenido correctamente el archivo Kickstart del diso <code class="docutils literal notranslate"><span class="pre">sdb</span></code>, en otras ocasiones el disco que contenga el archivo Kickstart podría ser el disco <code class="docutils literal notranslate"><span class="pre">sda</span></code>. En el caso que elijamos el disco sin nuestro archivo Kickstart, obtendremos el siguiente log de fallo:</p>
<div class="figure align-center">
<img alt="../../../_images/25-instalacion_centos7_ks_hd_sdx.png" src="../../../_images/25-instalacion_centos7_ks_hd_sdx.png" />
</div>
<p>Una vez instalado el sistema operativo podemos comprobar que el tamaño virtual asignado a los discos sigue siendo identificable:</p>
<div class="figure align-center">
<img alt="../../../_images/26-instalacion_centos7_ks_hd_sdx.png" src="../../../_images/26-instalacion_centos7_ks_hd_sdx.png" />
</div>
</div>
<div class="section" id="usando-el-label-de-la-imagen-de-disco">
<h4><a class="toc-backref" href="#id33">Usando el <code class="docutils literal notranslate"><span class="pre">LABEL</span></code> de la imagen de disco</a><a class="headerlink" href="#usando-el-label-de-la-imagen-de-disco" title="Enlazar permanentemente con este título">¶</a></h4>
<p>El método de selección de la imagen de disco por su <code class="docutils literal notranslate"><span class="pre">sdX</span></code> puede resultar en fallo si es que no sabemos exactamente el nombre que el sistema le ha asignado a nuestro disco con el archivo Kickstart. Sin embargo, usar el <code class="docutils literal notranslate"><span class="pre">LABEL</span></code> o <code class="docutils literal notranslate"><span class="pre">UUID</span></code> del disco puede resultar más específico y evitar errores. Para usar el <code class="docutils literal notranslate"><span class="pre">LABEL</span></code> como parámetro de arranque usamos la siguiente forma:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>boot: linux ks=hd:LABEL=USBKS:/ks1.cfg
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/27-instalacion_centos7_ks_hd_label.png" src="../../../_images/27-instalacion_centos7_ks_hd_label.png" />
</div>
<div class="figure align-center">
<img alt="../../../_images/28-instalacion_centos7_ks_hd_label.png" src="../../../_images/28-instalacion_centos7_ks_hd_label.png" />
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">En el paso 5 del procedimiento de creación de una imagen de disco, le asignamos una LABEL a nuestro disco. En el paso 5 y el paso 10 comprobamos el nombre del LABEL asignado.</p>
</div>
<ul class="simple">
<li>Referencia: <a class="reference external" href="https://fedoraproject.org/wiki/QA:Testcase_Kickstart_Hd_Device_Path_Ks_Cfg">Testcase Kickstart Hd Device Path Ks Cfg</a></li>
</ul>
</div>
<div class="section" id="usando-el-uuid-de-la-imagen-de-disco">
<h4><a class="toc-backref" href="#id34">Usando el <code class="docutils literal notranslate"><span class="pre">UUID</span></code> de la imagen de disco</a><a class="headerlink" href="#usando-el-uuid-de-la-imagen-de-disco" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Al igual que la selección de la imagen de disco por su <code class="docutils literal notranslate"><span class="pre">LABEL</span></code>, la elección del disco por su <code class="docutils literal notranslate"><span class="pre">UUID</span></code> es un método más exacto y menos sujeto a errores. Para usar el <code class="docutils literal notranslate"><span class="pre">UUID</span></code> como parámetro de arranque usamos la siguiente forma:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>boot: linux ks=hd:UUID=456b92c7-7c4e-424d-8bcc-5f13618d52ac:/ks1.cfg
</pre></div>
</div>
<div class="figure align-center">
<img alt="../../../_images/29-instalacion_centos7_ks_hd_uuid.png" src="../../../_images/29-instalacion_centos7_ks_hd_uuid.png" />
</div>
<div class="figure align-center">
<img alt="../../../_images/30-instalacion_centos7_ks_hd_uuid.png" src="../../../_images/30-instalacion_centos7_ks_hd_uuid.png" />
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">En el paso 10 del procedimiento de creación de una imagen de disco comprobamos el UUID.</p>
</div>
</div>
</div>
</div>
<div class="section" id="instalacion-de-centos-7">
<h2><a class="toc-backref" href="#id35">Instalación de CentOS 7</a><a class="headerlink" href="#instalacion-de-centos-7" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li>Inmediatamente luego de presionar el botón <span class="guilabel">Enter</span> en el prompt de <code class="docutils literal notranslate"><span class="pre">boot:</span></code> comenzará el proceso de instalación automatizado con el archivo Kickstart que hemos pasado. Dependiendo de la configuración de Kickstart, una instalación en modo gráfico o en modo texto, obtendremos una de las siguientes dos pantallas:</li>
</ol>
<div class="figure align-center" id="id21">
<img alt="../../../_images/instalacion_centos7_ks_graphical_mode.png" src="../../../_images/instalacion_centos7_ks_graphical_mode.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Iniciará el proceso de instalación automatizado en modo gráfico</span></p>
</div>
<div class="figure align-center" id="id22">
<img alt="../../../_images/instalacion_centos7_ks_text_mode.png" src="../../../_images/instalacion_centos7_ks_text_mode.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Iniciará el proceso de instalación automatizado en modo texto</span></p>
</div>
<ol class="arabic simple" start="2">
<li>Una vez acabada la instalación desatentidada del SO, la VM se reiniciará automáticamente y cargará desde el disco instalado:</li>
</ol>
<div class="figure align-center" id="id23">
<img alt="../../../_images/startup_centos7_1.png" src="../../../_images/startup_centos7_1.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Iniciará el sistema CentOS 7 instalado</span></p>
</div>
<ol class="arabic simple" start="3">
<li>Finalmente, iniciará el SO CentOS instalado automáticamente con Kickstart:</li>
</ol>
<div class="figure align-center" id="id24">
<img alt="../../../_images/startup_centos7_2.png" src="../../../_images/startup_centos7_2.png" />
<p class="caption"><span class="caption-text">Centos 7 VM - Sistema operativo CentOS 7 funcionando</span></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ks-templates/_ks-templates.html" class="btn btn-neutral float-right" title="Kickstart Templates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="_ks-methods.html" class="btn btn-neutral float-left" title="Kickstart Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gabriel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>