

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Iniciar el servidor SSH automáticamente en WSL &mdash; documentación de DevTechs - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="SSH en Windows" href="../windows-ssh/_windows-subsystem-for-linux.html" />
    <link rel="prev" title="Enabling SSH into WSL" href="enabling_ssh_into_wsl.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> DevTechs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/_ansible.html">Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/ansible-essentials/_ansible-essentials.html">Ansible Essentials</a></li>
</ul>
<p class="caption"><span class="caption-text">Git &amp; GitHub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/_gitgithub.html">Git y GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/gitgithub-lessons.html">Git &amp; GitHub Lessons</a></li>
</ul>
<p class="caption"><span class="caption-text">GNU/Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/_gnulinux.html">GNU/Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ssh.html">SSH (Secure SHell)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/user-management.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/new-disk-dd.html">Creando una imagen de disco con <code class="docutils literal notranslate"><span class="pre">dd</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/archlinux/_archlinux.html">ArchLinux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ubuntu/_ubuntu.html">Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/linux-fundamentals/_linux-fundamentals.html">Linux Fundamentals (Sander van Vugt)</a></li>
</ul>
<p class="caption"><span class="caption-text">Kickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../kickstart/_kickstart.html">Kickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kickstart/ks-methods/_ks-methods.html">Kickstart Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kickstart/ks-templates/_ks-templates.html">Kickstart Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kickstart/ks-options/_ks-options.html">Kickstart Options</a></li>
</ul>
<p class="caption"><span class="caption-text">Markdown</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../markdown/_markdown.html">Markdown</a></li>
</ul>
<p class="caption"><span class="caption-text">OpenStack</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/_openstack.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-essentials/_openstack-essentials.html">OpenStack Essentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-deploy/_openstack-deploy.html">OpenStack Deploy Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-guide/_openstack-guide.html">OpenStack initial configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-installation-deployment/_openstack-installation-deployment.html">OpenStack Installation and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openstack/openstack-ansible/_openstack-ansible.html">OpenStack-Ansible</a></li>
</ul>
<p class="caption"><span class="caption-text">PXE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pxe/_pxe.html">PXE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pxe/pxe-guides/_pxe-guides.html">PXE Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/_python.html">Python</a></li>
</ul>
<p class="caption"><span class="caption-text">RaspberryPi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/_raspberrypi.html">RaspberryPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/noobs.html">NOOBS (New Out Of Box Software)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/touchscreen.html">Touchscreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/raspbian-config.html">Raspbian configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">SDN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/_sdn.html">SDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/sdn-with-openstack-book/_sdn-with-openstack-book.html">SDN with OpenStack Book</a></li>
</ul>
<p class="caption"><span class="caption-text">Virtualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/_virtualization.html">Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/mastering-kvm-virtualization-book/_mastering-kvm-virtualization-book.html">Mastering KVM Virtualization Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/qemu-kvm/_qemu-kvm.html">QEMU/KVM Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/network-virtualization/_network-virtualization.html">Network Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/storage-virtualization/_storage-virtualization.html">Storage Virtualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web/_web.html">Web</a></li>
</ul>
<p class="caption"><span class="caption-text">Windows</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_windows.html">Windows</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_windows-subsystem-for-linux.html">Windows Subsystem For Linux</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="enabling_wsl.html">Enabling Windows Subsystem for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="enabling_ssh_into_wsl.html">Enabling SSH into WSL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Iniciar el servidor SSH automáticamente en WSL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#permitir-iniciar-el-servicio-ssh-sin-password">Permitir iniciar el servicio SSH sin password</a></li>
<li class="toctree-l3"><a class="reference internal" href="#crear-una-nueva-tarea-en-el-programador-de-tareas-de-windows">Crear una nueva tarea en el Programador de tareas de Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comprobar-funcionamiento">Comprobar funcionamiento</a></li>
<li class="toctree-l3"><a class="reference internal" href="#referencias">Referencias</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../windows-ssh/_windows-subsystem-for-linux.html">SSH en Windows</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DevTechs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_windows-subsystem-for-linux.html">Windows Subsystem For Linux</a> &raquo;</li>
        
      <li>Iniciar el servidor SSH automáticamente en WSL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/topics/windows/windows-subsystem-for-linux/automatically_start_ssh_server_wsl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iniciar-el-servidor-ssh-automaticamente-en-wsl">
<h1><a class="toc-backref" href="#id9">Iniciar el servidor SSH automáticamente en WSL</a><a class="headerlink" href="#iniciar-el-servidor-ssh-automaticamente-en-wsl" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#iniciar-el-servidor-ssh-automaticamente-en-wsl" id="id9">Iniciar el servidor SSH automáticamente en WSL</a><ul>
<li><a class="reference internal" href="#permitir-iniciar-el-servicio-ssh-sin-password" id="id10">Permitir iniciar el servicio SSH sin password</a></li>
<li><a class="reference internal" href="#crear-una-nueva-tarea-en-el-programador-de-tareas-de-windows" id="id11">Crear una nueva tarea en el Programador de tareas de Windows</a></li>
<li><a class="reference internal" href="#comprobar-funcionamiento" id="id12">Comprobar funcionamiento</a></li>
<li><a class="reference internal" href="#referencias" id="id13">Referencias</a></li>
</ul>
</li>
</ul>
</div>
<p>Documentación para iniciar el servidor SSH de WSL junto con el arranque del sistema de Windows. El comportamiento normal es que WSL no iniciará una tarea mientras no ejecutemos el bash de Linux e iniciemos manualmente el servicio SSH.</p>
<div class="section" id="permitir-iniciar-el-servicio-ssh-sin-password">
<h2><a class="toc-backref" href="#id10">Permitir iniciar el servicio SSH sin password</a><a class="headerlink" href="#permitir-iniciar-el-servicio-ssh-sin-password" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Editar los permisos de <code class="docutils literal notranslate"><span class="pre">/etc/sudoers</span></code> con <code class="docutils literal notranslate"><span class="pre">visudo</span></code>:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo visudo
</pre></div>
</div>
<ul class="simple">
<li>Añadir la siguiente línea al final del archivo <code class="docutils literal notranslate"><span class="pre">/etc/sudoers</span></code> para tener permisos de iniciar el servicio de SSH:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>%sudo <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /etc/init.d/ssh start
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Otras opciones de permisos en <code class="docutils literal notranslate"><span class="pre">/etc/sudoers</span></code>:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start/Stop scripts for ssh service</span>
%sudo <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /etc/init.d/ssh

<span class="c1"># service command</span>
%sudo <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /usr/sbin/service

<span class="c1"># ssh command</span>
%sudo <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /usr/bin/ssh

<span class="c1"># sshd command</span>
%sudo <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /usr/sbin/sshd
</pre></div>
</div>
</div>
</div>
<div class="section" id="crear-una-nueva-tarea-en-el-programador-de-tareas-de-windows">
<h2><a class="toc-backref" href="#id11">Crear una nueva tarea en el Programador de tareas de Windows</a><a class="headerlink" href="#crear-una-nueva-tarea-en-el-programador-de-tareas-de-windows" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Abrir el programa <span class="guilabel">Programador de tareas</span>:</li>
</ul>
<div class="figure align-center" id="id1">
<img alt="../../../_images/windows_search.png" src="../../../_images/windows_search.png" />
<p class="caption"><span class="caption-text">Búsqueda de Windows: <span class="guilabel">Programador de tareas</span></span></p>
</div>
<ul class="simple">
<li>En el <span class="guilabel">Programador de tareas</span>, seleccionar la opción <span class="guilabel">Crear tarea básica…</span>:</li>
</ul>
<div class="figure align-center" id="id2">
<img alt="../../../_images/programador_de_tareas.png" src="../../../_images/programador_de_tareas.png" />
<p class="caption"><span class="caption-text">Búsqueda de Windows: <span class="guilabel">Programador de tareas</span></span></p>
</div>
<ul class="simple">
<li>Pasos para la creación de una nueva tarea:</li>
</ul>
<ol class="arabic simple">
<li>Dar un Nombre y Descripción a la nueva tarea:</li>
</ol>
<div class="figure align-center" id="id3">
<img alt="../../../_images/nueva_tarea1.png" src="../../../_images/nueva_tarea1.png" />
<p class="caption"><span class="caption-text">Dar un Nombre y Descripción a la tarea</span></p>
</div>
<ol class="arabic simple" start="2">
<li>Elegir como desencadenante de la acción <span class="guilabel">Al iniciar sesión</span>:</li>
</ol>
<div class="figure align-center" id="id4">
<img alt="../../../_images/nueva_tarea2.png" src="../../../_images/nueva_tarea2.png" />
<p class="caption"><span class="caption-text">Desencadenador de tarea: <span class="guilabel">Al iniciar sesión</span></span></p>
</div>
<ol class="arabic simple" start="3">
<li>Elegir como acción que realizará la tarea <span class="guilabel">Iniciar un programa</span>:</li>
</ol>
<div class="figure align-center" id="id5">
<img alt="../../../_images/nueva_tarea3.png" src="../../../_images/nueva_tarea3.png" />
<p class="caption"><span class="caption-text">Acción de la tarea: <span class="guilabel">Iniciar un programa</span></span></p>
</div>
<ol class="arabic simple" start="4">
<li>El programa a ejecutarse será el bash de WSL y le pasamos como argumento el comando a ejecutar:</li>
</ol>
<ul class="simple">
<li>Programa o script: <code class="docutils literal notranslate"><span class="pre">C:\Windows\System32\bash.exe</span></code></li>
<li>Argumentos: <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">&quot;sudo</span> <span class="pre">/etc/init.d/ssh</span> <span class="pre">start&quot;</span></code></li>
</ul>
<div class="figure align-center" id="id6">
<img alt="../../../_images/nueva_tarea4.png" src="../../../_images/nueva_tarea4.png" />
<p class="caption"><span class="caption-text">Programa a ejecutar con sus argumentos</span></p>
</div>
<ol class="arabic simple" start="5">
<li>Revisar la configuración de la tarea y clic en <span class="guilabel">Finalizar</span>:</li>
</ol>
<div class="figure align-center" id="id7">
<img alt="../../../_images/nueva_tarea5.png" src="../../../_images/nueva_tarea5.png" />
<p class="caption"><span class="caption-text">Revisar el resumen de la tarea</span></p>
</div>
<ol class="arabic simple" start="6">
<li>En la barra lateral izquierda, escogemos la opción <span class="guilabel">Biblioteca del Programador de tareas</span> y podremos ver listada nuestra nueva tarea:</li>
</ol>
<div class="figure align-center" id="id8">
<img alt="../../../_images/nueva_tarea6.png" src="../../../_images/nueva_tarea6.png" />
<p class="caption"><span class="caption-text">Nueva tarea agregada a la Biblioteca</span></p>
</div>
</div>
<div class="section" id="comprobar-funcionamiento">
<h2><a class="toc-backref" href="#id12">Comprobar funcionamiento</a><a class="headerlink" href="#comprobar-funcionamiento" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para comprobar que se está ejecutando el servicio de SSH de WSL al iniciar el sistema de Windows realizaremos los siguientes pasos:</p>
<ol class="arabic simple">
<li>Reiniciar nuestro sistema de Windows</li>
<li>Desde un equipo remoto haremos conexión SSH al usuario, IP y puerto pertenecientes al WSL:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh mogago@192.168.1.8 -p <span class="m">2222</span>
mogago@192.168.1.8 s password:
</pre></div>
</div>
<p>Si la conexión por SSH al equipo remoto ha sido exitosa, hemos configurado correctamente la tarea.</p>
</div>
<div class="section" id="referencias">
<h2><a class="toc-backref" href="#id13">Referencias</a><a class="headerlink" href="#referencias" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://www.illuminiastudios.com/dev-diaries/ssh-on-windows-subsystem-for-linux/">SSH on Windows Subsystem for Linux (WSL)</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../windows-ssh/_windows-subsystem-for-linux.html" class="btn btn-neutral float-right" title="SSH en Windows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="enabling_ssh_into_wsl.html" class="btn btn-neutral float-left" title="Enabling SSH into WSL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gabriel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>