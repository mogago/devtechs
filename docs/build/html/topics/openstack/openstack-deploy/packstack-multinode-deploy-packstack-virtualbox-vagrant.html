

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Despliegue de OpenStack Multinode con Packstack, VirtualBox y Vagrant &mdash; documentación de DevTechs - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="Despliegue de OpenStack con Packstack y VirtualBox" href="packstack-multinode-deploy-packstack-virtualbox.html" />
    <link rel="prev" title="Despliegue de OpenStack Singlenode con Packstack, VirtualBox y Vagrant" href="packstack-singlenode-deploy-packstack-virtualbox-vagrant.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> DevTechs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ansible/_ansible.html">Ansible</a></li>
</ul>
<p class="caption"><span class="caption-text">Git &amp; GitHub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/_gitgithub.html">Git y GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gitgithub/gitgithub-lessons.html">Git &amp; GitHub Lessons</a></li>
</ul>
<p class="caption"><span class="caption-text">GNU/Linux</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/_gnulinux.html">GNU/Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ssh.html">SSH (Secure SHell)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/user-management.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/new-disk-dd.html">Creando una imagen de disco con <code class="docutils literal notranslate"><span class="pre">dd</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/archlinux/_archlinux.html">ArchLinux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gnulinux/ubuntu/_ubuntu.html">Ubuntu</a></li>
</ul>
<p class="caption"><span class="caption-text">Markdown</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../markdown/_markdown.html">Markdown</a></li>
</ul>
<p class="caption"><span class="caption-text">OpenStack</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_openstack.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack-essentials/_openstack-essentials.html">OpenStack Essentials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_openstack-deploy.html">OpenStack Deploy Methods</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="packstack-singlenode-deploy-packstack-virtualbox-vagrant.html">Despliegue de OpenStack Singlenode con Packstack, VirtualBox y Vagrant</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Despliegue de OpenStack Multinode con Packstack, VirtualBox y Vagrant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisitos-del-sistema">Prerequisitos del sistema</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuracion-de-virtualbox">Configuración de VirtualBox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#host-only-network-adapter">Host-only Network Adapter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#definicion-del-archivo-vagrantfile">Definición del archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#definicion-de-archivos-de-configuracion-de-nodos">Definición de archivos de configuración de nodos</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#controller-network-packstack-setup-sh">Controller/Network (<code class="docutils literal notranslate"><span class="pre">packstack_setup.sh</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compute-1-compute1-setup-sh">Compute 1 (<code class="docutils literal notranslate"><span class="pre">compute1_setup.sh</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compute-2-compute2-setup-sh">Compute 2 (<code class="docutils literal notranslate"><span class="pre">compute2_setup.sh</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#correr-el-entorno-vagrant-de-maquinas-virtuales">Correr el entorno Vagrant de máquinas virtuales</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instalacion-de-openstack-con-packstack">Instalación de OpenStack con Packstack</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pruebas-en-el-entorno-openstack-desplegado">Pruebas en el entorno OpenStack desplegado</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anexo-1-configuracion-de-red-desplegada">Anexo 1: Configuración de red desplegada</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#host-configuration-windows-user">Host configuration (Windows user)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vm-configuration-virtualbox-config">VM configuration (virtualBox config)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vm-configuration-openstack-config">VM configuration (OpenStack config)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anexo-2-graficos-de-red-desplegada">Anexo 2: Gráficos de red desplegada</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#red-general-total-host-vms-tenant-networks">Red general total (Host + VMs + Tenant Networks)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#red-e-interfaces-internas-vms-tenant-networks">Red e interfaces internas (VMs + Tenant Networks)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anexo-3-interfaces-de-red-ovs-bridges">Anexo 3: Interfaces de red, OvS, bridges</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anexo-4-pruebas-de-trafico">Anexo 4: Pruebas de tráfico</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#comunicacion-entre-instancias-de-compute-nodes-distintos">Comunicación entre instancias de Compute nodes distintos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comunicacion-de-instancia-con-internet">Comunicación de instancia con Internet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anexo-5-archivo-answers-txt-de-packstack-generado">Anexo 5: Archivo answers.txt de packstack generado</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packstack-multinode-deploy-packstack-virtualbox.html">Despliegue de OpenStack con Packstack y VirtualBox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../openstack-guide/_openstack-guide.html">OpenStack initial configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">PXE &amp; Kickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pxekickstart/_pxekickstart.html">PXE &amp; Kickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/_python.html">Python</a></li>
</ul>
<p class="caption"><span class="caption-text">RaspberryPi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/_raspberrypi.html">RaspberryPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/noobs.html">NOOBS (New Out Of Box Software)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/touchscreen.html">Touchscreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../raspberrypi/raspbian-config.html">Raspbian configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">SDN</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/_sdn.html">SDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sdn/sdn-with-openstack-book/_sdn-with-openstack-book.html">SDN with OpenStack Book</a></li>
</ul>
<p class="caption"><span class="caption-text">Virtualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/_virtualization.html">Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/mastering-kvm-virtualization-book/_mastering-kvm-virtualization-book.html">Mastering KVM Virtualization Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/qemu-kvm/_qemu-kvm.html">QEMU/KVM Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/network-virtualization/_network-virtualization.html">Network Virtualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virtualization/storage-virtualization/_storage-virtualization.html">Storage Virtualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web/_web.html">Web</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DevTechs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_openstack-deploy.html">OpenStack Deploy Methods</a> &raquo;</li>
        
      <li>Despliegue de OpenStack Multinode con Packstack, VirtualBox y Vagrant</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/topics/openstack/openstack-deploy/packstack-multinode-deploy-packstack-virtualbox-vagrant.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="despliegue-de-openstack-multinode-con-packstack-virtualbox-y-vagrant">
<h1><a class="toc-backref" href="#id15">Despliegue de OpenStack Multinode con Packstack, VirtualBox y Vagrant</a><a class="headerlink" href="#despliegue-de-openstack-multinode-con-packstack-virtualbox-y-vagrant" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#despliegue-de-openstack-multinode-con-packstack-virtualbox-y-vagrant" id="id15">Despliegue de OpenStack Multinode con Packstack, VirtualBox y Vagrant</a><ul>
<li><a class="reference internal" href="#prerequisitos-del-sistema" id="id16">Prerequisitos del sistema</a></li>
<li><a class="reference internal" href="#configuracion-de-virtualbox" id="id17">Configuración de VirtualBox</a><ul>
<li><a class="reference internal" href="#host-only-network-adapter" id="id18">Host-only Network Adapter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#definicion-del-archivo-vagrantfile" id="id19">Definición del archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code></a></li>
<li><a class="reference internal" href="#definicion-de-archivos-de-configuracion-de-nodos" id="id20">Definición de archivos de configuración de nodos</a><ul>
<li><a class="reference internal" href="#controller-network-packstack-setup-sh" id="id21">Controller/Network (<code class="docutils literal notranslate"><span class="pre">packstack_setup.sh</span></code>)</a></li>
<li><a class="reference internal" href="#compute-1-compute1-setup-sh" id="id22">Compute 1 (<code class="docutils literal notranslate"><span class="pre">compute1_setup.sh</span></code>)</a></li>
<li><a class="reference internal" href="#compute-2-compute2-setup-sh" id="id23">Compute 2 (<code class="docutils literal notranslate"><span class="pre">compute2_setup.sh</span></code>)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#correr-el-entorno-vagrant-de-maquinas-virtuales" id="id24">Correr el entorno Vagrant de máquinas virtuales</a></li>
<li><a class="reference internal" href="#instalacion-de-openstack-con-packstack" id="id25">Instalación de OpenStack con Packstack</a></li>
<li><a class="reference internal" href="#pruebas-en-el-entorno-openstack-desplegado" id="id26">Pruebas en el entorno OpenStack desplegado</a></li>
<li><a class="reference internal" href="#anexo-1-configuracion-de-red-desplegada" id="id27">Anexo 1: Configuración de red desplegada</a><ul>
<li><a class="reference internal" href="#host-configuration-windows-user" id="id28">Host configuration (Windows user)</a></li>
<li><a class="reference internal" href="#vm-configuration-virtualbox-config" id="id29">VM configuration (virtualBox config)</a><ul>
<li><a class="reference internal" href="#interfaces-desde-el-lado-host" id="id30">Interfaces desde el lado host</a></li>
<li><a class="reference internal" href="#interfaces-desde-el-lado-guest" id="id31">Interfaces desde el lado guest</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vm-configuration-openstack-config" id="id32">VM configuration (OpenStack config)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anexo-2-graficos-de-red-desplegada" id="id33">Anexo 2: Gráficos de red desplegada</a><ul>
<li><a class="reference internal" href="#red-general-total-host-vms-tenant-networks" id="id34">Red general total (Host + VMs + Tenant Networks)</a></li>
<li><a class="reference internal" href="#red-e-interfaces-internas-vms-tenant-networks" id="id35">Red e interfaces internas (VMs + Tenant Networks)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anexo-3-interfaces-de-red-ovs-bridges" id="id36">Anexo 3: Interfaces de red, OvS, bridges</a></li>
<li><a class="reference internal" href="#anexo-4-pruebas-de-trafico" id="id37">Anexo 4: Pruebas de tráfico</a><ul>
<li><a class="reference internal" href="#comunicacion-entre-instancias-de-compute-nodes-distintos" id="id38">Comunicación entre instancias de Compute nodes distintos</a></li>
<li><a class="reference internal" href="#comunicacion-de-instancia-con-internet" id="id39">Comunicación de instancia con Internet</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anexo-5-archivo-answers-txt-de-packstack-generado" id="id40">Anexo 5: Archivo answers.txt de packstack generado</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="prerequisitos-del-sistema">
<h2><a class="toc-backref" href="#id16">Prerequisitos del sistema</a><a class="headerlink" href="#prerequisitos-del-sistema" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Desde nuestro sistema Operativo (Windows, macOS, Linux) debemos tener instaladas los siguientes programas:</p>
<ul class="simple">
<li>VirtualBox</li>
<li>Vagrant</li>
</ul>
<p>Este escenario de OpenStack que será desplegado consta de 3 VMs: un Controller/Network node y dos Compute nodes. Se requiere al menos 12 GB de RAM y 4 CPUs</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p>Si existen errores en la creación de las instancias o que las instancias creadas se apagan automáticamete, esto podría deberse a la falta de recursos en el host.</p>
<p class="last">Revisar la memoria RAM disponible con <code class="docutils literal notranslate"><span class="pre">free</span> <span class="pre">-m</span></code> y el uso de CPU con <code class="docutils literal notranslate"><span class="pre">top</span></code> o <code class="docutils literal notranslate"><span class="pre">htop</span></code>. En caso los recursos se están usando al máximo, apagar la VM y asignarle más recursos desde el host en VirtualBox.</p>
</div>
</div>
<div class="section" id="configuracion-de-virtualbox">
<h2><a class="toc-backref" href="#id17">Configuración de VirtualBox</a><a class="headerlink" href="#configuracion-de-virtualbox" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="host-only-network-adapter">
<h3><a class="toc-backref" href="#id18">Host-only Network Adapter</a><a class="headerlink" href="#host-only-network-adapter" title="Enlazar permanentemente con este título">¶</a></h3>
<ol class="arabic simple">
<li>Crear un Host-only Network Adapter haciendo clic en el botón <span class="guilabel">Global Tools</span>, <span class="guilabel">Host Network Manager</span>. Clic en el botón <span class="guilabel">Create</span>:</li>
</ol>
<div class="figure align-center" id="id1">
<img alt="../../../_images/Windows-VirtualBox-HostNetworkManager-Create-Adapter-1.png" src="../../../_images/Windows-VirtualBox-HostNetworkManager-Create-Adapter-1.png" />
<p class="caption"><span class="caption-text">Windows - VirtualBox v5.2 - Crear un nuevo adaptador</span></p>
</div>
<div class="figure align-center" id="id2">
<img alt="../../../_images/Linux-VirtualBox-HostNetworkManager-Create-Adapter-1.png" src="../../../_images/Linux-VirtualBox-HostNetworkManager-Create-Adapter-1.png" />
<p class="caption"><span class="caption-text">Linux - VirtualBox v6.0 - Crear un nuevo adaptador</span></p>
</div>
<ol class="arabic simple" start="2">
<li>Se creará un adaptador con un nombre predefinido al cual podremos editar la dirección IPv4 respectiva. En este caso no será necesario activar la opción de DHCP:</li>
</ol>
<div class="figure align-center" id="id3">
<img alt="../../../_images/Windows-VirtualBox-HostNetworkManager-Create-Adapter-2.png" src="../../../_images/Windows-VirtualBox-HostNetworkManager-Create-Adapter-2.png" />
<p class="caption"><span class="caption-text">Windows - VirtualBox v5.2 - Configuración del adaptador</span></p>
</div>
<div class="figure align-center" id="id4">
<img alt="../../../_images/Linux-VirtualBox-HostNetworkManager-Create-Adapter-2.png" src="../../../_images/Linux-VirtualBox-HostNetworkManager-Create-Adapter-2.png" />
<p class="caption"><span class="caption-text">Linux - VirtualBox v6.0 - Configuración del adaptador</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Sobre el adaptador de red creado:</p>
<ul class="last simple">
<li>El adaptador pertenece a la red de management</li>
<li>La dirección IP del adaptador es el Host-side de la red</li>
</ul>
</div>
</div>
</div>
<div class="section" id="definicion-del-archivo-vagrantfile">
<h2><a class="toc-backref" href="#id19">Definición del archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code></a><a class="headerlink" href="#definicion-del-archivo-vagrantfile" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code> se define de la siguiente forma:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- mode: ruby -*-</span>
<span class="c1"># vi: set ft=ruby :</span>
<span class="nv">servers</span><span class="o">=[</span>
  <span class="o">{</span>
    :hostname <span class="o">=</span>&gt; <span class="s2">&quot;compute1&quot;</span>,
    :box <span class="o">=</span>&gt; <span class="s2">&quot;geerlingguy/centos7&quot;</span>,
    :ram <span class="o">=</span>&gt; <span class="m">2048</span>,
    :cpu <span class="o">=</span>&gt; <span class="m">1</span>,
    :script <span class="o">=</span>&gt; <span class="s2">&quot;sh /vagrant/compute1_setup.sh&quot;</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    :hostname <span class="o">=</span>&gt; <span class="s2">&quot;compute2&quot;</span>,
    :box <span class="o">=</span>&gt; <span class="s2">&quot;geerlingguy/centos7&quot;</span>,
    :ram <span class="o">=</span>&gt; <span class="m">2048</span>,
    :cpu <span class="o">=</span>&gt; <span class="m">1</span>,
    :script <span class="o">=</span>&gt; <span class="s2">&quot;sh /vagrant/compute2_setup.sh&quot;</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    :hostname <span class="o">=</span>&gt; <span class="s2">&quot;packstack&quot;</span>,
    :box <span class="o">=</span>&gt; <span class="s2">&quot;geerlingguy/centos7&quot;</span>,
    :ram <span class="o">=</span>&gt; <span class="m">8192</span>,
    :cpu <span class="o">=</span>&gt; <span class="m">2</span>,
    :script <span class="o">=</span>&gt; <span class="s2">&quot;sh /vagrant/packstack_setup.sh&quot;</span>
  <span class="o">}</span>
<span class="o">]</span>
<span class="c1"># All Vagrant configuration is done below. The &quot;2&quot; in Vagrant.configure</span>
<span class="c1"># configures the configuration version (we support older styles for</span>
<span class="c1"># backwards compatibility). Please don&#39;t change it unless you know what</span>
<span class="c1"># you&#39;re doing.</span>
Vagrant.configure<span class="o">(</span><span class="s2">&quot;2&quot;</span><span class="o">)</span> <span class="k">do</span> <span class="p">|</span>config<span class="p">|</span>
  servers.each <span class="k">do</span> <span class="p">|</span>machine<span class="p">|</span>
    config.vm.define machine<span class="o">[</span>:hostname<span class="o">]</span> <span class="k">do</span> <span class="p">|</span>node<span class="p">|</span>
      node.vm.box <span class="o">=</span> machine<span class="o">[</span>:box<span class="o">]</span>
      node.vm.hostname <span class="o">=</span> machine<span class="o">[</span>:hostname<span class="o">]</span>
      node.vm.provider <span class="s2">&quot;virtualbox&quot;</span> <span class="k">do</span> <span class="p">|</span>vb<span class="p">|</span>
        vb.customize <span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span>, :id, <span class="s2">&quot;--memory&quot;</span>, machine<span class="o">[</span>:ram<span class="o">]</span>, <span class="s2">&quot;--cpus&quot;</span>, machine<span class="o">[</span>:cpu<span class="o">]]</span>
        vb.customize <span class="o">[</span><span class="s2">&quot;modifyvm&quot;</span>, :id, <span class="s2">&quot;--nic2&quot;</span>, <span class="s2">&quot;hostonly&quot;</span>, <span class="s2">&quot;--hostonlyadapter2&quot;</span>, <span class="s2">&quot;VirtualBox Host-Only Ethernet Adapter #2&quot;</span><span class="o">]</span>
      end
      node.vm.provision <span class="s2">&quot;shell&quot;</span>, inline: machine<span class="o">[</span>:script<span class="o">]</span>, privileged: true, run: <span class="s2">&quot;once&quot;</span>
    end
  end
end
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<ul class="last simple">
<li>Vagrant configura automáticamente la primera interfaz de red de una nueva VM en la red NAT. A través de esta red podemos acceder desde el sistema host al Dashboard o CLI del nodo.</li>
<li>La primera interfaz de red se usa para tener salida a Internet.</li>
<li>La segunda interfaz sirve para proveer conectividad del sistema host a la VM (y viceversa).</li>
</ul>
</div>
</div>
<div class="section" id="definicion-de-archivos-de-configuracion-de-nodos">
<h2><a class="toc-backref" href="#id20">Definición de archivos de configuración de nodos</a><a class="headerlink" href="#definicion-de-archivos-de-configuracion-de-nodos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En el mismo directorio donde tenemos almacenado el archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code> guardaremos los scripts <code class="docutils literal notranslate"><span class="pre">.sh</span></code> que se correrán cuando Vagrant lance las VMs en su respectivo nodo:</p>
<div class="section" id="controller-network-packstack-setup-sh">
<h3><a class="toc-backref" href="#id21">Controller/Network (<code class="docutils literal notranslate"><span class="pre">packstack_setup.sh</span></code>)</a><a class="headerlink" href="#controller-network-packstack-setup-sh" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /bin/sh</span>

<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>en_US.utf-8
<span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>en_US.utf-8

sed -i -e <span class="s1">&#39;s/enabled=1/enabled=0/g&#39;</span> /etc/yum/pluginconf.d/fastestmirror.conf

cat <span class="s">&lt;&lt;- EOF &gt; /etc/sysconfig/network-scripts/ifcfg-enp0s8</span>
<span class="s">DEVICE=&quot;enp0s8&quot;</span>
<span class="s">DEFROUTE=&quot;no&quot;</span>
<span class="s">BOOTPROTO=&quot;static&quot;</span>
<span class="s">IPADDR=&quot;10.0.1.20&quot;</span>
<span class="s">NETMASK=&quot;255.255.255.0&quot;</span>
<span class="s">DNS1=&quot;8.8.8.8&quot;</span>
<span class="s">TYPE=&quot;Ethernet&quot;</span>
<span class="s">ONBOOT=yes</span>
<span class="s">EOF</span>

ifdown enp0s8
ifup enp0s8

cat <span class="s">&lt;&lt;- EOF &gt; /etc/hosts</span>
<span class="s">127.0.0.1 localhost</span>
<span class="s">10.0.1.20 packstack</span>
<span class="s">10.0.1.21 compute1</span>
<span class="s">10.0.1.22 compute2</span>
<span class="s">EOF</span>

<span class="nb">echo</span> <span class="s1">&#39;centos&#39;</span> &gt;/etc/yum/vars/contentdir

systemctl disable firewalld
systemctl stop firewalld
systemctl disable NetworkManager
systemctl stop NetworkManager
systemctl <span class="nb">enable</span> network
systemctl start network

yum install -y centos-release-openstack-queens
yum update -y
yum install -y openstack-packstack

cat <span class="s">&lt;&lt;- EOF &gt; /home/vagrant/run-packstack.sh</span>
<span class="s">export LANG=en_US.utf-8</span>
<span class="s">export LC_ALL=en_US.utf-8</span>
<span class="s">echo &quot;Running &#39;ssh vagrant@compute1&#39;&quot;</span>
<span class="s">echo &quot;The password is &#39;vagrant&#39;&quot;</span>
<span class="s">ssh vagrant@compute1 echo &quot;OK&quot;</span>
<span class="s">echo &quot;Running &#39;ssh vagrant@compute2&#39;&quot;</span>
<span class="s">echo &quot;The password is &#39;vagrant&#39;&quot;</span>
<span class="s">ssh vagrant@compute2 echo &quot;OK&quot;</span>
<span class="s">echo &quot;Running packstack with options&quot;</span>
<span class="s">echo &quot;The &#39;root&#39; password is &#39;vagrant&#39;&quot;</span>
<span class="s">packstack --install-hosts=&quot;10.0.1.20&quot;,&quot;10.0.1.21&quot;,&quot;10.0.1.22&quot; --os-heat-install=y --os-heat-cfn-install=y --os-neutron-lbaas-install=y --keystone-admin-passwd=&quot;openstack&quot; --keystone-demo-passwd=&quot;openstack&quot;</span>
<span class="s">EOF</span>

chown vagrant:vagrant /home/vagrant/run-packstack.sh
</pre></div>
</div>
</div>
<div class="section" id="compute-1-compute1-setup-sh">
<h3><a class="toc-backref" href="#id22">Compute 1 (<code class="docutils literal notranslate"><span class="pre">compute1_setup.sh</span></code>)</a><a class="headerlink" href="#compute-1-compute1-setup-sh" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /bin/sh</span>

<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>en_US.utf-8
<span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>en_US.utf-8

sed -i -e <span class="s1">&#39;s/enabled=1/enabled=0/g&#39;</span> /etc/yum/pluginconf.d/fastestmirror.conf
<span class="nb">echo</span> <span class="s1">&#39;centos&#39;</span> &gt;/etc/yum/vars/contentdir

cat <span class="s">&lt;&lt;- EOF &gt; /etc/sysconfig/network-scripts/ifcfg-enp0s8</span>
<span class="s">DEVICE=&quot;enp0s8&quot;</span>
<span class="s">DEFROUTE=&quot;no&quot;</span>
<span class="s">BOOTPROTO=&quot;static&quot;</span>
<span class="s">IPADDR=&quot;10.0.1.21&quot;</span>
<span class="s">NETMASK=&quot;255.255.255.0&quot;</span>
<span class="s">DNS1=&quot;8.8.8.8&quot;</span>
<span class="s">TYPE=&quot;Ethernet&quot;</span>
<span class="s">ONBOOT=yes</span>
<span class="s">EOF</span>

ifdown enp0s8
ifup enp0s8

cat <span class="s">&lt;&lt;- EOF &gt; /etc/hosts</span>
<span class="s">127.0.0.1 localhost</span>
<span class="s">10.0.1.20 packstack</span>
<span class="s">10.0.1.21 compute1</span>
<span class="s">10.0.1.22 compute2</span>
<span class="s">EOF</span>

systemctl disable firewalld
systemctl stop firewalld
systemctl disable NetworkManager
systemctl stop NetworkManager
systemctl <span class="nb">enable</span> network
systemctl start network
</pre></div>
</div>
</div>
<div class="section" id="compute-2-compute2-setup-sh">
<h3><a class="toc-backref" href="#id23">Compute 2 (<code class="docutils literal notranslate"><span class="pre">compute2_setup.sh</span></code>)</a><a class="headerlink" href="#compute-2-compute2-setup-sh" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /bin/sh</span>

<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>en_US.utf-8
<span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>en_US.utf-8

sed -i -e <span class="s1">&#39;s/enabled=1/enabled=0/g&#39;</span> /etc/yum/pluginconf.d/fastestmirror.conf
<span class="nb">echo</span> <span class="s1">&#39;centos&#39;</span> &gt;/etc/yum/vars/contentdir

cat <span class="s">&lt;&lt;- EOF &gt; /etc/sysconfig/network-scripts/ifcfg-enp0s8</span>
<span class="s">DEVICE=&quot;enp0s8&quot;</span>
<span class="s">DEFROUTE=&quot;no&quot;</span>
<span class="s">BOOTPROTO=&quot;static&quot;</span>
<span class="s">IPADDR=&quot;10.0.1.22&quot;</span>
<span class="s">NETMASK=&quot;255.255.255.0&quot;</span>
<span class="s">DNS1=&quot;8.8.8.8&quot;</span>
<span class="s">TYPE=&quot;Ethernet&quot;</span>
<span class="s">ONBOOT=yes</span>
<span class="s">EOF</span>

ifdown enp0s8
ifup enp0s8

cat <span class="s">&lt;&lt;- EOF &gt; /etc/hosts</span>
<span class="s">127.0.0.1 localhost</span>
<span class="s">10.0.1.20 packstack</span>
<span class="s">10.0.1.21 compute1</span>
<span class="s">10.0.1.22 compute2</span>
<span class="s">EOF</span>

systemctl disable firewalld
systemctl stop firewalld
systemctl disable NetworkManager
systemctl stop NetworkManager
systemctl <span class="nb">enable</span> network
systemctl start network
</pre></div>
</div>
</div>
</div>
<div class="section" id="correr-el-entorno-vagrant-de-maquinas-virtuales">
<h2><a class="toc-backref" href="#id24">Correr el entorno Vagrant de máquinas virtuales</a><a class="headerlink" href="#correr-el-entorno-vagrant-de-maquinas-virtuales" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En el terminal, cambiar de directorio al lugar donde tenemos almacenado el archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code> y los scripts <code class="docutils literal notranslate"><span class="pre">.sh</span></code> de los nodos. Luego, desplegar las máquinas virtuales con <code class="docutils literal notranslate"><span class="pre">vagrant</span> <span class="pre">up</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> multinode-packstack-vagrant

$ vagrant up
</pre></div>
</div>
<p>Comenzará la configuración y despliegue de máquinas virtuales en VirtualBox conforme se ha especificado en el archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code>, luego se correrán automáticamente los scripts <code class="docutils literal notranslate"><span class="pre">.sh</span></code> que se ha definido para cada VM:</p>
<div class="figure align-center" id="id5">
<img alt="../../../_images/vagrant-deploy-virtualbox-vms.png" src="../../../_images/vagrant-deploy-virtualbox-vms.png" />
<p class="caption"><span class="caption-text">VirtualBox - VMs desplegadas por Vagrant</span></p>
</div>
</div>
<div class="section" id="instalacion-de-openstack-con-packstack">
<h2><a class="toc-backref" href="#id25">Instalación de OpenStack con Packstack</a><a class="headerlink" href="#instalacion-de-openstack-con-packstack" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Ubicándonos en el mismo directorio donde tenemos el archivo <code class="docutils literal notranslate"><span class="pre">Vagrantfile</span></code> entraremos al terminal de la VM <code class="docutils literal notranslate"><span class="pre">packstack</span></code> con el siguiente comando:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ vagrant ssh packstack
</pre></div>
</div>
<p>Dentro del terminal de esta VM correremos el archivo <code class="docutils literal notranslate"><span class="pre">run-packstack.sh</span></code> que se encuentra en el directorio <code class="docutils literal notranslate"><span class="pre">/home/vagrant/</span></code> y fue definido el el script <code class="docutils literal notranslate"><span class="pre">packstack_setup.sh</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ . run-packstack.sh
</pre></div>
</div>
<p>Este script corre comandos de prueba <code class="docutils literal notranslate"><span class="pre">ssh</span></code> a las VMs de los compute nodes para compartir las llaves SSH (imprime el mensaje OK en cada VM) y luego corre el comando packstack con opciones para la instalación de OpenStack. Nos pedirá ingresar la contraseña del usuario root de las VMs de los compute nodes.</p>
</div>
<div class="section" id="pruebas-en-el-entorno-openstack-desplegado">
<h2><a class="toc-backref" href="#id26">Pruebas en el entorno OpenStack desplegado</a><a class="headerlink" href="#pruebas-en-el-entorno-openstack-desplegado" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Luego de media hora aproximadamente (40 minutos en total: 5 min. despliegue de VMs + 35 min. instalación de OpenStack), la instalación de OpenStack con Packstack habrá finalizado y podremos ingresar al Dashboard o al CLI de OpenStack.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El Dashboard de OpenStack podría demorar un corto tiempo para arrancar la primera vez luego de haber instalado OpenStack.</p>
</div>
<p>Ahora realizaremos una prueba de despliegue desde el CLI:</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">La imagen de CirrOS que se crea por defecto como <code class="docutils literal notranslate"><span class="pre">demo</span></code> al instalar Packstack tiene fallos pues tiene un tamaño reducido de 273 bytes. La causa de esto es que puede ser que se haya descargado sin la opción <code class="docutils literal notranslate"><span class="pre">-L</span></code> del comando <code class="docutils literal notranslate"><span class="pre">curl</span></code>. Por lo tanto, crearemos nuestra propia imagen CirrOS:</p>
</div>
<p>La topología que se desea lograr es la siguiente:</p>
<div class="figure align-center" id="id6">
<img alt="../../../_images/openstack-sample-topology.png" src="../../../_images/openstack-sample-topology.png" />
<p class="caption"><span class="caption-text">OpenStack - Topología desplegada</span></p>
</div>
<p>Y los comandos que ejecutaremos en el nodo Controller/Network serán los siguientes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo su
<span class="s1">&#39;#&#39;</span> <span class="nb">cd</span> /root

<span class="s1">&#39;#&#39;</span> <span class="nb">source</span> keystonerc_admin

<span class="s1">&#39;#&#39;</span> mkdir images
<span class="s1">&#39;#&#39;</span> curl -o /root/images/cirros-0.4.0-x86_64-disk.img -L http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img
<span class="s1">&#39;#&#39;</span> openstack image create --min-disk <span class="m">1</span> --min-ram <span class="m">128</span> --public --disk-format qcow2 --file /root/images/cirros-0.4.0-x86_64-disk.img cirros1

<span class="s1">&#39;#&#39;</span> <span class="nb">source</span> keystonerc_demo

<span class="s1">&#39;#&#39;</span> openstack network list

+--------------------------------------+---------+--------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name    <span class="p">|</span> Subnets                              <span class="p">|</span>
+--------------------------------------+---------+--------------------------------------+
<span class="p">|</span> 836312ac-15d2-462c-a588-ccb6bda9953f <span class="p">|</span> private <span class="p">|</span> 7684b9ae-f2e4-4731-8b22-a4df18925ec0 <span class="p">|</span>
<span class="p">|</span> f1b16d9e-cb71-47e1-9654-d78eb54f1621 <span class="p">|</span> public  <span class="p">|</span> 2faf694b-320e-4e87-9fe6-2146b169c591 <span class="p">|</span>
+--------------------------------------+---------+--------------------------------------+

<span class="s1">&#39;#&#39;</span> openstack server create --image cirros1 --flavor <span class="m">1</span> --min <span class="m">2</span> --max <span class="m">2</span> --nic net-id<span class="o">=</span>836312ac-15d2-462c-a588-ccb6bda9953f <span class="nb">test</span>
</pre></div>
</div>
<p>En este despliegue de prueba se han creado dos instancias al mismo tiempo y con las mismas características de forma que usen todos los recursos de un hypervisor al crear una instancia y para crear otra instancia se requiera usar el hypervisor del otro compute node. Logrando tener una instancia en cada compute node (o equivalentemente, cada instancia administrada por un hypervisor distinto).</p>
<div class="figure align-center" id="id7">
<img alt="../../../_images/openstack-hypervisors-compute-nodes.png" src="../../../_images/openstack-hypervisors-compute-nodes.png" />
<p class="caption"><span class="caption-text">OpenStack - Uso de Hypervisors (Compute 1 y Compute 2)</span></p>
</div>
<div class="figure align-center" id="id8">
<img alt="../../../_images/openstack-multinode-test-instances.png" src="../../../_images/openstack-multinode-test-instances.png" />
<p class="caption"><span class="caption-text">OpenStack - Instancias desplegadas</span></p>
</div>
<p>Podremos ingresar a la consola de cada instancia desde el dashboard y probar conectividad entre ellas:</p>
<div class="figure align-center" id="id9">
<img alt="../../../_images/openstack-multinode-test-instance-test-1.png" src="../../../_images/openstack-multinode-test-instance-test-1.png" />
<p class="caption"><span class="caption-text">OpenStack - Consola <code class="docutils literal notranslate"><span class="pre">test-1</span></code></span></p>
</div>
<div class="figure align-center" id="id10">
<img alt="../../../_images/openstack-multinode-test-instance-test-2.png" src="../../../_images/openstack-multinode-test-instance-test-2.png" />
<p class="caption"><span class="caption-text">OpenStack - Consola <code class="docutils literal notranslate"><span class="pre">test-2</span></code></span></p>
</div>
</div>
<div class="section" id="anexo-1-configuracion-de-red-desplegada">
<h2><a class="toc-backref" href="#id27">Anexo 1: Configuración de red desplegada</a><a class="headerlink" href="#anexo-1-configuracion-de-red-desplegada" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="host-configuration-windows-user">
<h3><a class="toc-backref" href="#id28">Host configuration (Windows user)</a><a class="headerlink" href="#host-configuration-windows-user" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las interfaces de red que tenemos en el sistema host de Windows son las siguientes:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>C<span class="p">:</span><span class="nl">\Users\usuario</span><span class="c1">&gt;ipconfig</span>

Configuración IP de Windows


Adaptador de Ethernet VirtualBox Host-Only Network #2:

Sufijo DNS específico para la conexión. . :
Dirección IPv4. . . . . . . . . . . . . . : 10.0.1.1
Máscara de subred . . . . . . . . . . . . : 255.255.255.0
Puerta de enlace predeterminada . . . . . :

Adaptador de Ethernet Ethernet:

Sufijo DNS específico para la conexión. . :
Dirección IPv4. . . . . . . . . . . . . . : 192.168.1.10
Máscara de subred . . . . . . . . . . . . : 255.255.255.0
Puerta de enlace predeterminada . . . . . : 192.168.1.1
</pre></div>
</div>
<ul class="simple">
<li>La interfaz <code class="docutils literal notranslate"><span class="pre">Adaptador</span> <span class="pre">de</span> <span class="pre">Ethernet</span> <span class="pre">Ethernet</span></code> es nuestra tarjeta de red física con salida a Internet a través de un router físico (<code class="docutils literal notranslate"><span class="pre">192.168.1.1</span></code>). Se le ha asignado la IP <code class="docutils literal notranslate"><span class="pre">192.168.1.10</span></code>.</li>
<li>La interfaz <code class="docutils literal notranslate"><span class="pre">Adaptador</span> <span class="pre">de</span> <span class="pre">Ethernet</span> <span class="pre">VirtualBox</span> <span class="pre">Host-Only</span> <span class="pre">Network</span> <span class="pre">#2</span></code> ha sido creada con VirtualBox dentro de <code class="docutils literal notranslate"><span class="pre">Host</span> <span class="pre">Network</span> <span class="pre">Manager</span></code>. Se le ha asignado la IP <code class="docutils literal notranslate"><span class="pre">10.0.1.1</span></code>. Esta interfaz no cuenta con salida al exterior (Internet).</li>
</ul>
</div>
<div class="section" id="vm-configuration-virtualbox-config">
<h3><a class="toc-backref" href="#id29">VM configuration (virtualBox config)</a><a class="headerlink" href="#vm-configuration-virtualbox-config" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las 3 VMs creadas poseen cada una 2 interfaces del mismo tipo que pueden verse desde el lado del SO host o del lado del SO guest, obteniendo información útil de su implementación:</p>
<div class="section" id="interfaces-desde-el-lado-host">
<h4><a class="toc-backref" href="#id30">Interfaces desde el lado host</a><a class="headerlink" href="#interfaces-desde-el-lado-host" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Las VMs con sistema CentOS creadas por VirtualBox poseen dos interfaces del mismo tipo conectadas virtualmente:</p>
<ol class="arabic simple">
<li><strong>Adaptador 1 - Interfaz tipo NAT</strong>:</li>
</ol>
<p>La primera interfaz de red es usada para que la VM tenga salida a Internet (en la VM se ve como la interfaz <code class="docutils literal notranslate"><span class="pre">enp0s3</span></code> o <code class="docutils literal notranslate"><span class="pre">eth0</span></code>):</p>
<div class="figure align-center" id="id11">
<img alt="../../../_images/vm-multinode-packstack-adapter1.png" src="../../../_images/vm-multinode-packstack-adapter1.png" />
<p class="caption"><span class="caption-text">VirtualBox - Adaptador 1</span></p>
</div>
<ul class="simple">
<li>La interfaz se encuentra conectada a una red virtual tipo NAT.</li>
<li>En este caso la interfaz de cada VM tiene asignada la misma IP <code class="docutils literal notranslate"><span class="pre">10.0.2.15</span></code> y comparten la misma configuración de red (misma MAC).</li>
</ul>
<ol class="arabic simple" start="2">
<li><strong>Adaptador 2 - Interfaz tipo Host-only Adapter</strong>:</li>
</ol>
<p>La segunda interfaz de red de cada VM es usada para que exista comunicación entre el sistema host y la VM (en la VM se ve como la interfaz <code class="docutils literal notranslate"><span class="pre">enp0s8</span></code> o <code class="docutils literal notranslate"><span class="pre">eth1</span></code>):</p>
<div class="figure align-center" id="id12">
<img alt="../../../_images/vm-multinode-packstack-adapter2.png" src="../../../_images/vm-multinode-packstack-adapter2.png" />
<p class="caption"><span class="caption-text">VirtualBox - Adaptador 2</span></p>
</div>
<ul class="simple">
<li>La interfaz se encuentra conectada a la red física del host, siendo del tipo Host-only Adapter. Desde cada VM podemos llegar a los equipos dentro de la red host (<code class="docutils literal notranslate"><span class="pre">192.168.1.0/24</span></code>).</li>
<li>En este caso la IP de la interfaz del Controller/Network node es <code class="docutils literal notranslate"><span class="pre">10.0.1.20</span></code>, la IP de la interfaz del compute node 1 es <code class="docutils literal notranslate"><span class="pre">10.0.1.21</span></code>, la IP de la interfaz del compute node 2 es <code class="docutils literal notranslate"><span class="pre">10.0.1.22</span></code>.</li>
</ul>
</div>
<div class="section" id="interfaces-desde-el-lado-guest">
<h4><a class="toc-backref" href="#id31">Interfaces desde el lado guest</a><a class="headerlink" href="#interfaces-desde-el-lado-guest" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Las IPs de cada interfaz han sido obtenidas desde la consola de las VMs:</p>
<ol class="arabic simple">
<li>Adaptador 1 - Interfaz tipo NAT: <code class="docutils literal notranslate"><span class="pre">enp0s3</span></code> o <code class="docutils literal notranslate"><span class="pre">eth0</span></code></li>
<li>Adaptador 2 - Interfaz tipo Host-only Adapter: <code class="docutils literal notranslate"><span class="pre">enp0s8</span></code> o <code class="docutils literal notranslate"><span class="pre">eth1</span></code></li>
</ol>
<ul class="simple">
<li>Controller/Network node:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;#&#39;</span> ip addr

...

<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 78655sec preferred_lft 78655sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:08:08:b2 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.20/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe08:8b2/64 scope link
       valid_lft forever preferred_lft forever

...
</pre></div>
</div>
<ul class="simple">
<li>Compute node 1:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;#&#39;</span> ip addr

...

<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 78414sec preferred_lft 78414sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:2b:30:af brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.21/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe2b:30af/64 scope link
       valid_lft forever preferred_lft forever

...
</pre></div>
</div>
<ul class="simple">
<li>Compute node 2:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;#&#39;</span> ip addr

...

<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 78419sec preferred_lft 78419sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:d2:4c:f1 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.22/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fed2:4cf1/64 scope link
       valid_lft forever preferred_lft forever
</pre></div>
</div>
</div>
</div>
<div class="section" id="vm-configuration-openstack-config">
<h3><a class="toc-backref" href="#id32">VM configuration (OpenStack config)</a><a class="headerlink" href="#vm-configuration-openstack-config" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li>Interfaz dentro de la red pública de OpenStack:</li>
</ul>
<p>La interfaz <code class="docutils literal notranslate"><span class="pre">br-ex</span></code> es en realidad un OvS con una interfaz interna que posee una IP dentro de la red pública y solo se encuentra en el Controller/Network node:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;#&#39;</span> ip addr

...

<span class="m">5</span>: br-ex: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether 6a:f2:c8:bc:42:4e brd ff:ff:ff:ff:ff:ff
    inet <span class="m">172</span>.24.4.1/24 scope global br-ex
       valid_lft forever preferred_lft forever
    inet6 fe80::68f2:c8ff:febc:424e/64 scope link
       valid_lft forever preferred_lft forever

...
</pre></div>
</div>
<p>En este caso, la red pública es <code class="docutils literal notranslate"><span class="pre">172.24.4.0/24</span></code> y <code class="docutils literal notranslate"><span class="pre">br-ex</span></code> tiene la IP <code class="docutils literal notranslate"><span class="pre">172.24.4.1</span></code> asignada.</p>
</div>
</div>
<div class="section" id="anexo-2-graficos-de-red-desplegada">
<h2><a class="toc-backref" href="#id33">Anexo 2: Gráficos de red desplegada</a><a class="headerlink" href="#anexo-2-graficos-de-red-desplegada" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="red-general-total-host-vms-tenant-networks">
<h3><a class="toc-backref" href="#id34">Red general total (Host + VMs + Tenant Networks)</a><a class="headerlink" href="#red-general-total-host-vms-tenant-networks" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="figure align-center" id="id13">
<img alt="../../../_images/openstack-multinode-deployment-network.png" src="../../../_images/openstack-multinode-deployment-network.png" />
<p class="caption"><span class="caption-text">OpenStack: Host + VMs + Tenant Networks</span></p>
</div>
</div>
<div class="section" id="red-e-interfaces-internas-vms-tenant-networks">
<h3><a class="toc-backref" href="#id35">Red e interfaces internas (VMs + Tenant Networks)</a><a class="headerlink" href="#red-e-interfaces-internas-vms-tenant-networks" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="figure align-center" id="id14">
<img alt="../../../_images/openstack-multinode-deployment-internal-network.png" src="../../../_images/openstack-multinode-deployment-internal-network.png" />
<p class="caption"><span class="caption-text">OpenStack: Internal VMs + Tenant Networks</span></p>
</div>
</div>
</div>
<div class="section" id="anexo-3-interfaces-de-red-ovs-bridges">
<h2><a class="toc-backref" href="#id36">Anexo 3: Interfaces de red, OvS, bridges</a><a class="headerlink" href="#anexo-3-interfaces-de-red-ovs-bridges" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se presentan los bridges, OvS e interfaces de red de cada VM con el despliegue de OpenStack, solo con los elementos de demo instalados y 2 instancias lanzadas manualmente:</p>
<ul class="simple">
<li>Controller/Network node:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ip address

<span class="m">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="m">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
    link/loopback <span class="m">00</span>:00:00:00:00:00 brd <span class="m">00</span>:00:00:00:00:00
    inet <span class="m">127</span>.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 77961sec preferred_lft 77961sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:08:08:b2 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.20/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe08:8b2/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">4</span>: ovs-system: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether 9e:03:28:91:83:47 brd ff:ff:ff:ff:ff:ff
<span class="m">5</span>: br-ex: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether <span class="m">32</span>:ff:ae:d9:59:40 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">172</span>.24.4.1/24 scope global br-ex
       valid_lft forever preferred_lft forever
    inet6 fe80::30ff:aeff:fed9:5940/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">6</span>: br-int: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether <span class="m">12</span>:b8:dc:b4:52:4d brd ff:ff:ff:ff:ff:ff
<span class="m">7</span>: br-tun: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether 6e:9e:09:79:38:41 brd ff:ff:ff:ff:ff:ff
<span class="m">10</span>: vxlan_sys_4789: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">65000</span> qdisc noqueue master ovs-system state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether 1a:f3:1e:bf:73:fa brd ff:ff:ff:ff:ff:ff
    inet6 fe80::18f3:1eff:febf:73fa/64 scope link
       valid_lft forever preferred_lft forever
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ovs-vsctl show

c82010c9-0b35-4391-97f2-77e0946a1f26
    Manager <span class="s2">&quot;ptcp:6640:127.0.0.1&quot;</span>
        is_connected: <span class="nb">true</span>
    Bridge br-tun
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port <span class="s2">&quot;vxlan-0a000116&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000116&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.20&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.22&quot;</span><span class="o">}</span>
        Port <span class="s2">&quot;vxlan-0a000115&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000115&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.20&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.21&quot;</span><span class="o">}</span>
        Port br-tun
            Interface br-tun
                type: internal
        Port patch-int
            Interface patch-int
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-tun<span class="o">}</span>
    Bridge br-int
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port int-br-ex
            Interface int-br-ex
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>phy-br-ex<span class="o">}</span>
        Port <span class="s2">&quot;qg-0dc02115-5b&quot;</span>
            tag: <span class="m">2</span>
            Interface <span class="s2">&quot;qg-0dc02115-5b&quot;</span>
                type: internal
        Port patch-tun
            Interface patch-tun
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-int<span class="o">}</span>
        Port <span class="s2">&quot;qr-cbc140a5-76&quot;</span>
            tag: <span class="m">1</span>
            Interface <span class="s2">&quot;qr-cbc140a5-76&quot;</span>
                type: internal
        Port br-int
            Interface br-int
                type: internal
        Port <span class="s2">&quot;tapb10894b0-97&quot;</span>
            tag: <span class="m">1</span>
            Interface <span class="s2">&quot;tapb10894b0-97&quot;</span>
                type: internal
    Bridge br-ex
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port phy-br-ex
            Interface phy-br-ex
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>int-br-ex<span class="o">}</span>
        Port br-ex
            Interface br-ex
                type: internal
    ovs_version: <span class="s2">&quot;2.11.0&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li>Compute node 1:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ip address

<span class="m">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="m">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
    link/loopback <span class="m">00</span>:00:00:00:00:00 brd <span class="m">00</span>:00:00:00:00:00
    inet <span class="m">127</span>.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 77693sec preferred_lft 77693sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:2b:30:af brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.21/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe2b:30af/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">4</span>: ovs-system: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether <span class="m">12</span>:62:58:1e:15:29 brd ff:ff:ff:ff:ff:ff
<span class="m">5</span>: br-int: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1450</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether fa:31:12:ef:10:47 brd ff:ff:ff:ff:ff:ff
<span class="m">6</span>: br-tun: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether f2:34:e5:f9:bb:40 brd ff:ff:ff:ff:ff:ff
<span class="m">7</span>: vxlan_sys_4789: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">65000</span> qdisc noqueue master ovs-system state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether 8e:ea:c0:5b:31:90 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::8cea:c0ff:fe5b:3190/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">8</span>: qbr40be7332-c9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue state UP group default qlen <span class="m">1000</span>
    link/ether a6:a3:f6:b8:3e:a1 brd ff:ff:ff:ff:ff:ff
<span class="m">9</span>: qvo40be7332-c9@qvb40be7332-c9: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue master ovs-system state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">32</span>:16:e4:da:86:52 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::3016:e4ff:feda:8652/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">10</span>: qvb40be7332-c9@qvo40be7332-c9: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue master qbr40be7332-c9 state UP group default qlen <span class="m">1000</span>
    link/ether a6:a3:f6:b8:3e:a1 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::a4a3:f6ff:feb8:3ea1/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">11</span>: tap40be7332-c9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc pfifo_fast master qbr40be7332-c9 state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether fe:16:3e:3e:76:b9 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::fc16:3eff:fe3e:76b9/64 scope link
       valid_lft forever preferred_lft forever
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ovs-vsctl show

4357a757-09ee-4189-8edf-1c8bc9036850
    Manager <span class="s2">&quot;ptcp:6640:127.0.0.1&quot;</span>
        is_connected: <span class="nb">true</span>
    Bridge br-int
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port br-int
            Interface br-int
                type: internal
        Port <span class="s2">&quot;qvo40be7332-c9&quot;</span>
            tag: <span class="m">1</span>
            Interface <span class="s2">&quot;qvo40be7332-c9&quot;</span>
        Port patch-tun
            Interface patch-tun
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-int<span class="o">}</span>
    Bridge br-tun
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port patch-int
            Interface patch-int
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-tun<span class="o">}</span>
        Port br-tun
            Interface br-tun
                type: internal
        Port <span class="s2">&quot;vxlan-0a000114&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000114&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.21&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.20&quot;</span><span class="o">}</span>
        Port <span class="s2">&quot;vxlan-0a000116&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000116&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.21&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.22&quot;</span><span class="o">}</span>
    ovs_version: <span class="s2">&quot;2.11.0&quot;</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> brctl show

bridge name         bridge id           STP enabled     interfaces
qbr40be7332-c9      <span class="m">8000</span>.a6a3f6b83ea1   no              qvb40be7332-c9
                                                        tap40be7332-c9
</pre></div>
</div>
<ul class="simple">
<li>Compute node 2:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ip address

<span class="m">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="m">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="m">1000</span>
    link/loopback <span class="m">00</span>:00:00:00:00:00 brd <span class="m">00</span>:00:00:00:00:00
    inet <span class="m">127</span>.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
<span class="m">2</span>: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:03:ad:05 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.2.15/24 brd <span class="m">10</span>.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 77679sec preferred_lft 77679sec
    inet6 fe80::a00:27ff:fe03:ad05/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
<span class="m">3</span>: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1500</span> qdisc pfifo_fast state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">08</span>:00:27:d2:4c:f1 brd ff:ff:ff:ff:ff:ff
    inet <span class="m">10</span>.0.1.22/24 brd <span class="m">10</span>.0.1.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fed2:4cf1/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">4</span>: ovs-system: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether <span class="m">46</span>:5c:23:7e:2b:37 brd ff:ff:ff:ff:ff:ff
<span class="m">5</span>: br-int: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1450</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether fa:2a:a6:6e:31:4f brd ff:ff:ff:ff:ff:ff
<span class="m">6</span>: br-tun: &lt;BROADCAST,MULTICAST&gt; mtu <span class="m">1500</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
    link/ether aa:c3:d2:90:32:4b brd ff:ff:ff:ff:ff:ff
<span class="m">7</span>: vxlan_sys_4789: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">65000</span> qdisc noqueue master ovs-system state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether 6e:9d:de:a6:ec:99 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::6c9d:deff:fea6:ec99/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">8</span>: qbr9a26419b-25: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">46</span>:18:9a:b4:51:0c brd ff:ff:ff:ff:ff:ff
<span class="m">9</span>: qvo9a26419b-25@qvb9a26419b-25: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue master ovs-system state UP group default qlen <span class="m">1000</span>
    link/ether c2:5f:0b:e1:1e:09 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::c05f:bff:fee1:1e09/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">10</span>: qvb9a26419b-25@qvo9a26419b-25: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc noqueue master qbr9a26419b-25 state UP group default qlen <span class="m">1000</span>
    link/ether <span class="m">46</span>:18:9a:b4:51:0c brd ff:ff:ff:ff:ff:ff
    inet6 fe80::4418:9aff:feb4:510c/64 scope link
       valid_lft forever preferred_lft forever
<span class="m">11</span>: tap9a26419b-25: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="m">1450</span> qdisc pfifo_fast master qbr9a26419b-25 state UNKNOWN group default qlen <span class="m">1000</span>
    link/ether fe:16:3e:c8:7d:90 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::fc16:3eff:fec8:7d90/64 scope link
       valid_lft forever preferred_lft forever
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> ovs-vsctl show

48edfef1-b892-4471-b143-263034441275
    Manager <span class="s2">&quot;ptcp:6640:127.0.0.1&quot;</span>
        is_connected: <span class="nb">true</span>
    Bridge br-int
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port br-int
            Interface br-int
                type: internal
        Port <span class="s2">&quot;qvo9a26419b-25&quot;</span>
            tag: <span class="m">1</span>
            Interface <span class="s2">&quot;qvo9a26419b-25&quot;</span>
        Port patch-tun
            Interface patch-tun
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-int<span class="o">}</span>
    Bridge br-tun
        Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
            is_connected: <span class="nb">true</span>
        fail_mode: secure
        Port br-tun
            Interface br-tun
                type: internal
        Port <span class="s2">&quot;vxlan-0a000114&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000114&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.22&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.20&quot;</span><span class="o">}</span>
        Port <span class="s2">&quot;vxlan-0a000115&quot;</span>
            Interface <span class="s2">&quot;vxlan-0a000115&quot;</span>
                type: vxlan
                options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">egress_pkt_mark</span><span class="o">=</span><span class="s2">&quot;0&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.22&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;10.0.1.21&quot;</span><span class="o">}</span>
        Port patch-int
            Interface patch-int
                type: patch
                options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-tun<span class="o">}</span>
    ovs_version: <span class="s2">&quot;2.11.0&quot;</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> brctl show

bridge name         bridge id               STP enabled     interfaces
qbr9a26419b-25      <span class="m">8000</span>.46189ab4510c       no              qvb9a26419b-25
                                                            tap9a26419b-25
</pre></div>
</div>
</div>
<div class="section" id="anexo-4-pruebas-de-trafico">
<h2><a class="toc-backref" href="#id37">Anexo 4: Pruebas de tráfico</a><a class="headerlink" href="#anexo-4-pruebas-de-trafico" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="comunicacion-entre-instancias-de-compute-nodes-distintos">
<h3><a class="toc-backref" href="#id38">Comunicación entre instancias de Compute nodes distintos</a><a class="headerlink" href="#comunicacion-entre-instancias-de-compute-nodes-distintos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Desde la instancia 1 (<code class="docutils literal notranslate"><span class="pre">10.0.0.2</span></code>) ubicada en el nodo Compute 1 (Hypervisor 1) haremos ping a la instancia 2 (<code class="docutils literal notranslate"><span class="pre">10.0.0.3</span></code>) ubicada en el nodo Compute 2 (Hypervisor 2):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ping <span class="m">10</span>.0.0.3
</pre></div>
</div>
<ul class="simple">
<li>¿Por qué nodos viaja el tráfico ICMP?</li>
</ul>
<p>Hacemos uso de <code class="docutils literal notranslate"><span class="pre">tcpdump</span></code> en cada nodo (o VM) en busca de tráfico ICMP y obtenemos los siguientes resultados:</p>
<ol class="arabic simple">
<li>Controller/Network Node:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i any icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on any, link-type LINUX_SLL <span class="o">(</span>Linux cooked<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Compute Node 1:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i any icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on any, link-type LINUX_SLL <span class="o">(</span>Linux cooked<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:28:22.640464 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640488 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640489 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640593 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.643021 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.643125 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.643127 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.643138 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:23.641731 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">23</span>:28:23.641745 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">1</span>, length <span class="m">64</span>
...
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Compute Node 2:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i any icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on any, link-type LINUX_SLL <span class="o">(</span>Linux cooked<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:28:22.639348 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640678 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640681 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.640695 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.641265 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.641275 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.641276 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:22.641419 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">43265</span>, seq <span class="m">0</span>, length <span class="m">64</span>
<span class="m">23</span>:28:23.640486 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">23</span>:28:23.640509 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">43265</span>, seq <span class="m">1</span>, length <span class="m">64</span>
...
</pre></div>
</div>
<p>Como se ha comprobado, por el Controller/Network node no cruza tráfico de las instancias. Por los nodos Compute 1 y Compute 2 pasan 4 request y 4 replies cada uno para una misma secuencia (<code class="docutils literal notranslate"><span class="pre">seq</span></code>) de paquete ICMP. Esto nos hace pensar que el paquete ICMP está atravesando 4 interfaces distintas en cada Compute node.</p>
<ul class="simple">
<li>¿Qué interfaces atraviesa el tráfico para viajar de instancia a instancia?</li>
</ul>
<p>Sabemos que el tráfico entre instancias de compute nodes distintos no pasa por el Controller/Network node. Ahora veamos qué interfaces atraviesa el tráfico en Compute 1 y Compute 2:</p>
<ol class="arabic simple">
<li>Compute Node 1:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i tap40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on tap40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:48:39.283358 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44033</span>, seq <span class="m">5</span>, length <span class="m">64</span>
<span class="m">23</span>:48:39.284066 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44033</span>, seq <span class="m">5</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvb40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvb40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:48:48.285237 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44033</span>, seq <span class="m">14</span>, length <span class="m">64</span>
<span class="m">23</span>:48:48.285952 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44033</span>, seq <span class="m">14</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qbr40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qbr40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:49:02.302033 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44033</span>, seq <span class="m">28</span>, length <span class="m">64</span>
<span class="m">23</span>:49:02.302889 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44033</span>, seq <span class="m">28</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvo40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvo40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:49:19.305016 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44033</span>, seq <span class="m">45</span>, length <span class="m">64</span>
<span class="m">23</span>:49:19.305850 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44033</span>, seq <span class="m">45</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="c1"># tcpdump -i vxlan_sys_4789 icmp</span>
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on vxlan_sys_4789, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:17:41.602490 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44033</span>, seq <span class="m">50</span>, length <span class="m">64</span>
<span class="m">01</span>:17:41.603217 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44033</span>, seq <span class="m">50</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="c1"># tcpdump -i enp0s3 icmp</span>
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s3, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s8 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s8, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel
</pre></div>
</div>
<p>Vemos que, en realidad, el tráfico ICMP atraviesa 5 interfaces del Compute Node 1: 3 interfaces del Linux Bridge, 1 interfaz del OVS Integration bridge que se conecta con este Linux bridge y 1 la interfaz VXLAN.</p>
<ol class="arabic simple" start="2">
<li>Compute Node 2:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvo9a26419b-25 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvo9a26419b-25, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:56:59.857009 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44289</span>, seq <span class="m">6</span>, length <span class="m">64</span>
<span class="m">23</span>:56:59.857879 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44289</span>, seq <span class="m">6</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvb9a26419b-25 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvb9a26419b-25, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:57:06.860267 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44289</span>, seq <span class="m">13</span>, length <span class="m">64</span>
<span class="m">23</span>:57:06.861080 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44289</span>, seq <span class="m">13</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qbr9a26419b-25 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qbr9a26419b-25, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:57:12.861566 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44289</span>, seq <span class="m">19</span>, length <span class="m">64</span>
<span class="m">23</span>:57:12.862064 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44289</span>, seq <span class="m">19</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i tap9a26419b-25 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on tap9a26419b-25, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">23</span>:57:19.863279 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44289</span>, seq <span class="m">26</span>, length <span class="m">64</span>
<span class="m">23</span>:57:19.863987 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44289</span>, seq <span class="m">26</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i vxlan_sys_4789 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on vxlan_sys_4789, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:26:21.977054 IP <span class="m">10</span>.0.0.2 &gt; <span class="m">10</span>.0.0.3: ICMP <span class="nb">echo</span> request, id <span class="m">44289</span>, seq <span class="m">30</span>, length <span class="m">64</span>
<span class="m">01</span>:26:21.977938 IP <span class="m">10</span>.0.0.3 &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">44289</span>, seq <span class="m">30</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s3 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s3, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel

<span class="o">[</span>root@compute2 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s8 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s8, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel
</pre></div>
</div>
<p>Vemos que, en realidad, el tráfico ICMP atraviesa 5 interfaces del Compute Node 2: 3 interfaces del Linux Bridge, 1 interfaz del OVS Integration bridge que se conecta con este Linux bridge y 1 la interfaz VXLAN.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Hemos comprobado que existe una ruta de comunicación separada para el tráfico entre instancias que pertenecen a distintos Compute Nodes. Esta se llama <strong>Data Path</strong>. El Controller/Network Node no recibe tráfico de esta comunicación entre instancias.</p>
</div>
</div>
<div class="section" id="comunicacion-de-instancia-con-internet">
<h3><a class="toc-backref" href="#id39">Comunicación de instancia con Internet</a><a class="headerlink" href="#comunicacion-de-instancia-con-internet" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Desde la instancia 1 (<code class="docutils literal notranslate"><span class="pre">10.0.0.2</span></code>) ubicada en el nodo Compute 1 (Hypervisor 1) haremos ping a la IP <code class="docutils literal notranslate"><span class="pre">8.8.8.8</span></code>:</p>
<ul class="simple">
<li>¿Por qué nodos viaja el tráfico ICMP?</li>
</ul>
<p>Hacemos uso de <code class="docutils literal notranslate"><span class="pre">tcpdump</span></code> en el nodo Controller/Network y Compute 1 en busca de tráfico ICMP y obtenemos los siguientes resultados:</p>
<ol class="arabic simple">
<li>Controller/Network Node:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i any icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on any, link-type LINUX_SLL <span class="o">(</span>Linux cooked<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">00</span>:50:54.291695 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:54.291723 IP <span class="m">172</span>.24.4.10 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:54.291731 IP packstack &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:54.373374 IP dns.google &gt; packstack: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:54.373401 IP dns.google &gt; <span class="m">172</span>.24.4.10: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:54.373445 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">1</span>, length <span class="m">64</span>
<span class="m">00</span>:50:55.293234 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">2</span>, length <span class="m">64</span>
<span class="m">00</span>:50:55.293261 IP <span class="m">172</span>.24.4.10 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">2</span>, length <span class="m">64</span>
...
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Compute Node 1:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i any icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on any, link-type LINUX_SLL <span class="o">(</span>Linux cooked<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">00</span>:51:04.317637 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.317663 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.317665 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.317670 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.399731 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.399739 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.399740 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:04.399755 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45057</span>, seq <span class="m">11</span>, length <span class="m">64</span>
<span class="m">00</span>:51:05.324080 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">12</span>, length <span class="m">64</span>
<span class="m">00</span>:51:05.324105 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45057</span>, seq <span class="m">12</span>, length <span class="m">64</span>
...
</pre></div>
</div>
<p>Por el nodo Controller/Network pasan 3 request y 3 replies de tráfico ICMP, mientras que por Compute 1 pasan 4 request y 4 replies, para una misma secuencia (<code class="docutils literal notranslate"><span class="pre">seq</span></code>) de paquete ICMP.</p>
<ul class="simple">
<li>¿Qué interfaces atraviesa el tráfico para viajar de la instancia a Internet?</li>
</ul>
<p>Ahora veamos qué interfaces atraviesa el tráfico en Controller/Network node y Compute 1:</p>
<ol class="arabic simple">
<li>Controller/Network Node:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s3 icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s3, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:04:48.753587 IP packstack &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45569</span>, seq <span class="m">6</span>, length <span class="m">64</span>
<span class="m">01</span>:04:48.829003 IP dns.google &gt; packstack: ICMP <span class="nb">echo</span> reply, id <span class="m">45569</span>, seq <span class="m">6</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s8 icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s8, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel

<span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i br-ex icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on br-ex, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:05:06.838046 IP <span class="m">172</span>.24.4.10 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45569</span>, seq <span class="m">24</span>, length <span class="m">64</span>
<span class="m">01</span>:05:06.911353 IP dns.google &gt; <span class="m">172</span>.24.4.10: ICMP <span class="nb">echo</span> reply, id <span class="m">45569</span>, seq <span class="m">24</span>, length <span class="m">64</span>
...

<span class="o">[</span>root@packstack ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i vxlan_sys_4789 icmp

tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on vxlan_sys_4789, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:05:13.858767 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">45569</span>, seq <span class="m">31</span>, length <span class="m">64</span>
<span class="m">01</span>:05:13.936364 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">45569</span>, seq <span class="m">31</span>, length <span class="m">64</span>
...
</pre></div>
</div>
<p>Comprobamos que el tráfico ICMP atraviesa 3 interfaces del Controller/Network Node: <code class="docutils literal notranslate"><span class="pre">enp0s3</span></code>, <code class="docutils literal notranslate"><span class="pre">enp0s8</span></code> y 1 la interfaz VXLAN.</p>
<ol class="arabic simple" start="2">
<li>Compute Node 1:</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i tap40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on tap40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:10:12.675236 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">46081</span>, seq <span class="m">15</span>, length <span class="m">64</span>
<span class="m">01</span>:10:12.753360 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">46081</span>, seq <span class="m">15</span>, length <span class="m">64</span>

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvb40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvb40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:10:25.676923 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">46081</span>, seq <span class="m">28</span>, length <span class="m">64</span>
<span class="m">01</span>:10:25.753336 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">46081</span>, seq <span class="m">28</span>, length <span class="m">64</span>

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qbr40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qbr40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:10:40.680569 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">46081</span>, seq <span class="m">43</span>, length <span class="m">64</span>
<span class="m">01</span>:10:40.756072 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">46081</span>, seq <span class="m">43</span>, length <span class="m">64</span>

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i qvo40be7332-c9 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on qvo40be7332-c9, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:11:03.686021 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">46081</span>, seq <span class="m">66</span>, length <span class="m">64</span>
<span class="m">01</span>:11:03.763526 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">46081</span>, seq <span class="m">66</span>, length <span class="m">64</span>

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i vxlan_sys_4789 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on vxlan_sys_4789, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
<span class="m">01</span>:11:42.705281 IP <span class="m">10</span>.0.0.2 &gt; dns.google: ICMP <span class="nb">echo</span> request, id <span class="m">46081</span>, seq <span class="m">105</span>, length <span class="m">64</span>
<span class="m">01</span>:11:42.783655 IP dns.google &gt; <span class="m">10</span>.0.0.2: ICMP <span class="nb">echo</span> reply, id <span class="m">46081</span>, seq <span class="m">105</span>, length <span class="m">64</span>

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s3 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s3, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel

<span class="o">[</span>root@compute1 ~<span class="o">]</span><span class="s1">&#39;#&#39;</span> tcpdump -i enp0s8 icmp
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on enp0s8, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">262144</span> bytes
^C
<span class="m">0</span> packets captured
<span class="m">0</span> packets received by filter
<span class="m">0</span> packets dropped by kernel
</pre></div>
</div>
<p>Vemos que, en realidad, el tráfico ICMP atraviesa 5 interfaces del Compute Node 1: 3 interfaces del Linux Bridge, 1 interfaz del OVS Integration bridge que se conecta con este Linux bridge y 1 la interfaz VXLAN.</p>
</div>
</div>
<div class="section" id="anexo-5-archivo-answers-txt-de-packstack-generado">
<h2><a class="toc-backref" href="#id40">Anexo 5: Archivo answers.txt de packstack generado</a><a class="headerlink" href="#anexo-5-archivo-answers-txt-de-packstack-generado" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;#&#39;</span> cat /home/vagrant/packstack-answers-20200218-155331.txt

<span class="o">[</span>general<span class="o">]</span>

<span class="c1"># Path to a public key to install on servers. If a usable key has not</span>
<span class="c1"># been installed on the remote servers, the user is prompted for a</span>
<span class="c1"># password and this key is installed so the password will not be</span>
<span class="c1"># required again.</span>
<span class="nv">CONFIG_SSH_KEY</span><span class="o">=</span>/home/vagrant/.ssh/id_rsa.pub

<span class="c1"># Default password to be used everywhere (overridden by passwords set</span>
<span class="c1"># for individual services or users).</span>
<span class="nv">CONFIG_DEFAULT_PASSWORD</span><span class="o">=</span>

<span class="c1"># The amount of service workers/threads to use for each service.</span>
<span class="c1"># Useful to tweak when you have memory constraints. Defaults to the</span>
<span class="c1"># amount of cores on the system.</span>
<span class="nv">CONFIG_SERVICE_WORKERS</span><span class="o">=</span>%<span class="o">{</span>::processorcount<span class="o">}</span>

<span class="c1"># Specify &#39;y&#39; to install MariaDB. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_MARIADB_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Image Service (glance). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_GLANCE_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Block Storage (cinder). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_CINDER_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Shared File System (manila). [&#39;y&#39;,</span>
<span class="c1"># &#39;n&#39;]</span>
<span class="nv">CONFIG_MANILA_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install OpenStack Compute (nova). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_NOVA_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Networking (neutron) [&#39;y&#39;]</span>
<span class="nv">CONFIG_NEUTRON_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Dashboard (horizon). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_HORIZON_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Object Storage (swift). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_SWIFT_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Metering (ceilometer). Note this</span>
<span class="c1"># will also automatically install gnocchi service and configures it as</span>
<span class="c1"># the metrics backend. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_CEILOMETER_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Telemetry Alarming (Aodh). Note</span>
<span class="c1"># Aodh requires Ceilometer to be installed as well. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_AODH_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Events Service (panko). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_PANKO_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install OpenStack Data Processing (sahara). In case</span>
<span class="c1"># of sahara installation packstack also installs heat.[&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_SAHARA_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install OpenStack Orchestration (heat). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_HEAT_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Container Infrastructure</span>
<span class="c1"># Management Service (magnum). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_MAGNUM_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install OpenStack Database (trove) [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_TROVE_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install OpenStack Bare Metal Provisioning (ironic).</span>
<span class="c1"># [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_IRONIC_INSTALL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to install the OpenStack Client packages (command-line</span>
<span class="c1"># tools). An admin &quot;rc&quot; file will also be installed. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_CLIENT_INSTALL</span><span class="o">=</span>y

<span class="c1"># Comma-separated list of NTP servers. Leave plain if Packstack</span>
<span class="c1"># should not install ntpd on instances.</span>
<span class="nv">CONFIG_NTP_SERVERS</span><span class="o">=</span>

<span class="c1"># Comma-separated list of servers to be excluded from the</span>
<span class="c1"># installation. This is helpful if you are running Packstack a second</span>
<span class="c1"># time with the same answer file and do not want Packstack to</span>
<span class="c1"># overwrite these server&#39;s configurations. Leave empty if you do not</span>
<span class="c1"># need to exclude any servers.</span>
<span class="nv">EXCLUDE_SERVERS</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; if you want to run OpenStack services in debug mode;</span>
<span class="c1"># otherwise, specify &#39;n&#39;. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_DEBUG_MODE</span><span class="o">=</span>n

<span class="c1"># Server on which to install OpenStack services specific to the</span>
<span class="c1"># controller role (for example, API servers or dashboard).</span>
<span class="nv">CONFIG_CONTROLLER_HOST</span><span class="o">=</span><span class="m">10</span>.0.1.20

<span class="c1"># List the servers on which to install the Compute service.</span>
<span class="nv">CONFIG_COMPUTE_HOSTS</span><span class="o">=</span><span class="m">10</span>.0.1.21,10.0.1.22

<span class="c1"># List of servers on which to install the network service such as</span>
<span class="c1"># Compute networking (nova network) or OpenStack Networking (neutron).</span>
<span class="nv">CONFIG_NETWORK_HOSTS</span><span class="o">=</span><span class="m">10</span>.0.1.20

<span class="c1"># Specify &#39;y&#39; if you want to use VMware vCenter as hypervisor and</span>
<span class="c1"># storage; otherwise, specify &#39;n&#39;. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_VMWARE_BACKEND</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to use unsupported parameters. This should</span>
<span class="c1"># be used only if you know what you are doing. Issues caused by using</span>
<span class="c1"># unsupported options will not be fixed before the next major release.</span>
<span class="c1"># [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_UNSUPPORTED</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to use subnet addresses (in CIDR format)</span>
<span class="c1"># instead of interface names in following options:</span>
<span class="c1"># CONFIG_NEUTRON_OVS_BRIDGE_IFACES,</span>
<span class="c1"># CONFIG_NEUTRON_LB_INTERFACE_MAPPINGS, CONFIG_NEUTRON_OVS_TUNNEL_IF.</span>
<span class="c1"># This is useful for cases when interface names are not same on all</span>
<span class="c1"># installation hosts.</span>
<span class="nv">CONFIG_USE_SUBNETS</span><span class="o">=</span>n

<span class="c1"># IP address of the VMware vCenter server.</span>
<span class="nv">CONFIG_VCENTER_HOST</span><span class="o">=</span>

<span class="c1"># User name for VMware vCenter server authentication.</span>
<span class="nv">CONFIG_VCENTER_USER</span><span class="o">=</span>

<span class="c1"># Password for VMware vCenter server authentication.</span>
<span class="nv">CONFIG_VCENTER_PASSWORD</span><span class="o">=</span>

<span class="c1"># Comma separated list of names of the VMware vCenter clusters. Note:</span>
<span class="c1"># if multiple clusters are specified each one is mapped to one</span>
<span class="c1"># compute, otherwise all computes are mapped to same cluster.</span>
<span class="nv">CONFIG_VCENTER_CLUSTER_NAMES</span><span class="o">=</span>

<span class="c1"># (Unsupported!) Server on which to install OpenStack services</span>
<span class="c1"># specific to storage servers such as Image or Block Storage services.</span>
<span class="nv">CONFIG_STORAGE_HOST</span><span class="o">=</span><span class="m">10</span>.0.2.15

<span class="c1"># (Unsupported!) Server on which to install OpenStack services</span>
<span class="c1"># specific to OpenStack Data Processing (sahara).</span>
<span class="nv">CONFIG_SAHARA_HOST</span><span class="o">=</span><span class="m">10</span>.0.2.15

<span class="c1"># Comma-separated list of URLs for any additional yum repositories,</span>
<span class="c1"># to use for installation.</span>
<span class="nv">CONFIG_REPO</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; to enable the RDO testing repository. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_ENABLE_RDO_TESTING</span><span class="o">=</span>n

<span class="c1"># To subscribe each server with Red Hat Subscription Manager, include</span>
<span class="c1"># this with CONFIG_RH_PW.</span>
<span class="nv">CONFIG_RH_USER</span><span class="o">=</span>

<span class="c1"># To subscribe each server to receive updates from a Satellite</span>
<span class="c1"># server, provide the URL of the Satellite server. You must also</span>
<span class="c1"># provide a user name (CONFIG_SATELLITE_USERNAME) and password</span>
<span class="c1"># (CONFIG_SATELLITE_PASSWORD) or an access key (CONFIG_SATELLITE_AKEY)</span>
<span class="c1"># for authentication.</span>
<span class="nv">CONFIG_SATELLITE_URL</span><span class="o">=</span>

<span class="c1"># Specify a Satellite 6 Server to register to. If not specified,</span>
<span class="c1"># Packstack will register the system to the Red Hat server. When this</span>
<span class="c1"># option is specified, you also need to set the Satellite 6</span>
<span class="c1"># organization (CONFIG_RH_SAT6_ORG) and an activation key</span>
<span class="c1"># (CONFIG_RH_SAT6_KEY).</span>
<span class="nv">CONFIG_RH_SAT6_SERVER</span><span class="o">=</span>

<span class="c1"># To subscribe each server with Red Hat Subscription Manager, include</span>
<span class="c1"># this with CONFIG_RH_USER.</span>
<span class="nv">CONFIG_RH_PW</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; to enable RHEL optional repositories. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_RH_OPTIONAL</span><span class="o">=</span>y

<span class="c1"># HTTP proxy to use with Red Hat Subscription Manager.</span>
<span class="nv">CONFIG_RH_PROXY</span><span class="o">=</span>

<span class="c1"># Specify a Satellite 6 Server organization to use when registering</span>
<span class="c1"># the system.</span>
<span class="nv">CONFIG_RH_SAT6_ORG</span><span class="o">=</span>

<span class="c1"># Specify a Satellite 6 Server activation key to use when registering</span>
<span class="c1"># the system.</span>
<span class="nv">CONFIG_RH_SAT6_KEY</span><span class="o">=</span>

<span class="c1"># Port to use for Red Hat Subscription Manager&#39;s HTTP proxy.</span>
<span class="nv">CONFIG_RH_PROXY_PORT</span><span class="o">=</span>

<span class="c1"># User name to use for Red Hat Subscription Manager&#39;s HTTP proxy.</span>
<span class="nv">CONFIG_RH_PROXY_USER</span><span class="o">=</span>

<span class="c1"># Password to use for Red Hat Subscription Manager&#39;s HTTP proxy.</span>
<span class="nv">CONFIG_RH_PROXY_PW</span><span class="o">=</span>

<span class="c1"># User name to authenticate with the RHN Satellite server; if you</span>
<span class="c1"># intend to use an access key for Satellite authentication, leave this</span>
<span class="c1"># blank.</span>
<span class="nv">CONFIG_SATELLITE_USER</span><span class="o">=</span>

<span class="c1"># Password to authenticate with the RHN Satellite server; if you</span>
<span class="c1"># intend to use an access key for Satellite authentication, leave this</span>
<span class="c1"># blank.</span>
<span class="nv">CONFIG_SATELLITE_PW</span><span class="o">=</span>

<span class="c1"># Access key for the Satellite server; if you intend to use a user</span>
<span class="c1"># name and password for Satellite authentication, leave this blank.</span>
<span class="nv">CONFIG_SATELLITE_AKEY</span><span class="o">=</span>

<span class="c1"># Certificate path or URL of the certificate authority to verify that</span>
<span class="c1"># the connection with the Satellite server is secure. If you are not</span>
<span class="c1"># using Satellite in your deployment, leave this blank.</span>
<span class="nv">CONFIG_SATELLITE_CACERT</span><span class="o">=</span>

<span class="c1"># Profile name that should be used as an identifier for the system in</span>
<span class="c1"># RHN Satellite (if required).</span>
<span class="nv">CONFIG_SATELLITE_PROFILE</span><span class="o">=</span>

<span class="c1"># Comma-separated list of flags passed to the rhnreg_ks command.</span>
<span class="c1"># Valid flags are: novirtinfo, norhnsd, nopackages [&#39;novirtinfo&#39;,</span>
<span class="c1"># &#39;norhnsd&#39;, &#39;nopackages&#39;]</span>
<span class="nv">CONFIG_SATELLITE_FLAGS</span><span class="o">=</span>

<span class="c1"># HTTP proxy to use when connecting to the RHN Satellite server (if</span>
<span class="c1"># required).</span>
<span class="nv">CONFIG_SATELLITE_PROXY</span><span class="o">=</span>

<span class="c1"># User name to authenticate with the Satellite-server HTTP proxy.</span>
<span class="nv">CONFIG_SATELLITE_PROXY_USER</span><span class="o">=</span>

<span class="c1"># User password to authenticate with the Satellite-server HTTP proxy.</span>
<span class="nv">CONFIG_SATELLITE_PROXY_PW</span><span class="o">=</span>

<span class="c1"># Specify filepath for CA cert file. If CONFIG_SSL_CACERT_SELFSIGN is</span>
<span class="c1"># set to &#39;n&#39; it has to be preexisting file.</span>
<span class="nv">CONFIG_SSL_CACERT_FILE</span><span class="o">=</span>/etc/pki/tls/certs/selfcert.crt

<span class="c1"># Specify filepath for CA cert key file. If</span>
<span class="c1"># CONFIG_SSL_CACERT_SELFSIGN is set to &#39;n&#39; it has to be preexisting</span>
<span class="c1"># file.</span>
<span class="nv">CONFIG_SSL_CACERT_KEY_FILE</span><span class="o">=</span>/etc/pki/tls/private/selfkey.key

<span class="c1"># Enter the path to use to store generated SSL certificates in.</span>
<span class="nv">CONFIG_SSL_CERT_DIR</span><span class="o">=</span>~/packstackca/

<span class="c1"># Specify &#39;y&#39; if you want Packstack to pregenerate the CA</span>
<span class="c1"># Certificate.</span>
<span class="nv">CONFIG_SSL_CACERT_SELFSIGN</span><span class="o">=</span>y

<span class="c1"># Enter the ssl certificates subject country.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_C</span><span class="o">=</span>--

<span class="c1"># Enter the ssl certificates subject state.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_ST</span><span class="o">=</span>State

<span class="c1"># Enter the ssl certificates subject location.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_L</span><span class="o">=</span>City

<span class="c1"># Enter the ssl certificates subject organization.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_O</span><span class="o">=</span>openstack

<span class="c1"># Enter the ssl certificates subject organizational unit.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_OU</span><span class="o">=</span>packstack

<span class="c1"># Enter the ssl certificates subject common name.</span>
<span class="nv">CONFIG_SSL_CERT_SUBJECT_CN</span><span class="o">=</span>packstack

<span class="nv">CONFIG_SSL_CERT_SUBJECT_MAIL</span><span class="o">=</span>admin@packstack

<span class="c1"># Service to be used as the AMQP broker. Allowed values are: rabbitmq</span>
<span class="c1"># [&#39;rabbitmq&#39;]</span>
<span class="nv">CONFIG_AMQP_BACKEND</span><span class="o">=</span>rabbitmq

<span class="c1"># IP address of the server on which to install the AMQP service.</span>
<span class="nv">CONFIG_AMQP_HOST</span><span class="o">=</span><span class="m">10</span>.0.1.20

<span class="c1"># Specify &#39;y&#39; to enable SSL for the AMQP service. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_AMQP_ENABLE_SSL</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to enable authentication for the AMQP service. [&#39;y&#39;,</span>
<span class="c1"># &#39;n&#39;]</span>
<span class="nv">CONFIG_AMQP_ENABLE_AUTH</span><span class="o">=</span>n

<span class="c1"># Password for the NSS certificate database of the AMQP service.</span>
<span class="nv">CONFIG_AMQP_NSS_CERTDB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># User for AMQP authentication.</span>
<span class="nv">CONFIG_AMQP_AUTH_USER</span><span class="o">=</span>amqp_user

<span class="c1"># Password for AMQP authentication.</span>
<span class="nv">CONFIG_AMQP_AUTH_PASSWORD</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># IP address of the server on which to install MariaDB. If a MariaDB</span>
<span class="c1"># installation was not specified in CONFIG_MARIADB_INSTALL, specify</span>
<span class="c1"># the IP address of an existing database server (a MariaDB cluster can</span>
<span class="c1"># also be specified).</span>
<span class="nv">CONFIG_MARIADB_HOST</span><span class="o">=</span><span class="m">10</span>.0.1.20

<span class="c1"># User name for the MariaDB administrative user.</span>
<span class="nv">CONFIG_MARIADB_USER</span><span class="o">=</span>root

<span class="c1"># Password for the MariaDB administrative user.</span>
<span class="nv">CONFIG_MARIADB_PW</span><span class="o">=</span>8941bfccbd3645d1

<span class="c1"># Password to use for the Identity service (keystone) to access the</span>
<span class="c1"># database.</span>
<span class="nv">CONFIG_KEYSTONE_DB_PW</span><span class="o">=</span>1e448e39f1dc4906

<span class="c1"># Enter y if cron job for removing soft deleted DB rows should be</span>
<span class="c1"># created.</span>
<span class="nv">CONFIG_KEYSTONE_DB_PURGE_ENABLE</span><span class="o">=</span>True

<span class="c1"># Default region name to use when creating tenants in the Identity</span>
<span class="c1"># service.</span>
<span class="nv">CONFIG_KEYSTONE_REGION</span><span class="o">=</span>RegionOne

<span class="c1"># Token to use for the Identity service API.</span>
<span class="nv">CONFIG_KEYSTONE_ADMIN_TOKEN</span><span class="o">=</span>329f0cccb90e44afb9e1d597e60660b2

<span class="c1"># Email address for the Identity service &#39;admin&#39; user.  Defaults to</span>
<span class="nv">CONFIG_KEYSTONE_ADMIN_EMAIL</span><span class="o">=</span>root@localhost

<span class="c1"># User name for the Identity service &#39;admin&#39; user.  Defaults to</span>
<span class="c1"># &#39;admin&#39;.</span>
<span class="nv">CONFIG_KEYSTONE_ADMIN_USERNAME</span><span class="o">=</span>admin

<span class="c1"># Password to use for the Identity service &#39;admin&#39; user.</span>
<span class="nv">CONFIG_KEYSTONE_ADMIN_PW</span><span class="o">=</span>openstack

<span class="c1"># Password to use for the Identity service &#39;demo&#39; user.</span>
<span class="nv">CONFIG_KEYSTONE_DEMO_PW</span><span class="o">=</span>openstack

<span class="c1"># Identity service API version string. [&#39;v2.0&#39;, &#39;v3&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_API_VERSION</span><span class="o">=</span>v3

<span class="c1"># Identity service token format (UUID, PKI or FERNET). The</span>
<span class="c1"># recommended format for new deployments is FERNET. [&#39;UUID&#39;, &#39;PKI&#39;,</span>
<span class="c1"># &#39;FERNET&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_TOKEN_FORMAT</span><span class="o">=</span>FERNET

<span class="c1"># Type of Identity service backend (sql or ldap). [&#39;sql&#39;, &#39;ldap&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_IDENTITY_BACKEND</span><span class="o">=</span>sql

<span class="c1"># URL for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_URL</span><span class="o">=</span>ldap://10.0.2.15

<span class="c1"># User DN for the Identity service LDAP backend.  Used to bind to the</span>
<span class="c1"># LDAP server if the LDAP server does not allow anonymous</span>
<span class="c1"># authentication.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_DN</span><span class="o">=</span>

<span class="c1"># User DN password for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_PASSWORD</span><span class="o">=</span>

<span class="c1"># Base suffix for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_SUFFIX</span><span class="o">=</span>

<span class="c1"># Query scope for the Identity service LDAP backend. Use &#39;one&#39; for</span>
<span class="c1"># onelevel/singleLevel or &#39;sub&#39; for subtree/wholeSubtree (&#39;base&#39; is</span>
<span class="c1"># not actually used by the Identity service and is therefore</span>
<span class="c1"># deprecated). [&#39;base&#39;, &#39;one&#39;, &#39;sub&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_QUERY_SCOPE</span><span class="o">=</span>one

<span class="c1"># Query page size for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_PAGE_SIZE</span><span class="o">=</span>-1

<span class="c1"># User subtree for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_SUBTREE</span><span class="o">=</span>

<span class="c1"># User query filter for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_FILTER</span><span class="o">=</span>

<span class="c1"># User object class for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_OBJECTCLASS</span><span class="o">=</span>

<span class="c1"># User ID attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ID_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># User name attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_NAME_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># User email address attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_MAIL_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># User-enabled attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Bit mask integer applied to user-enabled attribute for the Identity</span>
<span class="c1"># service LDAP backend. Indicate the bit that the enabled value is</span>
<span class="c1"># stored in if the LDAP server represents &quot;enabled&quot; as a bit on an</span>
<span class="c1"># integer rather than a boolean. A value of &quot;0&quot; indicates the mask is</span>
<span class="c1"># not used (default). If this is not set to &quot;0&quot;, the typical value is</span>
<span class="c1"># &quot;2&quot;, typically used when</span>
<span class="c1"># &quot;CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE = userAccountControl&quot;.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ENABLED_MASK</span><span class="o">=</span>-1

<span class="c1"># Value of enabled attribute which indicates user is enabled for the</span>
<span class="c1"># Identity service LDAP backend. This should match an appropriate</span>
<span class="c1"># integer value if the LDAP server uses non-boolean (bitmask) values</span>
<span class="c1"># to indicate whether a user is enabled or disabled. If this is not</span>
<span class="c1"># set as &#39;y&#39;, the typical value is &quot;512&quot;. This is typically used when</span>
<span class="c1"># &quot;CONFIG_KEYSTONE_LDAP_USER_ENABLED_ATTRIBUTE = userAccountControl&quot;.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ENABLED_DEFAULT</span><span class="o">=</span>TRUE

<span class="c1"># Specify &#39;y&#39; if users are disabled (not enabled) in the Identity</span>
<span class="c1"># service LDAP backend (inverts boolean-enalbed values).  Some LDAP</span>
<span class="c1"># servers use a boolean lock attribute where &quot;y&quot; means an account is</span>
<span class="c1"># disabled. Setting this to &#39;y&#39; allows these lock attributes to be</span>
<span class="c1"># used. This setting will have no effect if</span>
<span class="c1"># &quot;CONFIG_KEYSTONE_LDAP_USER_ENABLED_MASK&quot; is in use. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ENABLED_INVERT</span><span class="o">=</span>n

<span class="c1"># Comma-separated list of attributes stripped from LDAP user entry</span>
<span class="c1"># upon update.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ATTRIBUTE_IGNORE</span><span class="o">=</span>

<span class="c1"># Identity service LDAP attribute mapped to default_project_id for</span>
<span class="c1"># users.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_DEFAULT_PROJECT_ID_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; if you want to be able to create Identity service users</span>
<span class="c1"># through the Identity service interface; specify &#39;n&#39; if you will</span>
<span class="c1"># create directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ALLOW_CREATE</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to be able to update Identity service users</span>
<span class="c1"># through the Identity service interface; specify &#39;n&#39; if you will</span>
<span class="c1"># update directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ALLOW_UPDATE</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to be able to delete Identity service users</span>
<span class="c1"># through the Identity service interface; specify &#39;n&#39; if you will</span>
<span class="c1"># delete directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ALLOW_DELETE</span><span class="o">=</span>n

<span class="c1"># Identity service LDAP attribute mapped to password.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_PASS_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># DN of the group entry to hold enabled LDAP users when using enabled</span>
<span class="c1"># emulation.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ENABLED_EMULATION_DN</span><span class="o">=</span>

<span class="c1"># List of additional LDAP attributes for mapping additional attribute</span>
<span class="c1"># mappings for users. The attribute-mapping format is</span>
<span class="c1"># &lt;ldap_attr&gt;:&lt;user_attr&gt;, where ldap_attr is the attribute in the</span>
<span class="c1"># LDAP entry and user_attr is the Identity API attribute.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USER_ADDITIONAL_ATTRIBUTE_MAPPING</span><span class="o">=</span>

<span class="c1"># Group subtree for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_SUBTREE</span><span class="o">=</span>

<span class="c1"># Group query filter for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_FILTER</span><span class="o">=</span>

<span class="c1"># Group object class for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_OBJECTCLASS</span><span class="o">=</span>

<span class="c1"># Group ID attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ID_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Group name attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_NAME_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Group member attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_MEMBER_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Group description attribute for the Identity service LDAP backend.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_DESC_ATTRIBUTE</span><span class="o">=</span>

<span class="c1"># Comma-separated list of attributes stripped from LDAP group entry</span>
<span class="c1"># upon update.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ATTRIBUTE_IGNORE</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; if you want to be able to create Identity service</span>
<span class="c1"># groups through the Identity service interface; specify &#39;n&#39; if you</span>
<span class="c1"># will create directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_CREATE</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to be able to update Identity service</span>
<span class="c1"># groups through the Identity service interface; specify &#39;n&#39; if you</span>
<span class="c1"># will update directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_UPDATE</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; if you want to be able to delete Identity service</span>
<span class="c1"># groups through the Identity service interface; specify &#39;n&#39; if you</span>
<span class="c1"># will delete directly in the LDAP backend. [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ALLOW_DELETE</span><span class="o">=</span>n

<span class="c1"># List of additional LDAP attributes used for mapping additional</span>
<span class="c1"># attribute mappings for groups. The attribute=mapping format is</span>
<span class="c1"># &lt;ldap_attr&gt;:&lt;group_attr&gt;, where ldap_attr is the attribute in the</span>
<span class="c1"># LDAP entry and group_attr is the Identity API attribute.</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_GROUP_ADDITIONAL_ATTRIBUTE_MAPPING</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; if the Identity service LDAP backend should use TLS.</span>
<span class="c1"># [&#39;n&#39;, &#39;y&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_USE_TLS</span><span class="o">=</span>n

<span class="c1"># CA certificate directory for Identity service LDAP backend (if TLS</span>
<span class="c1"># is used).</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_TLS_CACERTDIR</span><span class="o">=</span>

<span class="c1"># CA certificate file for Identity service LDAP backend (if TLS is</span>
<span class="c1"># used).</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_TLS_CACERTFILE</span><span class="o">=</span>

<span class="c1"># Certificate-checking strictness level for Identity service LDAP</span>
<span class="c1"># backend; valid options are: never, allow, demand. [&#39;never&#39;, &#39;allow&#39;,</span>
<span class="c1"># &#39;demand&#39;]</span>
<span class="nv">CONFIG_KEYSTONE_LDAP_TLS_REQ_CERT</span><span class="o">=</span>demand

<span class="c1"># Password to use for the Image service (glance) to access the</span>
<span class="c1"># database.</span>
<span class="nv">CONFIG_GLANCE_DB_PW</span><span class="o">=</span>55a47171835c4229

<span class="c1"># Password to use for the Image service to authenticate with the</span>
<span class="c1"># Identity service.</span>
<span class="nv">CONFIG_GLANCE_KS_PW</span><span class="o">=</span>7e2770838bab4988

<span class="c1"># Storage backend for the Image service (controls how the Image</span>
<span class="c1"># service stores disk images). Valid options are: file or swift</span>
<span class="c1"># (Object Storage). The Object Storage service must be enabled to use</span>
<span class="c1"># it as a working backend; otherwise, Packstack falls back to &#39;file&#39;.</span>
<span class="c1"># [&#39;file&#39;, &#39;swift&#39;]</span>
<span class="nv">CONFIG_GLANCE_BACKEND</span><span class="o">=</span>file

<span class="c1"># Password to use for the Block Storage service (cinder) to access</span>
<span class="c1"># the database.</span>
<span class="nv">CONFIG_CINDER_DB_PW</span><span class="o">=</span>4b4373ed09dc49f9

<span class="c1"># Enter y if cron job for removing soft deleted DB rows should be</span>
<span class="c1"># created.</span>
<span class="nv">CONFIG_CINDER_DB_PURGE_ENABLE</span><span class="o">=</span>True

<span class="c1"># Password to use for the Block Storage service to authenticate with</span>
<span class="c1"># the Identity service.</span>
<span class="nv">CONFIG_CINDER_KS_PW</span><span class="o">=</span>0e7ff9aa05d54997

<span class="c1"># Storage backend to use for the Block Storage service; valid options</span>
<span class="c1"># are: lvm, gluster, nfs, vmdk, netapp, solidfire. [&#39;lvm&#39;, &#39;gluster&#39;,</span>
<span class="c1"># &#39;nfs&#39;, &#39;vmdk&#39;, &#39;netapp&#39;, &#39;solidfire&#39;]</span>
<span class="nv">CONFIG_CINDER_BACKEND</span><span class="o">=</span>lvm

<span class="c1"># Specify &#39;y&#39; to create the Block Storage volumes group. That is,</span>
<span class="c1"># Packstack creates a raw disk image in /var/lib/cinder, and mounts it</span>
<span class="c1"># using a loopback device. This should only be used for testing on a</span>
<span class="c1"># proof-of-concept installation of the Block Storage service (a file-</span>
<span class="c1"># backed volume group is not suitable for production usage). [&#39;y&#39;,</span>
<span class="c1"># &#39;n&#39;]</span>
<span class="nv">CONFIG_CINDER_VOLUMES_CREATE</span><span class="o">=</span>y

<span class="c1"># Specify a custom name for the lvm cinder volume group</span>
<span class="nv">CONFIG_CINDER_VOLUME_NAME</span><span class="o">=</span>cinder-volumes

<span class="c1"># Size of Block Storage volumes group. Actual volume size will be</span>
<span class="c1"># extended with 3% more space for VG metadata. Remember that the size</span>
<span class="c1"># of the volume group will restrict the amount of disk space that you</span>
<span class="c1"># can expose to Compute instances, and that the specified amount must</span>
<span class="c1"># be available on the device used for /var/lib/cinder.</span>
<span class="nv">CONFIG_CINDER_VOLUMES_SIZE</span><span class="o">=</span>20G

<span class="c1"># A single or comma-separated list of Red Hat Storage (gluster)</span>
<span class="c1"># volume shares to mount. Example: &#39;ip-address:/vol-name&#39;, &#39;domain</span>
<span class="c1"># :/vol-name&#39;</span>
<span class="nv">CONFIG_CINDER_GLUSTER_MOUNTS</span><span class="o">=</span>

<span class="c1"># A single or comma-separated list of NFS exports to mount. Example:</span>
<span class="c1"># &#39;ip-address:/export-name&#39;</span>
<span class="nv">CONFIG_CINDER_NFS_MOUNTS</span><span class="o">=</span>

<span class="c1"># Administrative user account name used to access the NetApp storage</span>
<span class="c1"># system or proxy server.</span>
<span class="nv">CONFIG_CINDER_NETAPP_LOGIN</span><span class="o">=</span>

<span class="c1"># Password for the NetApp administrative user account specified in</span>
<span class="c1"># the CONFIG_CINDER_NETAPP_LOGIN parameter.</span>
<span class="nv">CONFIG_CINDER_NETAPP_PASSWORD</span><span class="o">=</span>

<span class="c1"># Hostname (or IP address) for the NetApp storage system or proxy</span>
<span class="c1"># server.</span>
<span class="nv">CONFIG_CINDER_NETAPP_HOSTNAME</span><span class="o">=</span>

<span class="c1"># The TCP port to use for communication with the storage system or</span>
<span class="c1"># proxy. If not specified, Data ONTAP drivers will use 80 for HTTP and</span>
<span class="c1"># 443 for HTTPS; E-Series will use 8080 for HTTP and 8443 for HTTPS.</span>
<span class="c1"># Defaults to 80.</span>
<span class="nv">CONFIG_CINDER_NETAPP_SERVER_PORT</span><span class="o">=</span><span class="m">80</span>

<span class="c1"># Storage family type used on the NetApp storage system; valid</span>
<span class="c1"># options are ontap_7mode for using Data ONTAP operating in 7-Mode,</span>
<span class="c1"># ontap_cluster for using clustered Data ONTAP, or E-Series for NetApp</span>
<span class="c1"># E-Series. Defaults to ontap_cluster. [&#39;ontap_7mode&#39;,</span>
<span class="c1"># &#39;ontap_cluster&#39;, &#39;eseries&#39;]</span>
<span class="nv">CONFIG_CINDER_NETAPP_STORAGE_FAMILY</span><span class="o">=</span>ontap_cluster

<span class="c1"># The transport protocol used when communicating with the NetApp</span>
<span class="c1"># storage system or proxy server. Valid values are http or https.</span>
<span class="c1"># Defaults to &#39;http&#39;. [&#39;http&#39;, &#39;https&#39;]</span>
<span class="nv">CONFIG_CINDER_NETAPP_TRANSPORT_TYPE</span><span class="o">=</span>http

<span class="c1"># Storage protocol to be used on the data path with the NetApp</span>
<span class="c1"># storage system; valid options are iscsi, fc, nfs. Defaults to nfs.</span>
<span class="c1"># [&#39;iscsi&#39;, &#39;fc&#39;, &#39;nfs&#39;]</span>
<span class="nv">CONFIG_CINDER_NETAPP_STORAGE_PROTOCOL</span><span class="o">=</span>nfs

<span class="c1"># Quantity to be multiplied by the requested volume size to ensure</span>
<span class="c1"># enough space is available on the virtual storage server (Vserver) to</span>
<span class="c1"># fulfill the volume creation request.  Defaults to 1.0.</span>
<span class="nv">CONFIG_CINDER_NETAPP_SIZE_MULTIPLIER</span><span class="o">=</span><span class="m">1</span>.0

<span class="c1"># Time period (in minutes) that is allowed to elapse after the image</span>
<span class="c1"># is last accessed, before it is deleted from the NFS image cache.</span>
<span class="c1"># When a cache-cleaning cycle begins, images in the cache that have</span>
<span class="c1"># not been accessed in the last M minutes, where M is the value of</span>
<span class="c1"># this parameter, are deleted from the cache to create free space on</span>
<span class="c1"># the NFS share. Defaults to 720.</span>
<span class="nv">CONFIG_CINDER_NETAPP_EXPIRY_THRES_MINUTES</span><span class="o">=</span><span class="m">720</span>

<span class="c1"># If the percentage of available space for an NFS share has dropped</span>
<span class="c1"># below the value specified by this parameter, the NFS image cache is</span>
<span class="c1"># cleaned.  Defaults to 20.</span>
<span class="nv">CONFIG_CINDER_NETAPP_THRES_AVL_SIZE_PERC_START</span><span class="o">=</span><span class="m">20</span>

<span class="c1"># When the percentage of available space on an NFS share has reached</span>
<span class="c1"># the percentage specified by this parameter, the driver stops</span>
<span class="c1"># clearing files from the NFS image cache that have not been accessed</span>
<span class="c1"># in the last M minutes, where M is the value of the</span>
<span class="c1"># CONFIG_CINDER_NETAPP_EXPIRY_THRES_MINUTES parameter. Defaults to 60.</span>
<span class="nv">CONFIG_CINDER_NETAPP_THRES_AVL_SIZE_PERC_STOP</span><span class="o">=</span><span class="m">60</span>

<span class="c1"># Single or comma-separated list of NetApp NFS shares for Block</span>
<span class="c1"># Storage to use.  Format: ip-address:/export-name. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_NFS_SHARES</span><span class="o">=</span>

<span class="c1"># File with the list of available NFS shares.   Defaults to</span>
<span class="c1"># &#39;/etc/cinder/shares.conf&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_NFS_SHARES_CONFIG</span><span class="o">=</span>/etc/cinder/shares.conf

<span class="c1"># This parameter is only utilized when the storage protocol is</span>
<span class="c1"># configured to use iSCSI or FC. This parameter is used to restrict</span>
<span class="c1"># provisioning to the specified controller volumes. Specify the value</span>
<span class="c1"># of this parameter to be a comma separated list of NetApp controller</span>
<span class="c1"># volume names to be used for provisioning. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_VOLUME_LIST</span><span class="o">=</span>

<span class="c1"># The vFiler unit on which provisioning of block storage volumes will</span>
<span class="c1"># be done. This parameter is only used by the driver when connecting</span>
<span class="c1"># to an instance with a storage family of Data ONTAP operating in</span>
<span class="c1"># 7-Mode Only use this parameter when utilizing the MultiStore feature</span>
<span class="c1"># on the NetApp storage system. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_VFILER</span><span class="o">=</span>

<span class="c1"># The name of the config.conf stanza for a Data ONTAP (7-mode) HA</span>
<span class="c1"># partner.  This option is only used by the driver when connecting to</span>
<span class="c1"># an instance with a storage family of Data ONTAP operating in 7-Mode,</span>
<span class="c1"># and it is required if the storage protocol selected is FC. Defaults</span>
<span class="c1"># to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_PARTNER_BACKEND_NAME</span><span class="o">=</span>

<span class="c1"># This option specifies the virtual storage server (Vserver) name on</span>
<span class="c1"># the storage cluster on which provisioning of block storage volumes</span>
<span class="c1"># should occur. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_VSERVER</span><span class="o">=</span>

<span class="c1"># Restricts provisioning to the specified controllers. Value must be</span>
<span class="c1"># a comma-separated list of controller hostnames or IP addresses to be</span>
<span class="c1"># used for provisioning. This option is only utilized when the storage</span>
<span class="c1"># family is configured to use E-Series. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_CONTROLLER_IPS</span><span class="o">=</span>

<span class="c1"># Password for the NetApp E-Series storage array. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_SA_PASSWORD</span><span class="o">=</span>

<span class="c1"># This option is used to define how the controllers in the E-Series</span>
<span class="c1"># storage array will work with the particular operating system on the</span>
<span class="c1"># hosts that are connected to it. Defaults to &#39;linux_dm_mp&#39;</span>
<span class="nv">CONFIG_CINDER_NETAPP_ESERIES_HOST_TYPE</span><span class="o">=</span>linux_dm_mp

<span class="c1"># Path to the NetApp E-Series proxy application on a proxy server.</span>
<span class="c1"># The value is combined with the value of the</span>
<span class="c1"># CONFIG_CINDER_NETAPP_TRANSPORT_TYPE, CONFIG_CINDER_NETAPP_HOSTNAME,</span>
<span class="c1"># and CONFIG_CINDER_NETAPP_HOSTNAME options to create the URL used by</span>
<span class="c1"># the driver to connect to the proxy application. Defaults to</span>
<span class="c1"># &#39;/devmgr/v2&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_WEBSERVICE_PATH</span><span class="o">=</span>/devmgr/v2

<span class="c1"># Restricts provisioning to the specified storage pools. Only dynamic</span>
<span class="c1"># disk pools are currently supported. The value must be a comma-</span>
<span class="c1"># separated list of disk pool names to be used for provisioning.</span>
<span class="c1"># Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_CINDER_NETAPP_STORAGE_POOLS</span><span class="o">=</span>

<span class="c1"># Cluster admin account name used to access the SolidFire storage</span>
<span class="c1"># system.</span>
<span class="nv">CONFIG_CINDER_SOLIDFIRE_LOGIN</span><span class="o">=</span>

<span class="c1"># Password for the SolidFire cluster admin user account specified in</span>
<span class="c1"># the CONFIG_CINDER_SOLIDFIRE_LOGIN parameter.</span>
<span class="nv">CONFIG_CINDER_SOLIDFIRE_PASSWORD</span><span class="o">=</span>

<span class="c1"># Hostname (or IP address) for the SolidFire storage system&#39;s MVIP.</span>
<span class="nv">CONFIG_CINDER_SOLIDFIRE_HOSTNAME</span><span class="o">=</span>

<span class="c1"># Password to use for OpenStack Bare Metal Provisioning (ironic) to</span>
<span class="c1"># access the database.</span>
<span class="nv">CONFIG_IRONIC_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for OpenStack Bare Metal Provisioning to</span>
<span class="c1"># authenticate with the Identity service.</span>
<span class="nv">CONFIG_IRONIC_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Enter y if cron job for removing soft deleted DB rows should be</span>
<span class="c1"># created.</span>
<span class="nv">CONFIG_NOVA_DB_PURGE_ENABLE</span><span class="o">=</span>True

<span class="c1"># Password to use for the Compute service (nova) to access the</span>
<span class="c1"># database.</span>
<span class="nv">CONFIG_NOVA_DB_PW</span><span class="o">=</span>6295662e92e94420

<span class="c1"># Password to use for the Compute service to authenticate with the</span>
<span class="c1"># Identity service.</span>
<span class="nv">CONFIG_NOVA_KS_PW</span><span class="o">=</span>f3b48c3136e544c1

<span class="c1"># Whether or not Packstack should manage a default initial set of</span>
<span class="c1"># Nova flavors. Defaults to &#39;y&#39;.</span>
<span class="nv">CONFIG_NOVA_MANAGE_FLAVORS</span><span class="o">=</span>y

<span class="c1"># Overcommitment ratio for virtual to physical CPUs. Specify 1.0 to</span>
<span class="c1"># disable CPU overcommitment.</span>
<span class="nv">CONFIG_NOVA_SCHED_CPU_ALLOC_RATIO</span><span class="o">=</span><span class="m">16</span>.0

<span class="c1"># Overcommitment ratio for virtual to physical RAM. Specify 1.0 to</span>
<span class="c1"># disable RAM overcommitment.</span>
<span class="nv">CONFIG_NOVA_SCHED_RAM_ALLOC_RATIO</span><span class="o">=</span><span class="m">1</span>.5

<span class="c1"># Protocol used for instance migration. Valid options are: ssh and</span>
<span class="c1"># tcp. Note that the tcp protocol is not encrypted, so it is insecure.</span>
<span class="c1"># [&#39;ssh&#39;, &#39;tcp&#39;]</span>
<span class="nv">CONFIG_NOVA_COMPUTE_MIGRATE_PROTOCOL</span><span class="o">=</span>ssh

<span class="c1"># PEM encoded certificate to be used for ssl on the https server,</span>
<span class="c1"># leave blank if one should be generated, this certificate should not</span>
<span class="c1"># require a passphrase. If CONFIG_HORIZON_SSL is set to &#39;n&#39; this</span>
<span class="c1"># parameter is ignored.</span>
<span class="nv">CONFIG_VNC_SSL_CERT</span><span class="o">=</span>

<span class="c1"># SSL keyfile corresponding to the certificate if one was entered. If</span>
<span class="c1"># CONFIG_HORIZON_SSL is set to &#39;n&#39; this parameter is ignored.</span>
<span class="nv">CONFIG_VNC_SSL_KEY</span><span class="o">=</span>

<span class="c1"># Enter the PCI passthrough array of hash in JSON style for</span>
<span class="c1"># controller eg. [{&quot;vendor_id&quot;:&quot;1234&quot;, &quot;product_id&quot;:&quot;5678&quot;,</span>
<span class="c1"># &quot;name&quot;:&quot;default&quot;}, {...}]</span>
<span class="nv">CONFIG_NOVA_PCI_ALIAS</span><span class="o">=</span>

<span class="c1"># Enter the PCI passthrough whitelist array of hash in JSON style for</span>
<span class="c1"># controller eg. [{&quot;vendor_id&quot;:&quot;1234&quot;, &quot;product_id&quot;:&quot;5678&quot;,</span>
<span class="c1"># &quot;name&#39;:&quot;default&quot;}, {...}]</span>
<span class="nv">CONFIG_NOVA_PCI_PASSTHROUGH_WHITELIST</span><span class="o">=</span>

<span class="c1"># The hypervisor driver to use with Nova. Can be either &#39;qemu&#39; or</span>
<span class="c1"># &#39;kvm&#39;. Defaults to &#39;qemu&#39; on virtual machines and &#39;kvm&#39; on bare</span>
<span class="c1"># metal hardware. For nested KVM set it explicitly to &#39;kvm&#39;.</span>
<span class="nv">CONFIG_NOVA_LIBVIRT_VIRT_TYPE</span><span class="o">=</span>%<span class="o">{</span>::default_hypervisor<span class="o">}</span>

<span class="c1"># Password to use for OpenStack Networking (neutron) to authenticate</span>
<span class="c1"># with the Identity service.</span>
<span class="nv">CONFIG_NEUTRON_KS_PW</span><span class="o">=</span>a06d5f5ee976464f

<span class="c1"># The password to use for OpenStack Networking to access the</span>
<span class="c1"># database.</span>
<span class="nv">CONFIG_NEUTRON_DB_PW</span><span class="o">=</span>dc36414078674e17

<span class="c1"># The name of the Open vSwitch bridge (or empty for linuxbridge) for</span>
<span class="c1"># the OpenStack Networking L3 agent to use for external  traffic.</span>
<span class="c1"># Specify &#39;provider&#39; if you intend to use a provider network to handle</span>
<span class="c1"># external traffic.</span>
<span class="nv">CONFIG_NEUTRON_L3_EXT_BRIDGE</span><span class="o">=</span>br-ex

<span class="c1"># Password for the OpenStack Networking metadata agent.</span>
<span class="nv">CONFIG_NEUTRON_METADATA_PW</span><span class="o">=</span>7174442df1764ba1

<span class="c1"># Specify &#39;y&#39; to install OpenStack Networking&#39;s Load-Balancing-</span>
<span class="c1"># as-a-Service (LBaaS). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_LBAAS_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to install OpenStack Networking&#39;s L3 Metering agent</span>
<span class="c1"># [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_NEUTRON_METERING_AGENT_INSTALL</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to configure OpenStack Networking&#39;s Firewall-</span>
<span class="c1"># as-a-Service (FWaaS). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_NEUTRON_FWAAS</span><span class="o">=</span>n

<span class="c1"># Specify &#39;y&#39; to configure OpenStack Networking&#39;s VPN-as-a-Service</span>
<span class="c1"># (VPNaaS). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_NEUTRON_VPNAAS</span><span class="o">=</span>n

<span class="c1"># Comma-separated list of network-type driver entry points to be</span>
<span class="c1"># loaded from the neutron.ml2.type_drivers namespace. [&#39;local&#39;,</span>
<span class="c1"># &#39;flat&#39;, &#39;vlan&#39;, &#39;gre&#39;, &#39;vxlan&#39;, &#39;geneve&#39;]</span>
<span class="nv">CONFIG_NEUTRON_ML2_TYPE_DRIVERS</span><span class="o">=</span>vxlan,flat

<span class="c1"># Comma-separated, ordered list of network types to allocate as</span>
<span class="c1"># tenant networks. The &#39;local&#39; value is only useful for single-box</span>
<span class="c1"># testing and provides no connectivity between hosts. [&#39;local&#39;,</span>
<span class="c1"># &#39;vlan&#39;, &#39;gre&#39;, &#39;vxlan&#39;, &#39;geneve&#39;]</span>
<span class="nv">CONFIG_NEUTRON_ML2_TENANT_NETWORK_TYPES</span><span class="o">=</span>vxlan

<span class="c1"># Comma-separated ordered list of networking mechanism driver entry</span>
<span class="c1"># points to be loaded from the neutron.ml2.mechanism_drivers</span>
<span class="c1"># namespace. [&#39;logger&#39;, &#39;test&#39;, &#39;linuxbridge&#39;, &#39;openvswitch&#39;,</span>
<span class="c1"># &#39;hyperv&#39;, &#39;ncs&#39;, &#39;arista&#39;, &#39;cisco_nexus&#39;, &#39;mlnx&#39;, &#39;l2population&#39;,</span>
<span class="c1"># &#39;sriovnicswitch&#39;, &#39;ovn&#39;]</span>
<span class="nv">CONFIG_NEUTRON_ML2_MECHANISM_DRIVERS</span><span class="o">=</span>openvswitch

<span class="c1"># Comma-separated list of physical_network names with which flat</span>
<span class="c1"># networks can be created. Use * to allow flat networks with arbitrary</span>
<span class="c1"># physical_network names.</span>
<span class="nv">CONFIG_NEUTRON_ML2_FLAT_NETWORKS</span><span class="o">=</span>*

<span class="c1"># Comma-separated list of &lt;physical_network&gt;:&lt;vlan_min&gt;:&lt;vlan_max&gt; or</span>
<span class="c1"># &lt;physical_network&gt; specifying physical_network names usable for VLAN</span>
<span class="c1"># provider and tenant networks, as well as ranges of VLAN tags on each</span>
<span class="c1"># available for allocation to tenant networks.</span>
<span class="nv">CONFIG_NEUTRON_ML2_VLAN_RANGES</span><span class="o">=</span>

<span class="c1"># Comma-separated list of &lt;tun_min&gt;:&lt;tun_max&gt; tuples enumerating</span>
<span class="c1"># ranges of GRE tunnel IDs that are available for tenant-network</span>
<span class="c1"># allocation. A tuple must be an array with tun_max +1 - tun_min &gt;</span>
<span class="c1"># 1000000.</span>
<span class="nv">CONFIG_NEUTRON_ML2_TUNNEL_ID_RANGES</span><span class="o">=</span>

<span class="c1"># Comma-separated list of addresses for VXLAN multicast group. If</span>
<span class="c1"># left empty, disables VXLAN from sending allocate broadcast traffic</span>
<span class="c1"># (disables multicast VXLAN mode). Should be a Multicast IP (v4 or v6)</span>
<span class="c1"># address.</span>
<span class="nv">CONFIG_NEUTRON_ML2_VXLAN_GROUP</span><span class="o">=</span>

<span class="c1"># Comma-separated list of &lt;vni_min&gt;:&lt;vni_max&gt; tuples enumerating</span>
<span class="c1"># ranges of VXLAN VNI IDs that are available for tenant network</span>
<span class="c1"># allocation. Minimum value is 0 and maximum value is 16777215.</span>
<span class="nv">CONFIG_NEUTRON_ML2_VNI_RANGES</span><span class="o">=</span><span class="m">10</span>:100

<span class="c1"># Name of the L2 agent to be used with OpenStack Networking.</span>
<span class="c1"># [&#39;linuxbridge&#39;, &#39;openvswitch&#39;, &#39;ovn&#39;]</span>
<span class="nv">CONFIG_NEUTRON_L2_AGENT</span><span class="o">=</span>openvswitch

<span class="c1"># Comma separated list of supported PCI vendor devices defined by</span>
<span class="c1"># vendor_id:product_id according to the PCI ID Repository.</span>
<span class="nv">CONFIG_NEUTRON_ML2_SUPPORTED_PCI_VENDOR_DEVS</span><span class="o">=[</span><span class="s1">&#39;15b3:1004&#39;</span>, <span class="s1">&#39;8086:10ca&#39;</span><span class="o">]</span>

<span class="c1"># Comma-separated list of interface mappings for the OpenStack</span>
<span class="c1"># Networking ML2 SRIOV agent. Each tuple in the list must be in the</span>
<span class="c1"># format &lt;physical_network&gt;:&lt;net_interface&gt;. Example:</span>
<span class="c1"># physnet1:eth1,physnet2:eth2,physnet3:eth3.</span>
<span class="nv">CONFIG_NEUTRON_ML2_SRIOV_INTERFACE_MAPPINGS</span><span class="o">=</span>

<span class="c1"># Comma-separated list of interface mappings for the OpenStack</span>
<span class="c1"># Networking linuxbridge plugin. Each tuple in the list must be in the</span>
<span class="c1"># format &lt;physical_network&gt;:&lt;net_interface&gt;. Example:</span>
<span class="c1"># physnet1:eth1,physnet2:eth2,physnet3:eth3.</span>
<span class="nv">CONFIG_NEUTRON_LB_INTERFACE_MAPPINGS</span><span class="o">=</span>

<span class="c1"># Comma-separated list of bridge mappings for the OpenStack</span>
<span class="c1"># Networking Open vSwitch plugin. Each tuple in the list must be in</span>
<span class="c1"># the format &lt;physical_network&gt;:&lt;ovs_bridge&gt;. Example: physnet1:br-</span>
<span class="c1"># eth1,physnet2:br-eth2,physnet3:br-eth3</span>
<span class="nv">CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS</span><span class="o">=</span>extnet:br-ex

<span class="c1"># Comma-separated list of colon-separated Open vSwitch</span>
<span class="c1"># &lt;bridge&gt;:&lt;interface&gt; pairs. The interface will be added to the</span>
<span class="c1"># associated bridge. If you desire the bridge to be persistent a value</span>
<span class="c1"># must be added to this directive, also</span>
<span class="c1"># CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS must be set in order to create</span>
<span class="c1"># the proper port. This can be achieved from the command line by</span>
<span class="c1"># issuing the following command: packstack --allinone --os-neutron-</span>
<span class="c1"># ovs-bridge-mappings=ext-net:br-ex --os-neutron-ovs-bridge-interfaces</span>
<span class="c1"># =br-ex:eth0</span>
<span class="nv">CONFIG_NEUTRON_OVS_BRIDGE_IFACES</span><span class="o">=</span>

<span class="c1"># Comma-separated list of Open vSwitch bridges that must be created</span>
<span class="c1"># and connected to interfaces in compute nodes when flat or vlan type</span>
<span class="c1"># drivers are enabled. These bridges must exist in</span>
<span class="c1"># CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS and</span>
<span class="c1"># CONFIG_NEUTRON_OVS_BRIDGE_IFACES. Example: --os-neutron-ovs-bridges-</span>
<span class="c1"># compute=br-vlan --os-neutron-ovs-bridge-mappings=&quot;extnet:br-</span>
<span class="c1"># ex,physnet1:br-vlan&quot; --os-neutron-ovs-bridge-interfaces=&quot;br-ex:eth1</span>
<span class="c1"># ,br-vlan:eth2&quot;</span>
<span class="nv">CONFIG_NEUTRON_OVS_BRIDGES_COMPUTE</span><span class="o">=</span>

<span class="c1"># Name of physical network used for external network when enabling</span>
<span class="c1"># CONFIG_PROVISION_DEMO. Name must be one of the included in</span>
<span class="c1"># CONFIG_NEUTRON_OVS_BRIDGE_MAPPINGS. Example: --os-neutron-ovs-</span>
<span class="c1"># bridge-mappings=&quot;extnet:br-ex,physnet1:br-vlan&quot; --os-neutron-ovs-</span>
<span class="c1"># bridge-interfaces=&quot;br-ex:eth1,br-vlan:eth2&quot; --os-neutron-ovs-</span>
<span class="c1"># external-physnet=&quot;extnet&quot;</span>
<span class="nv">CONFIG_NEUTRON_OVS_EXTERNAL_PHYSNET</span><span class="o">=</span>extnet

<span class="c1"># Interface for the Open vSwitch tunnel. Packstack overrides the IP</span>
<span class="c1"># address used for tunnels on this hypervisor to the IP found on the</span>
<span class="c1"># specified interface (for example, eth1).</span>
<span class="nv">CONFIG_NEUTRON_OVS_TUNNEL_IF</span><span class="o">=</span>

<span class="c1"># Comma-separated list of subnets (for example,</span>
<span class="c1"># 192.168.10.0/24,192.168.11.0/24) used for sending tunneling packets.</span>
<span class="c1"># This is used to configure IP filtering to accept tunneling packets</span>
<span class="c1"># from these subnets instead of specific IP addresses of peer nodes.</span>
<span class="c1"># This is useful when you add existing nodes to EXCLUDE_SERVERS</span>
<span class="c1"># because, in this case, packstack cannot modify the IP filtering of</span>
<span class="c1"># the existing nodes.</span>
<span class="nv">CONFIG_NEUTRON_OVS_TUNNEL_SUBNETS</span><span class="o">=</span>

<span class="c1"># VXLAN UDP port.</span>
<span class="nv">CONFIG_NEUTRON_OVS_VXLAN_UDP_PORT</span><span class="o">=</span><span class="m">4789</span>

<span class="c1"># Comma-separated list of bridge mappings for the OpenStack</span>
<span class="c1"># Networking Open Virtual Network plugin. Each tuple in the list must</span>
<span class="c1"># be in the format &lt;physical_network&gt;:&lt;ovs_bridge&gt;. Example: physnet1</span>
<span class="c1"># :br-eth1,physnet2:br-eth2,physnet3:br-eth3</span>
<span class="nv">CONFIG_NEUTRON_OVN_BRIDGE_MAPPINGS</span><span class="o">=</span>extnet:br-ex

<span class="c1"># Comma-separated list of colon-separated Open vSwitch</span>
<span class="c1"># &lt;bridge&gt;:&lt;interface&gt; pairs. The interface will be added to the</span>
<span class="c1"># associated bridge. If you desire the bridge to be persistent a value</span>
<span class="c1"># must be added to this directive, also</span>
<span class="c1"># CONFIG_NEUTRON_OVN_BRIDGE_MAPPINGS must be set in order to create</span>
<span class="c1"># the proper port. This can be achieved from the command line by</span>
<span class="c1"># issuing the following command: packstack --allinone --os-neutron-</span>
<span class="c1"># ovn-bridge-mappings=ext-net:br-ex --os-neutron-ovn-bridge-interfaces</span>
<span class="c1"># =br-ex:eth0</span>
<span class="nv">CONFIG_NEUTRON_OVN_BRIDGE_IFACES</span><span class="o">=</span>

<span class="c1"># Comma-separated list of Open vSwitch bridges that must be created</span>
<span class="c1"># and connected to interfaces in compute nodes when flat or vlan type</span>
<span class="c1"># drivers are enabled. These bridges must exist in</span>
<span class="c1"># CONFIG_NEUTRON_OVN_BRIDGE_MAPPINGS and</span>
<span class="c1"># CONFIG_NEUTRON_OVN_BRIDGE_IFACES. Example: --os-neutron-ovn-bridges-</span>
<span class="c1"># compute=br-vlan --os-neutron-ovn-bridge-mappings=&quot;extnet:br-</span>
<span class="c1"># ex,physnet1:br-vlan&quot; --os-neutron-ovn-bridge-interfaces=&quot;br-ex:eth1</span>
<span class="c1"># ,br-vlan:eth2&quot;</span>
<span class="nv">CONFIG_NEUTRON_OVN_BRIDGES_COMPUTE</span><span class="o">=</span>

<span class="c1"># Name of physical network used for external network when enabling</span>
<span class="c1"># CONFIG_PROVISION_DEMO. Name must be one of the included in</span>
<span class="c1"># CONFIG_NEUTRON_OVN_BRIDGE_MAPPINGS. Example: --os-neutron-ovn-</span>
<span class="c1"># bridge-mappings=&quot;extnet:br-ex,physnet1:br-vlan&quot; --os-neutron-ovn-</span>
<span class="c1"># bridge-interfaces=&quot;br-ex:eth1,br-vlan:eth2&quot; --os-neutron-ovn-</span>
<span class="c1"># external-physnet=&quot;extnet&quot;</span>
<span class="nv">CONFIG_NEUTRON_OVN_EXTERNAL_PHYSNET</span><span class="o">=</span>extnet

<span class="c1"># Interface for the Open vSwitch tunnel. Packstack overrides the IP</span>
<span class="c1"># address used for tunnels on this hypervisor to the IP found on the</span>
<span class="c1"># specified interface (for example, eth1).</span>
<span class="nv">CONFIG_NEUTRON_OVN_TUNNEL_IF</span><span class="o">=</span>

<span class="c1"># Comma-separated list of subnets (for example,</span>
<span class="c1"># 192.168.10.0/24,192.168.11.0/24) used for sending tunneling packets.</span>
<span class="c1"># This is used to configure IP filtering to accept tunneling packets</span>
<span class="c1"># from these subnets instead of specific IP addresses of peer nodes.</span>
<span class="c1"># This is useful when you add existing nodes to EXCLUDE_SERVERS</span>
<span class="c1"># because, in this case, packstack cannot modify the IP filtering of</span>
<span class="c1"># the existing nodes.</span>
<span class="nv">CONFIG_NEUTRON_OVN_TUNNEL_SUBNETS</span><span class="o">=</span>

<span class="c1"># Password to use for the OpenStack File Share service (manila) to</span>
<span class="c1"># access the database.</span>
<span class="nv">CONFIG_MANILA_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for the OpenStack File Share service (manila) to</span>
<span class="c1"># authenticate with the Identity service.</span>
<span class="nv">CONFIG_MANILA_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Backend for the OpenStack File Share service (manila); valid</span>
<span class="c1"># options are: generic, netapp, glusternative, or glusternfs.</span>
<span class="c1"># [&#39;generic&#39;, &#39;netapp&#39;, &#39;glusternative&#39;, &#39;glusternfs&#39;]</span>
<span class="nv">CONFIG_MANILA_BACKEND</span><span class="o">=</span>generic

<span class="c1"># Denotes whether the driver should handle the responsibility of</span>
<span class="c1"># managing share servers. This must be set to false if the driver is</span>
<span class="c1"># to operate without managing share servers. Defaults to &#39;false&#39;</span>
<span class="c1"># [&#39;true&#39;, &#39;false&#39;]</span>
<span class="nv">CONFIG_MANILA_NETAPP_DRV_HANDLES_SHARE_SERVERS</span><span class="o">=</span><span class="nb">false</span>

<span class="c1"># The transport protocol used when communicating with the storage</span>
<span class="c1"># system or proxy server. Valid values are &#39;http&#39; and &#39;https&#39;.</span>
<span class="c1"># Defaults to &#39;https&#39;. [&#39;https&#39;, &#39;http&#39;]</span>
<span class="nv">CONFIG_MANILA_NETAPP_TRANSPORT_TYPE</span><span class="o">=</span>https

<span class="c1"># Administrative user account name used to access the NetApp storage</span>
<span class="c1"># system.  Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_LOGIN</span><span class="o">=</span>admin

<span class="c1"># Password for the NetApp administrative user account specified in</span>
<span class="c1"># the CONFIG_MANILA_NETAPP_LOGIN parameter. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_PASSWORD</span><span class="o">=</span>

<span class="c1"># Hostname (or IP address) for the NetApp storage system or proxy</span>
<span class="c1"># server. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_SERVER_HOSTNAME</span><span class="o">=</span>

<span class="c1"># The storage family type used on the storage system; valid values</span>
<span class="c1"># are ontap_cluster for clustered Data ONTAP. Defaults to</span>
<span class="c1"># &#39;ontap_cluster&#39;. [&#39;ontap_cluster&#39;]</span>
<span class="nv">CONFIG_MANILA_NETAPP_STORAGE_FAMILY</span><span class="o">=</span>ontap_cluster

<span class="c1"># The TCP port to use for communication with the storage system or</span>
<span class="c1"># proxy server. If not specified, Data ONTAP drivers will use 80 for</span>
<span class="c1"># HTTP and 443 for HTTPS. Defaults to &#39;443&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_SERVER_PORT</span><span class="o">=</span><span class="m">443</span>

<span class="c1"># Pattern for searching available aggregates for NetApp provisioning.</span>
<span class="c1"># Defaults to &#39;(.*)&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_AGGREGATE_NAME_SEARCH_PATTERN</span><span class="o">=(</span>.*<span class="o">)</span>

<span class="c1"># Name of aggregate on which to create the NetApp root volume. This</span>
<span class="c1"># option only applies when the option</span>
<span class="c1"># CONFIG_MANILA_NETAPP_DRV_HANDLES_SHARE_SERVERS is set to True.</span>
<span class="nv">CONFIG_MANILA_NETAPP_ROOT_VOLUME_AGGREGATE</span><span class="o">=</span>

<span class="c1"># NetApp root volume name. Defaults to &#39;root&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_ROOT_VOLUME_NAME</span><span class="o">=</span>root

<span class="c1"># This option specifies the storage virtual machine (previously</span>
<span class="c1"># called a Vserver) name on the storage cluster on which provisioning</span>
<span class="c1"># of shared file systems should occur. This option only applies when</span>
<span class="c1"># the option driver_handles_share_servers is set to False. Defaults to</span>
<span class="c1"># &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETAPP_VSERVER</span><span class="o">=</span>

<span class="c1"># Denotes whether the driver should handle the responsibility of</span>
<span class="c1"># managing share servers. This must be set to false if the driver is</span>
<span class="c1"># to operate without managing share servers. Defaults to &#39;true&#39;.</span>
<span class="c1"># [&#39;true&#39;, &#39;false&#39;]</span>
<span class="nv">CONFIG_MANILA_GENERIC_DRV_HANDLES_SHARE_SERVERS</span><span class="o">=</span><span class="nb">true</span>

<span class="c1"># Volume name template for Manila service. Defaults to &#39;manila-</span>
<span class="c1"># share-%s&#39;.</span>
<span class="nv">CONFIG_MANILA_GENERIC_VOLUME_NAME_TEMPLATE</span><span class="o">=</span>manila-share-%s

<span class="c1"># Share mount path for Manila service. Defaults to &#39;/shares&#39;.</span>
<span class="nv">CONFIG_MANILA_GENERIC_SHARE_MOUNT_PATH</span><span class="o">=</span>/shares

<span class="c1"># Location of disk image for Manila service instance. Defaults to &#39;</span>
<span class="nv">CONFIG_MANILA_SERVICE_IMAGE_LOCATION</span><span class="o">=</span>https://www.dropbox.com/s/vi5oeh10q1qkckh/ubuntu_1204_nfs_cifs.qcow2

<span class="c1"># User in Manila service instance.</span>
<span class="nv">CONFIG_MANILA_SERVICE_INSTANCE_USER</span><span class="o">=</span>ubuntu

<span class="c1"># Password to service instance user.</span>
<span class="nv">CONFIG_MANILA_SERVICE_INSTANCE_PASSWORD</span><span class="o">=</span>ubuntu

<span class="c1"># Type of networking that the backend will use. A more detailed</span>
<span class="c1"># description of each option is available in the Manila docs. Defaults</span>
<span class="c1"># to &#39;neutron&#39;. [&#39;neutron&#39;, &#39;nova-network&#39;, &#39;standalone&#39;]</span>
<span class="nv">CONFIG_MANILA_NETWORK_TYPE</span><span class="o">=</span>neutron

<span class="c1"># Gateway IPv4 address that should be used. Required. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETWORK_STANDALONE_GATEWAY</span><span class="o">=</span>

<span class="c1"># Network mask that will be used. Can be either decimal like &#39;24&#39; or</span>
<span class="c1"># binary like &#39;255.255.255.0&#39;. Required. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETWORK_STANDALONE_NETMASK</span><span class="o">=</span>

<span class="c1"># Set it if network has segmentation (VLAN, VXLAN, etc). It will be</span>
<span class="c1"># assigned to share-network and share drivers will be able to use this</span>
<span class="c1"># for network interfaces within provisioned share servers. Optional.</span>
<span class="c1"># Example: 1001. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETWORK_STANDALONE_SEG_ID</span><span class="o">=</span>

<span class="c1"># Can be IP address, range of IP addresses or list of addresses or</span>
<span class="c1"># ranges. Contains addresses from IP network that are allowed to be</span>
<span class="c1"># used. If empty, then will be assumed that all host addresses from</span>
<span class="c1"># network can be used. Optional. Examples: 10.0.0.10 or</span>
<span class="c1"># 10.0.0.10-10.0.0.20 or</span>
<span class="c1"># 10.0.0.10-10.0.0.20,10.0.0.30-10.0.0.40,10.0.0.50. Defaults to &#39;&#39;.</span>
<span class="nv">CONFIG_MANILA_NETWORK_STANDALONE_IP_RANGE</span><span class="o">=</span>

<span class="c1"># IP version of network. Optional. Defaults to &#39;4&#39;. [&#39;4&#39;, &#39;6&#39;]</span>
<span class="nv">CONFIG_MANILA_NETWORK_STANDALONE_IP_VERSION</span><span class="o">=</span><span class="m">4</span>

<span class="c1"># List of GlusterFS servers that can be used to create shares. Each</span>
<span class="c1"># GlusterFS server should be of the form [remoteuser@]&lt;volserver&gt;, and</span>
<span class="c1"># they are assumed to belong to distinct Gluster clusters.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_SERVERS</span><span class="o">=</span>

<span class="c1"># Path of Manila host&#39;s private SSH key file.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_NATIVE_PATH_TO_PRIVATE_KEY</span><span class="o">=</span>

<span class="c1"># Regular expression template used to filter GlusterFS volumes for</span>
<span class="c1"># share creation. The regex template can optionally (ie. with support</span>
<span class="c1"># of the GlusterFS backend) contain the #{size} parameter which</span>
<span class="c1"># matches an integer (sequence of digits) in which case the value</span>
<span class="c1"># shall be intepreted as size of the volume in GB. Examples: &quot;manila-</span>
<span class="c1"># share-volume-d+$&quot;, &quot;manila-share-volume-#{size}G-d+$&quot;; with matching</span>
<span class="c1"># volume names, respectively: &quot;manila-share-volume-12&quot;, &quot;manila-share-</span>
<span class="c1"># volume-3G-13&quot;. In latter example, the number that matches &quot;#{size}&quot;,</span>
<span class="c1"># that is, 3, is an indication that the size of volume is 3G.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_VOLUME_PATTERN</span><span class="o">=</span>

<span class="c1"># Specifies the GlusterFS volume to be mounted on the Manila host.</span>
<span class="c1"># For e.g: [remoteuser@]&lt;volserver&gt;:/&lt;volid&gt;</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_TARGET</span><span class="o">=</span>

<span class="c1"># Base directory containing mount points for Gluster volumes.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_MOUNT_POINT_BASE</span><span class="o">=</span>

<span class="c1"># Type of NFS server that mediate access to the Gluster volumes</span>
<span class="c1"># (Gluster or Ganesha).</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_NFS_SERVER_TYPE</span><span class="o">=</span>gluster

<span class="c1"># Path of Manila host&#39;s private SSH key file.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_PATH_TO_PRIVATE_KEY</span><span class="o">=</span>

<span class="c1"># Remote Ganesha server node&#39;s IP address.</span>
<span class="nv">CONFIG_MANILA_GLUSTERFS_GANESHA_SERVER_IP</span><span class="o">=</span>

<span class="c1"># Specify &#39;y&#39; to set up Horizon communication over https. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_HORIZON_SSL</span><span class="o">=</span>n

<span class="c1"># Secret key to use for Horizon Secret Encryption Key.</span>
<span class="nv">CONFIG_HORIZON_SECRET_KEY</span><span class="o">=</span>344bf1addd2d49c0beab4b659bf0e55f

<span class="c1"># PEM-encoded certificate to be used for SSL connections on the https</span>
<span class="c1"># server. To generate a certificate, leave blank.</span>
<span class="nv">CONFIG_HORIZON_SSL_CERT</span><span class="o">=</span>

<span class="c1"># SSL keyfile corresponding to the certificate if one was specified.</span>
<span class="c1"># The certificate should not require a passphrase.</span>
<span class="nv">CONFIG_HORIZON_SSL_KEY</span><span class="o">=</span>

<span class="nv">CONFIG_HORIZON_SSL_CACERT</span><span class="o">=</span>

<span class="c1"># Password to use for the Object Storage service to authenticate with</span>
<span class="c1"># the Identity service.</span>
<span class="nv">CONFIG_SWIFT_KS_PW</span><span class="o">=</span>7e9cb3e48d014ad5

<span class="c1"># Comma-separated list of devices to use as storage device for Object</span>
<span class="c1"># Storage. Each entry must take the format /path/to/dev (for example,</span>
<span class="c1"># specifying /dev/vdb installs /dev/vdb as the Object Storage storage</span>
<span class="c1"># device; Packstack does not create the filesystem, you must do this</span>
<span class="c1"># first). If left empty, Packstack creates a loopback device for test</span>
<span class="c1"># setup.</span>
<span class="nv">CONFIG_SWIFT_STORAGES</span><span class="o">=</span>

<span class="c1"># Number of Object Storage storage zones; this number MUST be no</span>
<span class="c1"># larger than the number of configured storage devices.</span>
<span class="nv">CONFIG_SWIFT_STORAGE_ZONES</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Number of Object Storage storage replicas; this number MUST be no</span>
<span class="c1"># larger than the number of configured storage zones.</span>
<span class="nv">CONFIG_SWIFT_STORAGE_REPLICAS</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># File system type for storage nodes. [&#39;xfs&#39;, &#39;ext4&#39;]</span>
<span class="nv">CONFIG_SWIFT_STORAGE_FSTYPE</span><span class="o">=</span>ext4

<span class="c1"># Custom seed number to use for swift_hash_path_suffix in</span>
<span class="c1"># /etc/swift/swift.conf. If you do not provide a value, a seed number</span>
<span class="c1"># is automatically generated.</span>
<span class="nv">CONFIG_SWIFT_HASH</span><span class="o">=</span>4fa03e02fd9240ec

<span class="c1"># Size of the Object Storage loopback file storage device.</span>
<span class="nv">CONFIG_SWIFT_STORAGE_SIZE</span><span class="o">=</span>2G

<span class="c1"># Password used by Orchestration service user to authenticate against</span>
<span class="c1"># the database.</span>
<span class="nv">CONFIG_HEAT_DB_PW</span><span class="o">=</span>bca90ad488604f3f

<span class="c1"># Encryption key to use for authentication in the Orchestration</span>
<span class="c1"># database (16, 24, or 32 chars).</span>
<span class="nv">CONFIG_HEAT_AUTH_ENC_KEY</span><span class="o">=</span>43c886595fec4dfa

<span class="c1"># Password to use for the Orchestration service to authenticate with</span>
<span class="c1"># the Identity service.</span>
<span class="nv">CONFIG_HEAT_KS_PW</span><span class="o">=</span>3d68fd66259c41ee

<span class="c1"># Specify &#39;y&#39; to install the Orchestration CloudFormation API. [&#39;y&#39;,</span>
<span class="c1"># &#39;n&#39;]</span>
<span class="nv">CONFIG_HEAT_CFN_INSTALL</span><span class="o">=</span>y

<span class="c1"># Name of the Identity domain for Orchestration.</span>
<span class="nv">CONFIG_HEAT_DOMAIN</span><span class="o">=</span>heat

<span class="c1"># Name of the Identity domain administrative user for Orchestration.</span>
<span class="nv">CONFIG_HEAT_DOMAIN_ADMIN</span><span class="o">=</span>heat_admin

<span class="c1"># Password for the Identity domain administrative user for</span>
<span class="c1"># Orchestration.</span>
<span class="nv">CONFIG_HEAT_DOMAIN_PASSWORD</span><span class="o">=</span>3435199bed7c4095

<span class="c1"># Specify &#39;y&#39; to provision for demo usage and testing. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_PROVISION_DEMO</span><span class="o">=</span>y

<span class="c1"># Specify &#39;y&#39; to configure the OpenStack Integration Test Suite</span>
<span class="c1"># (tempest) for testing. The test suite requires OpenStack Networking</span>
<span class="c1"># to be installed. [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_PROVISION_TEMPEST</span><span class="o">=</span>n

<span class="c1"># CIDR network address for the floating IP subnet.</span>
<span class="nv">CONFIG_PROVISION_DEMO_FLOATRANGE</span><span class="o">=</span><span class="m">172</span>.24.4.0/24

<span class="c1"># Allocation pools in the floating IP subnet.</span>
<span class="nv">CONFIG_PROVISION_DEMO_ALLOCATION_POOLS</span><span class="o">=[]</span>

<span class="c1"># The name to be assigned to the demo image in Glance (default</span>
<span class="c1"># &quot;cirros&quot;).</span>
<span class="nv">CONFIG_PROVISION_IMAGE_NAME</span><span class="o">=</span>cirros

<span class="c1"># A URL or local file location for an image to download and provision</span>
<span class="c1"># in Glance (defaults to a URL for a recent &quot;cirros&quot; image).</span>
<span class="nv">CONFIG_PROVISION_IMAGE_URL</span><span class="o">=</span>http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img

<span class="c1"># Format for the demo image (default &quot;qcow2&quot;).</span>
<span class="nv">CONFIG_PROVISION_IMAGE_FORMAT</span><span class="o">=</span>qcow2

<span class="c1"># Properties of the demo image (none by default).</span>
<span class="nv">CONFIG_PROVISION_IMAGE_PROPERTIES</span><span class="o">=</span>

<span class="c1"># User to use when connecting to instances booted from the demo</span>
<span class="c1"># image.</span>
<span class="nv">CONFIG_PROVISION_IMAGE_SSH_USER</span><span class="o">=</span>cirros

<span class="c1"># Name of the uec image created in Glance used in tempest tests</span>
<span class="c1"># (default &quot;cirros-uec&quot;).</span>
<span class="nv">CONFIG_PROVISION_UEC_IMAGE_NAME</span><span class="o">=</span>cirros-uec

<span class="c1"># URL of the kernel image copied to Glance image for uec image</span>
<span class="c1"># (defaults to a URL for a recent &quot;cirros&quot; uec image).</span>
<span class="nv">CONFIG_PROVISION_UEC_IMAGE_KERNEL_URL</span><span class="o">=</span>http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-kernel

<span class="c1"># URL of the ramdisk image copied to Glance image for uec image</span>
<span class="c1"># (defaults to a URL for a recent &quot;cirros&quot; uec image).</span>
<span class="nv">CONFIG_PROVISION_UEC_IMAGE_RAMDISK_URL</span><span class="o">=</span>http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-initramfs

<span class="c1"># URL of the disk image copied to Glance image for uec image</span>
<span class="c1"># (defaults to a URL for a recent &quot;cirros&quot; uec image).</span>
<span class="nv">CONFIG_PROVISION_UEC_IMAGE_DISK_URL</span><span class="o">=</span>http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img

<span class="nv">CONFIG_TEMPEST_HOST</span><span class="o">=</span>

<span class="c1"># Name of the Integration Test Suite provisioning user. If you do not</span>
<span class="c1"># provide a user name, Tempest is configured in a standalone mode.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_USER</span><span class="o">=</span>

<span class="c1"># Password to use for the Integration Test Suite provisioning user.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_USER_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># CIDR network address for the floating IP subnet.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLOATRANGE</span><span class="o">=</span><span class="m">172</span>.24.4.0/24

<span class="c1"># Primary flavor name to use in Tempest.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_NAME</span><span class="o">=</span>m1.nano

<span class="c1"># Primary flavor&#39;s disk quota in Gb.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_DISK</span><span class="o">=</span><span class="m">0</span>

<span class="c1"># Primary flavor&#39;s ram in Mb.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_RAM</span><span class="o">=</span><span class="m">128</span>

<span class="c1"># Primary flavor&#39;s vcpus number.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_VCPUS</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Alternative flavor name to use in Tempest.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_ALT_NAME</span><span class="o">=</span>m1.micro

<span class="c1"># Alternative flavor&#39;s disk quota in Gb.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_ALT_DISK</span><span class="o">=</span><span class="m">0</span>

<span class="c1"># Alternative flavor&#39;s ram in Mb.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_ALT_RAM</span><span class="o">=</span><span class="m">128</span>

<span class="c1"># Alternative flavor&#39;s vcpus number.</span>
<span class="nv">CONFIG_PROVISION_TEMPEST_FLAVOR_ALT_VCPUS</span><span class="o">=</span><span class="m">1</span>

<span class="c1"># Specify &#39;y&#39; to run Tempest smoke test as last step of installation.</span>
<span class="nv">CONFIG_RUN_TEMPEST</span><span class="o">=</span>n

<span class="c1"># Test suites to run, example: &quot;smoke dashboard TelemetryAlarming&quot;.</span>
<span class="c1"># Optional, defaults to &quot;smoke&quot;.</span>
<span class="nv">CONFIG_RUN_TEMPEST_TESTS</span><span class="o">=</span>smoke

<span class="c1"># Specify &#39;y&#39; to configure the Open vSwitch external bridge for an</span>
<span class="c1"># all-in-one deployment (the L3 external bridge acts as the gateway</span>
<span class="c1"># for virtual machines). [&#39;y&#39;, &#39;n&#39;]</span>
<span class="nv">CONFIG_PROVISION_OVS_BRIDGE</span><span class="o">=</span>y

<span class="c1"># Password to use for Gnocchi to access the database.</span>
<span class="nv">CONFIG_GNOCCHI_DB_PW</span><span class="o">=</span>6fb1d9e8bf884e37

<span class="c1"># Password to use for Gnocchi to authenticate with the Identity</span>
<span class="c1"># service.</span>
<span class="nv">CONFIG_GNOCCHI_KS_PW</span><span class="o">=</span>2818fec28de64c57

<span class="c1"># Secret key for signing Telemetry service (ceilometer) messages.</span>
<span class="nv">CONFIG_CEILOMETER_SECRET</span><span class="o">=</span>c26282c0fb404345

<span class="c1"># Password to use for Telemetry to authenticate with the Identity</span>
<span class="c1"># service.</span>
<span class="nv">CONFIG_CEILOMETER_KS_PW</span><span class="o">=</span>b1388b48ef6147f2

<span class="c1"># Ceilometer service name. [&#39;httpd&#39;, &#39;ceilometer&#39;]</span>
<span class="nv">CONFIG_CEILOMETER_SERVICE_NAME</span><span class="o">=</span>httpd

<span class="c1"># Backend driver for Telemetry&#39;s group membership coordination.</span>
<span class="c1"># [&#39;redis&#39;, &#39;none&#39;]</span>
<span class="nv">CONFIG_CEILOMETER_COORDINATION_BACKEND</span><span class="o">=</span>redis

<span class="c1"># Whether to enable ceilometer middleware in swift proxy. By default</span>
<span class="c1"># this should be false to avoid unnecessary load.</span>
<span class="nv">CONFIG_ENABLE_CEILOMETER_MIDDLEWARE</span><span class="o">=</span>n

<span class="c1"># IP address of the server on which to install the Redis server.</span>
<span class="nv">CONFIG_REDIS_HOST</span><span class="o">=</span><span class="m">10</span>.0.1.20

<span class="c1"># Port on which the Redis server listens.</span>
<span class="nv">CONFIG_REDIS_PORT</span><span class="o">=</span><span class="m">6379</span>

<span class="c1"># Password to use for Telemetry Alarming to authenticate with the</span>
<span class="c1"># Identity service.</span>
<span class="nv">CONFIG_AODH_KS_PW</span><span class="o">=</span>2c5c29bc887a4185

<span class="c1"># Password to use for Telemetry Alarming (AODH) to access the</span>
<span class="c1"># database.</span>
<span class="nv">CONFIG_AODH_DB_PW</span><span class="o">=</span>dda2cdf3fbd64ff6

<span class="c1"># Password to use for Panko to access the database.</span>
<span class="nv">CONFIG_PANKO_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for Panko to authenticate with the Identity</span>
<span class="c1"># service.</span>
<span class="nv">CONFIG_PANKO_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for OpenStack Database-as-a-Service (trove) to</span>
<span class="c1"># access the database.</span>
<span class="nv">CONFIG_TROVE_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for OpenStack Database-as-a-Service to authenticate</span>
<span class="c1"># with the Identity service.</span>
<span class="nv">CONFIG_TROVE_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># User name to use when OpenStack Database-as-a-Service connects to</span>
<span class="c1"># the Compute service.</span>
<span class="nv">CONFIG_TROVE_NOVA_USER</span><span class="o">=</span>trove

<span class="c1"># Tenant to use when OpenStack Database-as-a-Service connects to the</span>
<span class="c1"># Compute service.</span>
<span class="nv">CONFIG_TROVE_NOVA_TENANT</span><span class="o">=</span>services

<span class="c1"># Password to use when OpenStack Database-as-a-Service connects to</span>
<span class="c1"># the Compute service.</span>
<span class="nv">CONFIG_TROVE_NOVA_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for OpenStack Data Processing (sahara) to access</span>
<span class="c1"># the database.</span>
<span class="nv">CONFIG_SAHARA_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for OpenStack Data Processing to authenticate with</span>
<span class="c1"># the Identity service.</span>
<span class="nv">CONFIG_SAHARA_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for the Magnum to access the database.</span>
<span class="nv">CONFIG_MAGNUM_DB_PW</span><span class="o">=</span>PW_PLACEHOLDER

<span class="c1"># Password to use for the Magnum to authenticate with the Identity</span>
<span class="c1"># service.</span>
<span class="nv">CONFIG_MAGNUM_KS_PW</span><span class="o">=</span>PW_PLACEHOLDER
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="packstack-multinode-deploy-packstack-virtualbox.html" class="btn btn-neutral float-right" title="Despliegue de OpenStack con Packstack y VirtualBox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="packstack-singlenode-deploy-packstack-virtualbox-vagrant.html" class="btn btn-neutral float-left" title="Despliegue de OpenStack Singlenode con Packstack, VirtualBox y Vagrant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gabriel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>